{"version":3,"sources":["webpack:///./src/components/JobPanel.vue?4779","webpack:///./src/components/openlayers/progress.js","webpack:///src/components/MapMixin.vue","webpack:///./src/components/MapMixin.vue","webpack:///./src/components/MapMixin.vue?a8d9","webpack:///./src/components/TextEditor.vue?c1a1","webpack:///src/components/TextEditor.vue","webpack:///./src/components/TextEditor.vue?0cd4","webpack:///./src/components/TextEditor.vue","webpack:///./src/components/Viewer.vue?a0ff","webpack:///./src/components/CustomProcessPanel.vue?df05","webpack:///./src/components/datatypes/MapAreaSelect.vue?bf45","webpack:///./src/components/ParameterDataTypes.vue?bfcf","webpack:///./src/components/IDE.vue?60ab","webpack:///./src/components/datatypes/ObjectEditor.vue?eaaa","webpack:///./src/components/blocks/Block.vue?629b","webpack:///./src/components/ParameterDataTypes.vue?8d92","webpack:///./src/components/jsonSchema.js","webpack:///./src/components/ParameterDataType.vue?e6d5","webpack:///./src/components/datatypes/ObjectEditor.vue?ac39","webpack:///src/components/datatypes/ObjectEditor.vue","webpack:///./src/components/datatypes/ObjectEditor.vue?8471","webpack:///./src/components/datatypes/ObjectEditor.vue","webpack:///./src/components/datatypes/Budget.vue?380b","webpack:///src/components/datatypes/Budget.vue","webpack:///./src/components/datatypes/Budget.vue?7f4a","webpack:///./src/components/datatypes/Budget.vue","webpack:///./src/components/datatypes/MapAreaSelect.vue?2001","webpack:///./src/components/openlayers/areaselect.js","webpack:///src/components/datatypes/MapAreaSelect.vue","webpack:///./src/components/datatypes/MapAreaSelect.vue?aa35","webpack:///./src/components/datatypes/MapAreaSelect.vue","webpack:///./src/components/datatypes/MapGeoJsonEditor.vue?da32","webpack:///src/components/datatypes/MapGeoJsonEditor.vue","webpack:///./src/components/datatypes/MapGeoJsonEditor.vue?12ec","webpack:///./src/components/datatypes/MapGeoJsonEditor.vue","webpack:///src/components/ParameterDataType.vue","webpack:///./src/components/ParameterDataType.vue?6989","webpack:///./src/components/ParameterDataType.vue","webpack:///src/components/ParameterDataTypes.vue","webpack:///./src/components/ParameterDataTypes.vue?a232","webpack:///./src/components/ParameterDataTypes.vue","webpack:///./src/components/TextEditor.vue?4500","webpack:///./src/components/VisualEditor.vue?dd46","webpack:///./src/components/FullscreenButton.vue?7c0c","webpack:///src/components/FullscreenButton.vue","webpack:///./src/components/FullscreenButton.vue?37eb","webpack:///./src/components/FullscreenButton.vue","webpack:///./src/components/modals/ParameterModal.vue?0163","webpack:///./src/components/blocks/Blocks.vue?75fc","webpack:///./src/components/DiscoveryToolbar.vue?5326","webpack:///./src/components/blocks/BlockParameter.vue?488d","webpack:///./src/components/DataViewer.vue?d5e2","webpack:///./src/components/FullscreenButton.vue?d0d2","webpack:///./src/components/ServicePanel.vue?e8fe","webpack:///./src/components/ParameterDataType.vue?9c8d","webpack:///./src/components/MapMixin.css?df6f","webpack:///./src/components/FilePanel.vue?5425","webpack:///./src/components/MapViewer.vue?0e13","webpack:///src/components/MapViewer.vue","webpack:///./src/components/MapViewer.vue?8175","webpack:///./src/components/MapViewer.vue","webpack:///./src/components/UserMenu.vue?2fd7","webpack:///./src/components/ImageViewer.vue?c941","webpack:///./src/components/modals/ParameterModal.vue?914f","webpack:///./src/components/Editor.vue?93fe","webpack:///./src/components/UserWorkspace.vue?b535","webpack:///./src/components/modals/ParameterModal.vue?0213","webpack:///src/components/modals/ParameterModal.vue","webpack:///./src/components/modals/ParameterModal.vue?6861","webpack:///./src/components/modals/ParameterModal.vue","webpack:///./src/components/LogViewer.vue?1bde","webpack:///./src/components/DiscoveryToolbar.vue?8b94","webpack:///src/components/DiscoveryToolbar.vue","webpack:///./src/components/DiscoveryToolbar.vue?7de2","webpack:///./src/components/DiscoveryToolbar.vue","webpack:///./src/components/TextEditor.vue?2487","webpack:///./src/components/Editor.vue?bb39","webpack:///./src/components/VisualEditor.vue?8553","webpack:///./src/components/blocks/Blocks.vue?f490","webpack:///./src/components/blocks/Block.vue?8697","webpack:///./src/components/blocks/BlockParameter.vue?fa2e","webpack:///src/components/blocks/BlockParameter.vue","webpack:///./src/components/blocks/BlockParameter.vue?06c4","webpack:///./src/components/blocks/BlockParameter.vue","webpack:///src/components/blocks/Block.vue","webpack:///./src/components/blocks/Block.vue?00b2","webpack:///./src/components/blocks/Block.vue","webpack:///./src/components/blocks/Edge.vue?afad","webpack:///./src/components/blocks/segment.js","webpack:///src/components/blocks/Edge.vue","webpack:///./src/components/blocks/Edge.vue?1194","webpack:///./src/components/blocks/Edge.vue","webpack:///src/components/blocks/Blocks.vue","webpack:///./src/components/blocks/Blocks.vue?3151","webpack:///./src/components/blocks/Blocks.vue","webpack:///src/components/VisualEditor.vue","webpack:///./src/components/VisualEditor.vue?134a","webpack:///./src/components/VisualEditor.vue","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?d346","webpack:///./src/components/Editor.vue","webpack:///./src/components/DiscoveryToolbar.vue?3ac3","webpack:///./src/components/blocks/BlockParameter.vue?3096","webpack:///./src/components/IDE.vue?3c6a","webpack:///./src/components/UserMenu.vue?72cd","webpack:///src/components/UserMenu.vue","webpack:///./src/components/UserMenu.vue?35d8","webpack:///./src/components/UserMenu.vue","webpack:///./src/components/UserWorkspace.vue?935d","webpack:///./src/components/FilePanel.vue?527c","webpack:///./src/components/WorkPanelMixin.js","webpack:///src/components/FilePanel.vue","webpack:///./src/components/FilePanel.vue?8a78","webpack:///./src/components/FilePanel.vue","webpack:///./src/components/JobPanel.vue?00e9","webpack:///src/components/JobPanel.vue","webpack:///./src/components/JobPanel.vue?9424","webpack:///./src/components/JobPanel.vue","webpack:///./src/components/CustomProcessPanel.vue?65e7","webpack:///src/components/CustomProcessPanel.vue","webpack:///./src/components/CustomProcessPanel.vue?af32","webpack:///./src/components/CustomProcessPanel.vue","webpack:///./src/components/ServicePanel.vue?161f","webpack:///src/components/ServicePanel.vue","webpack:///./src/components/ServicePanel.vue?f120","webpack:///./src/components/ServicePanel.vue","webpack:///src/components/UserWorkspace.vue","webpack:///./src/components/UserWorkspace.vue?d1b3","webpack:///./src/components/UserWorkspace.vue","webpack:///./src/components/Viewer.vue?08b3","webpack:///./src/components/DataViewer.vue?77f6","webpack:///src/components/DataViewer.vue","webpack:///./src/components/DataViewer.vue?a2c1","webpack:///./src/components/DataViewer.vue","webpack:///./src/components/ImageViewer.vue?4d22","webpack:///src/components/ImageViewer.vue","webpack:///./src/components/ImageViewer.vue?9930","webpack:///./src/components/ImageViewer.vue","webpack:///./src/components/LogViewer.vue?af87","webpack:///src/components/LogViewer.vue","webpack:///./src/components/LogViewer.vue?1a63","webpack:///./src/components/LogViewer.vue","webpack:///src/components/Viewer.vue","webpack:///./src/components/Viewer.vue?da21","webpack:///./src/components/Viewer.vue","webpack:///src/components/IDE.vue","webpack:///./src/components/IDE.vue?b20d","webpack:///./src/components/IDE.vue"],"names":["Progress","constructor","this","createHtml","loading","loaded","addLoading","update","addLoaded","percent","toFixed","label","innerText","progressBarInner","style","width","el","opacity","show","document","createElement","className","progressBar","appendChild","getControl","c","Control","element","render","staticRenderFns","component","_vm","_h","$createElement","_c","_self","staticClass","class","languageString","_v","_s","title","_e","attrs","on","confirmClear","_t","canUndo","$event","editor","undo","canRedo","redo","$el","id","window","jsonlint","editable","domProps","selectedType","onSelectType","groupedAllowedTypes","length","_l","group","key","name","type","dataType","_f","isItem","selectedSchema","description","parameter","processId","context","parent","setSelected","model","value","callback","$$v","state","expression","instance","JsonSchema","JsonSchemaValidator","store","super","setFileFormats","getters","fileFormats","data","dispatch","epsgCodes","ajv","ValidationError","message","collections","filter","match","udfRuntimes","Versions","validate","from_node","nativeParameterType","convertToArray","from_parameter","schema","dependency","onSelectDetails","processParameters","editorDefaultValue","ref","directives","rawName","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$i","concat","slice","modifiers","numericMin","numericMax","numericStep","composing","_n","$forceUpdate","nativeType","this$1","array","isObject","object","add","elements","e","k","$set","elementSchema","remove","hasBudget","max","amount","capabilities","currency","AreaSelect","map","height","size","getSize","moving","interactionListener","createElements","addControls","setInteractionListener","listener","getBounds","asArray","topRight","bottomLeft","Math","round","sw","toLonLat","getCoordinateFromPixel","ne","west","south","east","north","setBounds","bounds","Utils","extentToBBox","ws","fromLonLat","en","fitOptions","getPixelFromCoordinate","Number","parseInt","abs","padding","getView","fit","tag","classNames","elem","overlayContainer","getOverlayContainer","topShade","bottomShade","leftShade","rightShade","nwHandle","swHandle","neHandle","seHandle","setUpHandlerEvents","onInteraction","handle","xMod","yMod","onMouseMove","event","pageX","pageY","min","mapElem","getTargetElement","htmlElem","querySelector","onMouseUp","removeEventListener","addEventListener","stopPropagation","topBottomHeight","leftRightWidth","setElementDimensions","top","left","bottom","right","handleOffset","offsetWidth","dimension","addControl","API_TYPES","TYPE_GROUPS","now","Date","toISOString","replace","NATIVE_TYPES","SUPPORTED_TYPES","isFullscreen","toggleFullscreen","scopedSlots","_u","fn","editableFields","preventDefault","save","apply","arguments","param","fieldLabel","highlight","selectParameter","displayLabel","optional","refInFor","updateType","values","deleteParam","staticStyle","proxy","saveCallback","searchTerm","collapsed","item","supportsLoadCollection","onDrag","showCollectionInfo","insertCollection","processes","showProcessInfo","native","summary","insertProcess","supportsRunUdf","runtime","identifier","version","default","showUdfInfo","insertUdf","supportsSaveResult","showFileFormatInfo","insertFileFormat","canSwitchView","showModel","pgParameters","modelValue","showDiscoveryToolbar","defaultValue","commit","onError","showCode","codeValue","$refs","blocks","hasSelection","deleteSelected","addParameter","highlightFormula","isMath","showExpressionModal","compactMode","toggleCompact","perfectScale","visualEditor","enabled","isFullScreen","onDrop","allowDrop","processRegistry","errorHandler","emit","showSchemaModal","openParameterEditor","compact","selectionChanged","historyChanged","supportsMath","insertNodes","onMouseDown","onMouseWheel","onKeyDown","edge","_b","parameter1","parameter2","position1","position2","linkingLine","selectRect","block","spec","selected","parameterRemoved","mountBlock","unmountBlock","startDragBlock","refreshEdges","containerClasses","indexOf","_k","keyCode","button","emitDrag","plainTitle","focus","allowsComment","hasComment","addComment","showInfo","showParameters","i","edgesChanged","args","outputLabel","output","updateComment","comment","_g","classes","listeners","circleClasses","circleListeners","displayValue","defaultFontSize","line","Segment","x","y","dx","dy","distance","point1","point2","sqrt","pow","distanceP","point","normal","intersection","alpha","other","a","b","d","b0","b1","det","r1","r2","getDefaultState","MARGIN","selectionChangeWatcher","newVal","oldVal","BlocksProcess","stopMovingSeparator","moveSeparator","showWebEditorInfo","showServerInfo","centerSeparator","startMovingSeparator","process","contextTitle","updateEditor","saveProcess","_m","userName","budget","storageUsedPercent","formatMegabyte","storageUsed","userInfo","storage","quota","link","href","rel","logout","onShow","onHide","dropZoneInfo","uploadFiles","error","uploadErrored","uploadProgress","uploadFadeOut","columns","p","downloadFile","row","deleteFile","namespace","singular","plural","components","DataTable","syncTimer","lastSyncTime","mounted","updateData","beforeDestroy","stopSyncTimer","computed","mapState","mapGetters","methods","mapActions","getTable","table","startSyncTimer","supportsList","setInterval","getSyncInterval","clearInterval","$config","dataRefreshInterval","refreshElement","obj","old","Object","assign","read","then","updated","catch","exception","nextSyncTime","supportsCreate","isUpdate","setNoData","list","console","log","showJobInfo","supports","estimateJob","supportsUpdate","isJobInactive","editMetadata","supportsRead","showInEditor","deleteJob","queueJob","isJobActive","cancelJob","hasResults","downloadResults","viewResults","showLogs","slot","createJobFromScript","executeProcess","WorkPanelMixinInstance","WorkPanelMixin","processInfo","deleteProcess","addProcessFromScript","serviceInfo","deleteService","isMapServiceSupported","viewService","createServiceFromScript","tab","active","icon","content","resize","logs"],"mappings":"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BO,MAAM,CAAC,GAAKZ,EAAIuB,SACvmCzB,EAAkB,G,wMC4CtB0B,OAAOC,SAAW,EAAlB,EAEA,OACA,kBACA,YACA,yBAEA,OACA,UACA,UACA,aACA,YAEA,OACA,aAEA,UACA,YACA,cAEA,aACA,YACA,YAEA,OACA,cAGA,aACA,uCACA,iBACA,sEAEA,gBACA,OACA,aACA,eACA,kBACA,iBACA,qBACA,wBACA,8BAEA,4BACA,QACA,qBACA,MACA,aACA,uBACA,MACA,WACA,4BACA,MACA,eACA,yBACA,MACA,WACA,mBACA,iBACA,wBACA,oCACA,UAEA,MAEA,WAGA,OACA,OACA,WACA,WACA,YACA,uBAGA,OACA,QACA,8BACA,qBACA,6BAGA,gBACA,gCACA,iDAIA,UACA,qEACA,iCACA,sCACA,gDAEA,qBAGA,iCACA,IAEA,8DACA,cAEA,SACA,0BAIA,SACA,eACA,gEACA,IACA,gBACA,kBAGA,cAEA,8DAEA,yCACA,sBACA,sBAEA,uBAEA,SACA,6BACA,4BACA,WACA,6CACA,mBACA,MACA,oBACA,qBACA,oDAGA,OAFA,eACA,UACA,cAGA,uBACA,WACA,SACA,yBAGA,gBAEA,QACA,sBAGA,QACA,iBACA,uBAEA,eAIA,GAHA,sBACA,aAEA,GAEA,+BACA,UACA,oCACA,wBACA,yCAIA,iCAGA,gBACA,cACA,4BACA,mBACA,4BACA,2EAGA,gBAEA,MACA,WACA,2EACA,MACA,QACA,6BAIA,gBAEA,oCACA,oBAGA,iBACA,IACA,yCACA,SACA,6BCzPoV,I,kCCShV1B,EAAY,eACd,EACAF,EACAC,GACA,EACA,KACA,WACA,MAIa,OAAAC,E,6CCpBf,W,oCCAA,W,oCCAA,W,sFCAA,W,2DCAA,W,6DCAA,W,oCCAA,W,kECAA,IAAIF,EAAS,WAAa,IAAIG,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAQD,EAAkB,eAAEG,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAAEL,EAAuB,oBAAEG,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,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jMb,OACA,qBACA,gBACA,OAIA,OACA,oBACA,mBAGA,UACA,UACA,mCAGA,SACA,YAQA,GAPA,iBAEA,8CACA,mBACA,sCAGA,eACA,sEACA,0CACA,wBACA,kCACA,oCCxCsW,ICSlW,G,oBAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCpBX,EAAS,WAAa,IAAII,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACS,MAAM,CAAC,GAAKZ,EAAIuB,OACtH,EAAkB,G,gGCgBtB,GACA,wBACA,gBACA,OACA,OACA,YACA,eAGA,OACA,OACA,oBAGA,SACA,UACA,WACA,gCAGA,YAUA,GATA,mBAEA,cAIA,iDAHA,8CAMA,eACA,gDACA,+CAIA,iBACA,yBAEA,aACA,uBAGA,kBACA,qBACA,cACA,QACA,YACA,UACA,YAGA,gBAGA,iBACA,2BAEA,gBACA,+BACA,iDACA,0CAKA,kBACA,SACA,UACA,YACA,uCACA,aACA,2BAEA,YACA,uCACA,aACA,8BAWA,OAPA,gBAGA,oCACA,wBAGA,GAGA,aACA,iBACA,8CACA,KACA,eACA,4BACA,KACA,CACA,2BACA,8CAIA,oBACA,KAEA,cACA,+BACA,cAGA,KAIA,CACA,yBACA,eCvIyW,ICQrW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,oBCiDf,IACA,yBACA,gBACA,YACA,eACA,SACA,gBACA,mBACA,kBAGA,uDACA,4EACA,mEAEA,8DACA,oEAEA,OACA,iBACA,UACA,aACA,YAEA,cACA,SACA,iBACA,WACA,WAEA,OACA,OACA,mBAGA,aACA,uCACA,OACA,+BAEA,aACA,qCAEA,sBACA,wCAEA,qBACA,gCACA,+CACA,8BAEA,6BACA,cAKA,aACA,4HAEA,cACA,kBACA,oBACA,aACA,gBACA,iBACA,gBACA,mBACA,oBACA,mBACA,mBACA,kBACA,0BACA,SACA,gBACA,wBACA,QACA,8BAGA,OACA,0EAEA,WACA,0HAEA,gBACA,+HAEA,aACA,4CACA,oBAEA,IAEA,aACA,4CACA,oBAEA,IAEA,cACA,+CACA,uBAEA,sBACA,EAGA,OAGA,WACA,yBACA,oCACA,8BAEA,0BACA,8BACA,8BAEA,sBACA,YAEA,gGAEA,qBACA,oCAGA,mBAGA,aACA,kBACA,4BACA,2BACA,mFACA,0BACA,eACA,gEACA,gBACA,kEACA,QACA,SAGA,oBACA,0CACA,KACA,gFACA,gDAEA,uBACA,mCACA,qBAGA,OACA,SACA,oBACA,wBAGA,kBACA,wBAGA,SACA,wCACA,8GAGA,mCACA,8BACA,wCACA,gCAKA,iBACA,wBACA,+BACA,kCAEA,kBACA,6BACA,0CChQ2V,MCQvV,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,kCCWf,MAAMmL,GAAY,EAAlB,4CACMC,GAAc,CACpB,SACA,aACA,UACA,WACA,mBACA,YACA,MACA,MACA,SAEMC,GAAM,KAAM,IAAIC,MAAOC,cAAcC,QAAQ,QAAS,IACtDC,GAAe,CACrB,SACA,UACA,SACA,UACA,QACA,UAEMC,GAAkB,CAExB,wCACA,0CACA,0CACA,yCACA,2CAEA,yCACA,0CAEA,+GACA,iHACA,+GACA,kEACA,sFACA,8GAEA,kEACA,4EAEA,mEACA,6EACA,qEAEA,kFACA,sEACA,6FAEA,yEACA,+FACA,+FAEA,8EACA,sGACA,sFACA,4FACA,sHACA,2FACA,qHAGA,+DACA,+BAMA,QACA,0BACA,gBACA,YACA,0BACA,sBAEA,OACA,WACA,YACA,6BAEA,UACA,aACA,YAEA,iBACA,SACA,QACA,aACA,YAEA,WACA,WAEA,OACA,OACA,wEACA,kBACA,wBACA,oBACA,4CAGA,SACA,iBAEA,8BACA,uEACA,cACA,eAIA,mBAGA,sBACA,mBAEA,UACA,aACA,SACA,uCACA,MACA,aACA,2BACA,kBACA,cACA,mBACA,QACA,kBACA,sBACA,gCACA,uBACA,YACA,WACA,cACA,oBAGA,QACA,2BAGA,mBACA,qCACA,kBACA,cACA,mBACA,QACA,uBACA,gCACA,0DACA,4BACA,YACA,gBACA,cACA,yBAGA,QACA,2BAIA,UAEA,sBACA,0CAEA,eACA,qCACA,6DAEA,CACA,SACA,qCACA,mBACA,OAEA,0CAGA,iBACA,SACA,iBACA,cACA,SAEA,wBACA,4BACA,mCAEA,UAEA,sBACA,SACA,gCACA,2BACA,YACA,oBAIA,aAHA,SAMA,UACA,SACA,OACA,kBAEA,gCAGA,OACA,SACA,iBACA,eAGA,SACA,uBAEA,gBACA,sDAGA,SAQA,2BACA,SACA,eACA,IACA,+DACA,cACA,SAEA,qBACA,UAEA,UAEA,mBACA,qCACA,kCACA,sBACA,8BAEA,sBACA,8BAEA,MACA,oCACA,8BAEA,CACA,8EACA,sBACA,8BAEA,sBACA,2BAEA,CAEA,8CAEA,+BAGA,sCACA,gHAIA,8CACA,0BAIA,4BACA,qCAEA,0BACA,QAWA,GAVA,sBACA,sBACA,+BACA,uBAGA,qFACA,qBAGA,GAEA,8CACA,mCAEA,gDACA,qCACA,qCACA,kBACA,oBAIA,+CACA,oCACA,kBACA,cAKA,gCACA,qBAGA,kDACA,0CAGA,iFACA,uDAGA,CACA,oCACA,KACA,4HACA,cAGA,SACA,mBCtX4V,MCQxV,I,UAAY,eACd,GACApN,EACAC,GACA,EACA,KACA,KACA,OAIa,gB,kHCnBf,W,qCCAA,W,2DCAA,IAAID,EAAS,WAAa,IAAIG,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,MAAQZ,EAAIkN,aAAe,mBAAqB,mBAAmBrM,GAAG,CAAC,MAAQb,EAAImN,mBAAmB,CAAChN,EAAG,OAAO,CAACgF,WAAW,CAAC,CAAChD,KAAK,OAAOiD,QAAQ,SAASpC,MAAOhD,EAAgB,aAAEoD,WAAW,kBAAkB,CAACjD,EAAG,IAAI,CAACE,YAAY,sBAAsBF,EAAG,OAAO,CAACgF,WAAW,CAAC,CAAChD,KAAK,OAAOiD,QAAQ,SAASpC,OAAQhD,EAAIkN,aAAc9J,WAAW,mBAAmB,CAACjD,EAAG,IAAI,CAACE,YAAY,uBAC/fP,EAAkB,G,YCUtB,GACA,wBACA,OACA,WAEA,OACA,OACA,gBACA,eACA,mBAGA,UACA,yCACA,wBACA,GACA,8CAGE,gBACF,wBACA,GACA,iDAGE,SAAF,IACA,mDAEA,YACA,yDACA,cAEA,sDACA,wBACA,mBACA,sBAGA,aACA,qCACA,qCAEA,iCACA,eAGA,cAGA,mBACA,wBACA,mBASA,qBACA,iCAEA,8BACA,oBAZA,qBACA,8BAEA,iBACA,8BACA,yCAUA,2CC9E0V,I,wBCQtVC,EAAY,eACd,EACAF,EACAC,GACA,EACA,KACA,KACA,MAIa,OAAAC,E,+FCnBf,W,oCCAA,W,sFCAA,W,kCCAA,W,oCCAA,W,6DCAA,W,oCCAA,W,2DCAA,W,oCCAA,W,kCCAA,W,kCCAA,IAAIF,EAAS,WAAa,IAAIG,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACS,MAAM,CAAC,GAAKZ,EAAIuB,OACtHzB,EAAkB,G,gJCmBtB,GACA,iBACA,gBACA,OACA,SACA,WACA,kBAEA,SACA,YACA,mBAGA,OACA,OACA,cACA,OACA,aACA,UACA,cAIA,SACA,YACA,yDAGA,GAFA,mBAEA,EACA,2BACA,6BACA,iDAIA,gCACA,kDAIA,sBACA,0DACA,8BACA,eACA,0BACA,mBACA,UACA,+BAEA,cAGA,2BAKA,mBACA,SACA,6BACA,iCACA,UAGA,UAGA,kBACA,6BACA,UACA,uBACA,MACA,QACA,4EAIA,qBACA,8BACA,cACA,4BACA,8BACA,yCAEA,yBACA,mDACA,sBAEA,0BACA,sDACA,yBAIA,2CACA,wBACA,qBACA,wBAIA,mBACA,qBACA,qBACA,0BACA,6CACA,qDACA,qDAGA,sBACA,qBAGA,gDACA,mBACA,4BAGA,6BACA,kBACA,mBACA,4DACA,4BAGA,oCAIA,kBACA,WACA,QACA,gDACA,4CACA,kBACA,0CACA,SAEA,UAEA,4BAEA,CAEA,sEAEA,4CAEA,6CCzKmV,I,wBCQ/UC,EAAY,eACd,EACAF,EACAC,GACA,EACA,KACA,KACA,MAIa,OAAAC,E,2CCnBf,W,kCCAA,W,kCCAA,W,kCCAA,W,kCCAA,W,sICAA,IAAIF,EAAS,WAAa,IAAIG,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAAC+E,IAAI,UAAUtE,MAAM,CAAC,SAAW,MAAM,SAAW,MAAM,UAAY,OAAOwM,YAAYpN,EAAIqN,GAAG,CAAC,CAACnL,IAAI,OAAOoL,GAAG,WAAW,MAAO,CAAgC,IAA9BtN,EAAIuN,eAAexL,OAAc5B,EAAG,IAAI,CAACH,EAAIQ,GAAG,uCAAuCL,EAAG,OAAO,CAACS,MAAM,CAAC,GAAK,kBAAkBC,GAAG,CAAC,OAAS,SAASI,GAAgC,OAAxBA,EAAOuM,iBAAwBxN,EAAIyN,KAAKC,MAAM,KAAMC,cAAc,CAAC3N,EAAIgC,GAAIhC,EAAkB,gBAAE,SAAS4N,EAAM7G,GAAG,OAAO5G,EAAG,MAAM,CAAC+B,IAAI6E,EAAE1G,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAEuN,YAAY,EAAMC,UAAWF,EAAMzL,OAASnC,EAAI+N,kBAAmB,CAAC/N,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIgO,aAAaJ,KAAWA,EAAMK,SAAyFjO,EAAIW,KAAnFR,EAAG,SAAS,CAACE,YAAY,WAAWO,MAAM,CAAC,MAAQ,aAAa,CAACZ,EAAIQ,GAAG,OAAiBoN,EAAiB,YAAEzN,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACS,MAAM,CAAC,YAAcgN,EAAMnL,gBAAgB,GAAGzC,EAAIW,OAAOR,EAAG,qBAAqB,CAAC+E,IAAI0I,EAAMzL,KAAK+L,UAAS,EAAKtN,MAAM,CAAC,SAAWZ,EAAI0B,SAAS,UAAYkM,EAAM,UAAY5N,EAAI2C,UAAU,QAAU3C,EAAI4C,QAAQ,OAAS5C,EAAI6C,QAAQhC,GAAG,CAAC,eAAiB,SAASI,GAAQ,OAAOjB,EAAImO,WAAWP,EAAO3M,KAAU8B,MAAM,CAACC,MAAOhD,EAAIoO,OAAOR,EAAMzL,MAAOc,SAAS,SAAUC,GAAMlD,EAAIgH,KAAKhH,EAAIoO,OAAQR,EAAMzL,KAAMe,IAAME,WAAW,wBAAyBwK,EAAiB,YAAEzN,EAAG,SAAS,CAACE,YAAY,YAAYO,MAAM,CAAC,MAAQ,+BAA+B,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAIqO,YAAYtH,MAAM,CAAC5G,EAAG,IAAI,CAACE,YAAY,mBAAmBL,EAAIW,MAAM,MAAKR,EAAG,SAAS,CAACmO,YAAY,CAAC,QAAU,QAAQ1N,MAAM,CAAC,KAAO,aAAa,KAAK2N,OAAM,GAAmC,oBAArBvO,EAAIwO,aAA6B,CAACtM,IAAI,SAASoL,GAAG,WAAW,MAAO,CAACnN,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,SAAS,CAACE,YAAY,OAAOQ,GAAG,CAAC,MAAQb,EAAIyN,OAAO,CAACzN,EAAIQ,GAAG,cAAc+N,OAAM,GAAM,MAAM,MAAK,MAChzDzO,EAAkB,G,gDCgCtB,GACA,sBACA,YACA,aACA,yBACA,iCAEA,OACA,OACA,kBACA,UACA,WACA,YACA,qBACA,kBACA,eACA,cAGA,UACA,UACA,OACA,mBACA,qBACA,kCAIA,SACA,eACA,kCACA,oCACA,6BACA,6BAEA,gBACA,kCAEA,gBACA,kDACA,QAGA,+BAGA,OACA,IACA,uCACA,+BAEA,2BACA,SACA,2BAGA,oDACA,sBACA,gCACA,gBACA,gBACA,oBACA,iBACA,uBACA,cACA,6BAEA,wCAEA,yBACA,yDACA,iBAEA,MAEA,iBACA,MACA,qBACA,mDAEA,+BACA,2DAEA,IAIA,6BACA,sBACA,uBAEA,2BAIA,kDAGA,qBACA,oBACA,2MACA,GACA,eAKA,uDC5IuW,I,kCCSnWC,EAAY,eACd,EACAF,EACAC,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CCpBf,W,gFCAA,IAAIF,EAAS,WAAa,IAAIG,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,YAAY,CAAC4C,MAAM,CAACC,MAAOhD,EAAc,WAAEiD,SAAS,SAAUC,GAAMlD,EAAIyO,WAAWvL,GAAKE,WAAW,gBAAgBjD,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,cAAc,CAACE,YAAY,WAAWO,MAAM,CAAC,YAAcZ,EAAImE,YAAY,WAAanE,EAAIyO,WAAW,cAAe,EAAM,UAAYzO,EAAI0O,WAAWtB,YAAYpN,EAAIqN,GAAG,CAAC,CAACnL,IAAI,UAAUoL,GAAG,SAASpI,GACpf,IAAIyJ,EAAOzJ,EAAIyJ,KACf,MAAO,CAACxO,EAAG,MAAM,CAACE,YAAY,mBAAmBO,MAAM,CAAC,UAAYZ,EAAI4O,wBAAwB/N,GAAG,CAAC,UAAY,SAASI,GAAQ,OAAOjB,EAAI6O,OAAO5N,EAAQ,aAAc0N,MAAS,CAACxO,EAAG,MAAM,CAACE,YAAY,iBAAiBQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAI8O,mBAAmBH,EAAKpN,OAAO,CAACpB,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ+N,EAAKpN,KAAK,CAACvB,EAAIQ,GAAGR,EAAIS,GAAGkO,EAAKpN,OAAQoN,EAAU,MAAExO,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ+N,EAAKjO,QAAQ,CAACV,EAAIQ,GAAGR,EAAIS,GAAGkO,EAAKjO,UAAUV,EAAIW,OAAQX,EAA0B,uBAAEG,EAAG,SAAS,CAACE,YAAY,mBAAmBO,MAAM,CAAC,KAAO,SAAS,MAAQ,UAAUC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAI+O,iBAAiBJ,MAAS,CAACxO,EAAG,IAAI,CAACE,YAAY,kBAAkBL,EAAIW,cAAcR,EAAG,YAAY,CAACE,YAAY,WAAWO,MAAM,CAAC,UAAYZ,EAAIgP,UAAU,WAAahP,EAAIyO,WAAW,cAAe,EAAM,UAAYzO,EAAI0O,WAAWtB,YAAYpN,EAAIqN,GAAG,CAAC,CAACnL,IAAI,UAAUoL,GAAG,SAASpI,GACj3B,IAAIyJ,EAAOzJ,EAAIyJ,KACf,MAAO,CAACxO,EAAG,MAAM,CAACE,YAAY,mBAAmBO,MAAM,CAAC,UAAY,QAAQC,GAAG,CAAC,UAAY,SAASI,GAAQ,OAAOjB,EAAI6O,OAAO5N,EAAQ,UAAW0N,MAAS,CAACxO,EAAG,MAAM,CAACE,YAAY,iBAAiBQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAIiP,gBAAgBN,MAAS,CAAGA,EAAKO,OAAqGlP,EAAIW,KAAjGR,EAAG,IAAI,CAACE,YAAY,sCAAsCO,MAAM,CAAC,MAAQ,oBAA6BT,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ+N,EAAKpN,KAAK,CAACvB,EAAIQ,GAAGR,EAAIS,GAAGkO,EAAKpN,OAAQoN,EAAY,QAAExO,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ+N,EAAKQ,UAAU,CAACnP,EAAIQ,GAAGR,EAAIS,GAAGkO,EAAKQ,YAAYnP,EAAIW,OAAOR,EAAG,SAAS,CAACE,YAAY,mBAAmBO,MAAM,CAAC,KAAO,SAAS,MAAQ,UAAUC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAIoP,cAAcpP,EAAI8G,MAAM,CAAC3G,EAAG,IAAI,CAACE,YAAY,2BAA4BL,EAAkB,eAAEG,EAAG,cAAc,CAACE,YAAY,WAAWO,MAAM,CAAC,SAAWZ,EAAIsE,YAAY,WAAatE,EAAIyO,WAAW,cAAe,EAAM,UAAYzO,EAAI0O,WAAWtB,YAAYpN,EAAIqN,GAAG,CAAC,CAACnL,IAAI,UAAUoL,GAAG,SAASpI,GAC/7B,IAAIiK,EAAUjK,EAAIiK,QACdR,EAAOzJ,EAAIyJ,KACf,MAAO,CAACxO,EAAG,MAAM,CAACE,YAAY,mBAAmBO,MAAM,CAAC,UAAYZ,EAAIqP,gBAAgBxO,GAAG,CAAC,UAAY,SAASI,GAAQ,OAAOjB,EAAI6O,OAAO5N,EAAQ,MAAO,CAACqO,QAASH,EAAQI,WAAYC,QAASb,EAAKc,aAAa,CAACtP,EAAG,MAAM,CAACE,YAAY,iBAAiBQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAI0P,YAAYP,EAAQI,WAAYZ,MAAS,CAACxO,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQuO,EAAQI,aAAa,CAACvP,EAAIQ,GAAGR,EAAIS,GAAG0O,EAAQI,YAAY,KAAKvP,EAAIS,GAAGkO,EAAKc,SAAS,OAAQN,EAAe,QAAEhP,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQuO,EAAQA,UAAU,CAACnP,EAAIQ,GAAGR,EAAIS,GAAG0O,EAAQA,YAAYnP,EAAIW,OAAQX,EAAkB,eAAEG,EAAG,SAAS,CAACE,YAAY,mBAAmBO,MAAM,CAAC,KAAO,SAAS,MAAQ,UAAUC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAI2P,UAAUR,EAAQI,WAAYZ,EAAKc,YAAY,CAACtP,EAAG,IAAI,CAACE,YAAY,kBAAkBL,EAAIW,WAAW,MAAK,EAAM,cAAcX,EAAIW,KAAKR,EAAG,cAAc,CAACE,YAAY,WAAWO,MAAM,CAAC,QAAUZ,EAAI4D,YAAY,WAAY,EAAM,QAAU,sBAAsB,WAAa5D,EAAIyO,WAAW,cAAe,EAAM,UAAYzO,EAAI0O,WAAWtB,YAAYpN,EAAIqN,GAAG,CAAC,CAACnL,IAAI,UAAUoL,GAAG,SAASpI,GAC/jC,IAAIyJ,EAAOzJ,EAAIyJ,KACf,MAAO,CAACxO,EAAG,MAAM,CAACE,YAAY,mBAAmBO,MAAM,CAAC,UAAYZ,EAAI4P,oBAAoB/O,GAAG,CAAC,UAAY,SAASI,GAAQ,OAAOjB,EAAI6O,OAAO5N,EAAQ,aAAc0N,MAAS,CAACxO,EAAG,MAAM,CAACE,YAAY,iBAAiBQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAI6P,mBAAmBlB,MAAS,CAACxO,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ+N,EAAKxM,OAAO,CAACnC,EAAIQ,GAAGR,EAAIS,GAAGkO,EAAKxM,SAAUwM,EAAU,MAAExO,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ+N,EAAKjO,QAAQ,CAACV,EAAIQ,GAAGR,EAAIS,GAAGkO,EAAKjO,UAAUV,EAAIW,OAAQX,EAAsB,mBAAEG,EAAG,SAAS,CAACE,YAAY,mBAAmBO,MAAM,CAAC,KAAO,SAAS,MAAQ,UAAUC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAI8P,iBAAiBnB,MAAS,CAACxO,EAAG,IAAI,CAACE,YAAY,kBAAkBL,EAAIW,eAAe,IAAI,IACxqBb,EAAkB,G,oFCuDtB,GACA,wBACA,gBACA,YACA,mBACA,mBACA,iBACA,uBACA,oBAEA,OACA,cACA,cACA,cAGA,OACA,OACA,cACA,eAGA,aACA,wEACA,sDACA,sEACA,iEACA,yBACA,gDAEA,iBACA,wCAEA,qBACA,4CAEA,iBACA,sCAEA,YACA,6DAGA,OACA,iBACA,KACA,kBAEA,QACA,qBAIA,SACA,cACA,wBACA,oEACA,+DAEA,sBACA,kCACA,+BAGA,mBACA,gCAEA,iBAEA,+CAEA,sBACA,iFAEA,aACA,UACA,iBACA,OACA,6BACA,yCAEA,cACA,OACA,gBACA,cAEA,UACA,OACA,qBACA,aAEA,iBACA,OACA,yBACA,wCAIA,oBACA,mCACA,sBAEA,iBACA,gCACA,sBAEA,eACA,gDACA,sBAEA,oBACA,mCACA,wBCjL0V,I,kCCStVC,EAAY,eACd,EACAF,EACAC,GACA,EACA,KACA,WACA,MAIa,OAAAC,E,2CCpBf,W,yCCAA,IAAIF,EAAS,WAAa,IAAIG,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAAC+E,IAAI,OAAO7E,YAAY,SAASO,MAAM,CAAC,GAAK,uBAAuB,SAAW,WAAW,CAACT,EAAG,MAAM,CAACS,MAAM,CAAC,GAAK,SAAS,KAAO,eAAe,KAAO,qBAAqB,UAAW,EAAK,UAAYZ,EAAI+P,eAAelP,GAAG,CAAC,KAAOb,EAAIgQ,YAAY,CAAC7P,EAAG,eAAe,CAAC+E,IAAI,eAAe7E,YAAY,kBAAkBO,MAAM,CAAC,SAAWZ,EAAI0B,SAAS,aAAe1B,EAAIiQ,aAAa,MAAQjQ,EAAIkQ,WAAW,MAAQlQ,EAAIU,MAAM,GAAKV,EAAIuB,GAAK,UAAU,qBAAuBvB,EAAImQ,qBAAqB,aAAenQ,EAAIoQ,cAAcvP,GAAG,CAAC,MAAQb,EAAIqQ,OAAO,MAAQrQ,EAAIsQ,SAASlD,YAAYpN,EAAIqN,GAAG,CAAC,CAACnL,IAAI,eAAeoL,GAAG,WAAW,MAAO,CAACtN,EAAIe,GAAG,kBAAkBwN,OAAM,GAAM,CAACrM,IAAI,UAAUoL,GAAG,WAAW,MAAO,CAACtN,EAAIe,GAAG,aAAawN,OAAM,IAAO,MAAK,MAAS,GAAGpO,EAAG,MAAM,CAACS,MAAM,CAAC,GAAK,SAAS,KAAO,OAAO,KAAO,UAAU,UAAYZ,EAAI+P,eAAelP,GAAG,CAAC,KAAOb,EAAIuQ,WAAW,CAACpQ,EAAG,aAAa,CAAC+E,IAAI,eAAe7E,YAAY,gBAAgBO,MAAM,CAAC,SAAWZ,EAAI0B,SAAS,MAAQ1B,EAAIwQ,UAAU,MAAQxQ,EAAIU,MAAM,GAAKV,EAAIuB,GAAK,QAAQ,SAAW,gBAAgBV,GAAG,CAAC,MAAQb,EAAIqQ,OAAO,MAAQrQ,EAAIsQ,SAASlD,YAAYpN,EAAIqN,GAAG,CAAC,CAACnL,IAAI,eAAeoL,GAAG,WAAW,MAAO,CAACtN,EAAIe,GAAG,kBAAkBwN,OAAM,GAAM,CAACrM,IAAI,UAAUoL,GAAG,WAAW,MAAO,CAACtN,EAAIe,GAAG,aAAawN,OAAM,IAAO,MAAK,MAAS,IAAI,IAC/2CzO,EAAkB,G,oCCDlB,EAAS,WACb,IAAI0G,EAASrI,KACT6B,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+E,IAAI,eAAe7E,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAAEL,EAAS,MAAEG,EAAG,KAAK,CAACH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,UAAUV,EAAIW,KAAKR,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAAEL,EAAY,SAAEG,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,MAAQ,qCAAqCC,GAAG,CAAC,MAAQb,EAAIc,eAAe,CAACX,EAAG,IAAI,CAACE,YAAY,kBAAkBL,EAAIe,GAAG,iBAAiB,GAAGf,EAAIW,KAAMX,EAAY,SAAEG,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,UAAYZ,EAAIgB,QAAQ,MAAQ,sBAAsBH,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAIyQ,MAAMC,OAAOvP,UAAU,CAAChB,EAAG,IAAI,CAACE,YAAY,sBAAsBF,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,UAAYZ,EAAIoB,QAAQ,MAAQ,6BAA6BP,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAIyQ,MAAMC,OAAOrP,UAAU,CAAClB,EAAG,IAAI,CAACE,YAAY,sBAAsBF,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,UAAYZ,EAAI2Q,aAAa,MAAQ,4BAA4B9P,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAIyQ,MAAMC,OAAOE,oBAAoB,CAACzQ,EAAG,IAAI,CAACE,YAAY,qBAAqBL,EAAIW,KAAMX,EAAY,SAAEG,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,MAAQ,iBAAiBC,GAAG,CAAC,MAAQb,EAAI6Q,eAAe,CAAC1Q,EAAG,IAAI,CAACE,YAAY,qBAAsBL,EAAgB,aAAEG,EAAG,SAAS,CAACG,MAAM,CAACwQ,iBAAkB9Q,EAAI+Q,QAAQnQ,MAAM,CAAC,KAAO,SAAS,MAAQ,uBAAuBC,GAAG,CAAC,MAAQb,EAAIgR,sBAAsB,CAAC7Q,EAAG,IAAI,CAACE,YAAY,6BAA6BL,EAAIW,OAAOX,EAAIW,KAAKR,EAAG,SAAS,CAACG,MAAM,CAAC2Q,YAAajR,EAAIiR,aAAarQ,MAAM,CAAC,KAAO,SAAS,MAAQ,gBAAgBC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAIyQ,MAAMC,OAAOQ,mBAAmB,CAAC/Q,EAAG,IAAI,CAACE,YAAY,iCAAiCF,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,MAAQ,yBAAyBC,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAIyQ,MAAMC,OAAOS,kBAAkB,CAAChR,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,mBAAmB,CAACS,MAAM,CAAC,QAAU,WAAc,OAAO4F,EAAOiK,MAAMW,eAAiBvQ,GAAG,CAAC,QAAU,SAAUwQ,GAAU7K,EAAOiK,MAAMC,OAAOS,eAAgBnR,EAAIsR,aAAeD,MAAYrR,EAAIe,GAAG,YAAY,KAAKZ,EAAG,MAAM,CAACE,YAAY,kBAAkB,EAAGL,EAAImQ,sBAAwBnQ,EAAIsR,eAAiBtR,EAAI0B,SAAUvB,EAAG,mBAAmB,CAACE,YAAY,mBAAmBO,MAAM,CAAC,aAAeZ,EAAIoP,iBAAiBpP,EAAIW,KAAKR,EAAG,MAAM,CAACE,YAAY,eAAeQ,GAAG,CAAC,KAAO,SAASI,GAAQ,OAAOjB,EAAIuR,OAAOtQ,IAAS,SAAW,SAASA,GAAQ,OAAOjB,EAAIwR,UAAUvQ,MAAW,CAACd,EAAG,SAAS,CAAC+E,IAAI,SAAStE,MAAM,CAAC,SAAWZ,EAAI0B,SAAS,GAAK1B,EAAIuB,GAAG,UAAYvB,EAAIyR,gBAAgB,YAAczR,EAAImE,YAAY,aAAenE,EAAIiQ,aAAa,MAAQjQ,EAAIgD,OAAOnC,GAAG,CAAC,MAAQb,EAAIqQ,OAAO,MAAQrQ,EAAI0R,aAAa,YAAc,SAAUnQ,GAAM,OAAOvB,EAAI2R,KAAK,cAAepQ,IAAO,eAAiB,SAAUA,GAAM,OAAOvB,EAAI2R,KAAK,iBAAkBpQ,IAAO,WAAavB,EAAI4R,gBAAgB,eAAiB5R,EAAI6R,oBAAoB,YAAc,SAAUC,GAAW,OAAOtL,EAAOyK,YAAca,GAAW,iBAAmB9R,EAAI+R,iBAAiB,eAAiB/R,EAAIgS,mBAAmB,IAAI,GAAG7R,EAAG,iBAAiB,CAAC+E,IAAI,mBAAoBlF,EAAI0B,UAAY1B,EAAIiS,aAAc9R,EAAG,kBAAkB,CAAC+E,IAAI,kBAAkBrE,GAAG,CAAC,KAAOb,EAAIkS,eAAelS,EAAIW,MAAM,IACzwG,EAAkB,GCHlB,EAAS,WAAa,IAAIX,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+E,IAAI,MAAM7E,YAAY,mBAAmBO,MAAM,CAAC,GAAKZ,EAAIuB,GAAG,SAAW,KAAKV,GAAG,CAAC,UAAY,SAASI,GAAQ,OAAOjB,EAAIkL,YAAYjK,IAAS,UAAY,SAASA,GAAQ,OAAOjB,EAAImS,YAAYlR,IAAS,MAAQ,SAASA,GAAgC,OAAxBA,EAAOuM,iBAAwBxN,EAAIoS,aAAanR,IAAS,QAAU,SAASA,GAAQ,OAAOjB,EAAIqS,UAAUpR,IAAS,MAAQ,SAASA,GAAQ,OAAOjB,EAAI8N,WAAU,IAAO,KAAO,SAAS7M,GAAQ,OAAOjB,EAAI8N,WAAU,MAAU,CAAC3N,EAAG,MAAM,CAACE,YAAY,SAASO,MAAM,CAAC,MAAQ,6BAA6B,QAAU,QAAQ,CAACZ,EAAIgC,GAAIhC,EAAS,OAAE,SAASsS,GAAM,OAAOnS,EAAG,OAAOH,EAAIuS,GAAG,CAACrQ,IAAIoQ,EAAK/Q,GAAG2D,IAAI,QAAQgJ,UAAS,EAAKtN,MAAM,CAAC,MAAQZ,EAAImD,MAAM,WAAamP,EAAKE,WAAW,WAAaF,EAAKG,YAAY5R,GAAG,CAAC,SAAW,SAASI,GAAQqR,EAAKI,UAAY/E,UAAU,GAAI2E,EAAKK,UAAYhF,UAAU,MAAM,OAAO2E,GAAK,OAAWtS,EAAe,YAAEG,EAAG,OAAOH,EAAIuS,GAAG,GAAG,OAAOvS,EAAI4S,aAAY,IAAQ5S,EAAIW,KAAMX,EAAc,WAAEG,EAAG,OAAOH,EAAIuS,GAAG,GAAG,OAAOvS,EAAI6S,YAAW,IAAQ7S,EAAIW,MAAM,GAAGR,EAAG,MAAM,CAACE,YAAY,UAAUL,EAAIgC,GAAIhC,EAAU,QAAE,SAAS8S,GAAO,OAAO3S,EAAG,QAAQ,CAAC+B,IAAI4Q,EAAM1Q,KAAO0Q,EAAMvR,GAAGX,MAAM,CAAC,GAAKkS,EAAMvR,GAAG,KAAOuR,EAAM1Q,KAAK,MAAQ0Q,EAAM9P,MAAM,KAAO8P,EAAMC,KAAK,MAAQ/S,EAAImD,MAAM,SAAW2P,EAAME,UAAUnS,GAAG,CAAC,kBAAkB,SAASI,GAAQ,OAAOjB,EAAIgH,KAAK8L,EAAO,WAAY7R,IAAS,MAAQ,SAASA,GAAQ,OAAOjB,EAAIqQ,UAAU,iBAAmBrQ,EAAIiT,iBAAiB,QAAUjT,EAAIkT,WAAW,UAAYlT,EAAImT,aAAa,KAAOnT,EAAIoT,eAAe,MAAQpT,EAAIqT,mBAAkB,MACjlD,EAAkB,GCDlB,EAAS,WAAa,IAAIrT,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+E,IAAI,MAAM5E,MAAMN,EAAIsT,iBAAiBvU,MAAOiB,EAAU,OAAEY,MAAM,CAAC,GAAK,QAAUzC,KAAKoD,IAAIV,GAAG,CAAC,UAAY,SAASI,GAAQ,OAAIA,EAAOmB,KAAKmR,QAAQ,QAAQvT,EAAIwT,GAAGvS,EAAOwS,QAAQ,OAAO,GAAGxS,EAAOiB,IAAI,CAAC,OAAO,cAAuB,MAAOjB,EAAOuM,iBAAiBvM,EAAO6K,kBAAqB,WAAY7K,GAA4B,IAAlBA,EAAOyS,OAAsB,KAAc1T,EAAImS,YAAYlR,OAAW,CAACd,EAAG,MAAM,CAACE,YAAY,aAAaQ,GAAG,CAAC,UAAY,SAASI,GAAQ,OAAIA,EAAOmB,KAAKmR,QAAQ,QAAQvT,EAAIwT,GAAGvS,EAAOwS,QAAQ,OAAO,GAAGxS,EAAOiB,IAAI,CAAC,OAAO,cAAuB,MAAOjB,EAAOuM,iBAAiBvM,EAAO6K,kBAAqB,WAAY7K,GAA4B,IAAlBA,EAAOyS,OAAsB,KAAc1T,EAAI2T,SAAS1S,OAAW,CAACd,EAAG,OAAO,CAACE,YAAY,YAAYO,MAAM,CAAC,MAAQZ,EAAI4T,aAAa,CAACzT,EAAG,OAAO,CAACgF,WAAW,CAAC,CAAChD,KAAK,OAAOiD,QAAQ,SAASpC,MAAOhD,EAAW,QAAEoD,WAAW,YAAY/C,YAAY,UAAUO,MAAM,CAAC,MAAQ,yCAAyC,CAACT,EAAG,IAAI,CAACE,YAAY,kCAAkCL,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAImC,MAAM,KAAMnC,EAAU,OAAEG,EAAG,OAAO,CAACE,YAAY,WAAW,CAACL,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIuB,OAAOvB,EAAIW,OAAOR,EAAG,MAAM,CAACE,YAAY,YAAYQ,GAAG,CAAC,UAAY,SAASI,GAAQ,OAAIA,EAAOmB,KAAKmR,QAAQ,QAAQvT,EAAIwT,GAAGvS,EAAOwS,QAAQ,OAAO,GAAGxS,EAAOiB,IAAI,CAAC,OAAO,cAAuB,MAAOjB,EAAOuM,iBAAiBvM,EAAO6K,kBAAqB,WAAY7K,GAA4B,IAAlBA,EAAOyS,OAAsB,KAAc1T,EAAI6T,YAAW,CAAC1T,EAAG,OAAO,CAACgF,WAAW,CAAC,CAAChD,KAAK,OAAOiD,QAAQ,SAASpC,MAAOhD,EAAI8T,gBAAkB9T,EAAI+T,WAAY3Q,WAAW,iCAAiC/C,YAAY,aAAaO,MAAM,CAAC,MAAQ,eAAeC,GAAG,CAAC,MAAQ,SAASI,GAAyD,OAAjDA,EAAO6K,kBAAkB7K,EAAOuM,iBAAwBxN,EAAIgU,gBAAgB,CAAC7T,EAAG,IAAI,CAACE,YAAY,6BAA6BF,EAAG,OAAO,CAACgF,WAAW,CAAC,CAAChD,KAAK,OAAOiD,QAAQ,SAASpC,MAAOhD,EAAgB,aAAEoD,WAAW,iBAAiB/C,YAAY,SAASO,MAAM,CAAC,MAAQ,gBAAgBC,GAAG,CAAC,MAAQ,SAASI,GAAyD,OAAjDA,EAAO6K,kBAAkB7K,EAAOuM,iBAAwBxN,EAAIkH,YAAY,CAAC/G,EAAG,IAAI,CAACE,YAAY,mBAAmBF,EAAG,OAAO,CAACgF,WAAW,CAAC,CAAChD,KAAK,OAAOiD,QAAQ,SAASpC,MAAOhD,EAAc,WAAEoD,WAAW,eAAe/C,YAAY,OAAOO,MAAM,CAAC,MAAQ,WAAWC,GAAG,CAAC,MAAQ,SAASI,GAAyD,OAAjDA,EAAO6K,kBAAkB7K,EAAOuM,iBAAwBxN,EAAIiU,cAAc,CAAC9T,EAAG,IAAI,CAACE,YAAY,kBAAkBF,EAAG,OAAO,CAACgF,WAAW,CAAC,CAAChD,KAAK,OAAOiD,QAAQ,SAASpC,MAAOhD,EAAyB,sBAAEoD,WAAW,0BAA0B/C,YAAY,WAAWO,MAAM,CAAC,MAAQ,2BAA2BC,GAAG,CAAC,MAAQ,SAASI,GAAyD,OAAjDA,EAAO6K,kBAAkB7K,EAAOuM,iBAAwBxN,EAAIkU,oBAAoB,CAAC/T,EAAG,IAAI,CAACE,YAAY,2BAA2BF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,UAAUL,EAAIgC,GAAIhC,EAAc,YAAE,SAAS4N,EAAMuG,GAAG,OAAOhU,EAAG,iBAAiBH,EAAIuS,GAAG,CAACrQ,IAAIiS,EAAEjP,IAAI,aAAagJ,UAAS,EAAKtN,MAAM,CAAC,MAAQZ,EAAImD,OAAOtC,GAAG,CAAC,aAAe,SAASI,GAAQ,OAAOjB,EAAIoU,aAAaxG,EAAO3M,KAAU8B,MAAM,CAACC,MAAOhD,EAAIqU,KAAKzG,EAAMzL,MAAOc,SAAS,SAAUC,GAAMlD,EAAIgH,KAAKhH,EAAIqU,KAAMzG,EAAMzL,KAAMe,IAAME,WAAW,qBAAqB,iBAAiBwK,GAAM,OAAU,GAAGzN,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,iBAAiBH,EAAIuS,GAAG,CAACrN,IAAI,SAAStE,MAAM,CAAC,MAAQZ,EAAImD,MAAM,MAAQnD,EAAIsU,cAAc,iBAAiBtU,EAAIuU,QAAO,KAAS,KAAMvU,EAAc,WAAEG,EAAG,WAAW,CAACgF,WAAW,CAAC,CAAChD,KAAK,QAAQiD,QAAQ,eAAepC,MAAOhD,EAAW,QAAEoD,WAAW,UAAU4C,UAAU,CAAC,MAAO,KAAQd,IAAI,eAAe7E,YAAY,cAAcO,MAAM,CAAC,YAAc,wBAAwBe,SAAS,CAAC,MAAS3B,EAAW,SAAGa,GAAG,CAAC,KAAO,SAASI,GAAQ,OAAOjB,EAAIwU,cAAcvT,IAAS,UAAY,SAASA,GAAQA,EAAO6K,mBAAoB,OAAS,SAAS7K,GAAQjB,EAAIyU,QAAQxT,EAAOyE,OAAO1C,UAAUhD,EAAIW,QAClzH,EAAkB,GCDlB,EAAS,WAAa,IAAIX,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAMH,EAAI0U,GAAG,CAACpU,MAAMN,EAAI2U,SAAS3U,EAAI4U,WAAW,CAAG5U,EAAIuU,OAAqFvU,EAAIW,KAAjFR,EAAG,MAAMH,EAAI0U,GAAG,CAACxP,IAAI,SAAS5E,MAAMN,EAAI6U,eAAe7U,EAAI8U,kBAA2B3U,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACgF,WAAW,CAAC,CAAChD,KAAK,OAAOiD,QAAQ,SAASpC,MAAOhD,EAAe,YAAEoD,WAAW,gBAAgB/C,YAAY,cAAcO,MAAM,CAAC,MAAQ,qCAAqC,CAACT,EAAG,IAAI,CAACE,YAAY,kCAAkCF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACL,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIgO,iBAAkBhO,EAAI+U,aAAmB,OAAE,CAAC/U,EAAIQ,GAAG,OAAOR,EAAIW,KAAKR,EAAG,OAAO,CAACE,YAAY,QAAQsB,SAAS,CAAC,UAAY3B,EAAIS,GAAGT,EAAI+U,kBAAkB,GAAI/U,EAAU,OAAEG,EAAG,MAAMH,EAAI0U,GAAG,CAACxP,IAAI,SAAS5E,MAAMN,EAAI6U,eAAe7U,EAAI8U,kBAAkB9U,EAAIW,QAC1yB,EAAkB,G,wBCkBtB,GACE,KAAF,iBACE,MAAF,CACI,KAAJ,CACM,KAAN,OACM,QAAN,UAEI,YAAJ,CACM,KAAN,OACM,QAAN,IAEI,SAAJ,CACM,KAAN,QACM,SAAN,GAEI,WAAJ,CACM,KAAN,QACM,SAAN,GAEI,aAAJ,CACM,KAAN,QACM,SAAN,GAEI,QAAJ,GACI,MAAJ,GACI,OAAJ,CACM,KAAN,eACM,QAAN,MAEI,MAAJ,CACM,KAAN,QAEI,OAAJ,CACM,KAAN,QACM,SAAN,GAEI,MAAJ,CACM,KAAN,OACM,UAAN,IAGE,OACE,MAAJ,CAEM,MAAN,KAGE,SAAF,CACI,UACE,OAAN,8BACA,YAGA,yBAGI,WACE,YAAN,gBAEI,YACE,OAAN,2BACA,CACU,SAAV,6BAIA,IAGI,kBACE,IAAN,KA4BM,OA3BN,sBACQ,EAAR,cACA,aACY,KAAZ,sBACY,EAAZ,iBACY,EAAZ,oBAIA,cAEU,EAAV,UACY,GAAZ,YAEc,GAAd,sBAEgB,YADA,KAAhB,qEAGc,KAAd,0CAMQ,EAAR,8DACQ,EAAR,8DAEA,GAEI,UACE,MAAN,CACA,6BACA,YACA,mBACA,wFAGI,cACE,OAAN,8EAEI,gBACE,IAAN,aACA,uBACQ,EAAR,kBAGM,IAAN,aACM,IAAN,WACA,eACU,EAAV,oBAOM,OAHN,oDACQ,EAAR,oBAEA,GAEI,eACE,IAAN,8BACA,OAaM,OAZN,qGACQ,EAAR,mCAGA,oBACA,eACU,EAAV,kBAIQ,EAAR,GAEA,GAEI,eACE,OAAN,oCACA,GAEA,iEACA,WAGA,WAGI,iBACE,OAAN,4EAEI,cACE,MAAN,yCAEI,eACE,MAAN,0CAEI,aACE,OAAN,wCAEI,wBACE,OAAN,oFAEI,uBAEE,OAAN,6EAGE,MAAF,CACI,QACE,KAAN,mBACM,KAAN,uCAEI,MAAJ,CACM,WAAN,EACM,UACE,KAAR,sBAIE,QAAF,CACI,mBACE,IAAN,YACQ,IAAR,oBACU,EAAV,8BAII,oBACE,IAAN,2CACA,kCACA,sCACA,qCACM,MAAN,OAEI,yBACJ,4BACQ,KAAR,mCAGI,aACE,OAAN,uBAEI,SAAJ,GACA,6DACQ,IAAR,GAEM,KAAN,kBAEI,aACE,GAAN,kCAAM,CAKA,IAAN,EACM,GAAN,wBACQ,EAAR,SAEA,CACQ,IAAR,gCACQ,OAAR,GACU,IAAV,SACY,EAAZ,GACY,MACF,IAAV,QACY,EAAZ,GACY,MACF,IAAV,SACY,EAAZ,GACY,MACF,IAAV,UACU,IAAV,SACY,EAAZ,EACY,MACF,IAAV,UACY,GAAZ,EACY,MACF,QACE,OAAZ,GAGM,KAAN,iBA/BQ,KAAR,wBAiCI,WAAJ,GACM,OAAN,YACA,WAGA,oBAGI,cAAJ,GACM,IAAN,qBACM,GAAN,EAGA,6BAGA,oBACQ,GAAR,yBACU,KAAV,8BAEA,mDACU,IAAV,aACU,EAAV,QACU,KAAV,iBAGU,KAAV,iBAGA,sBACQ,IAAR,0BACA,0CAGA,GACU,KAAV,aAHU,KAAV,iBAWQ,KAAR,iBA7BQ,KAAR,aAgCI,mBAAJ,GAEM,IAAN,qBACA,gCACQ,KAAR,cAEA,sCACQ,KAAR,qDAGI,uBAAJ,KACM,GAAN,kBACQ,IAAR,WACQ,QAAR,KACA,sCAGA,0BACY,EAAZ,YAGY,EAAZ,6CAKA,sBACQ,IAAR,WACA,2DAGA,iCACA,KAGY,EAAZ,wCAIM,OAAN,GAEI,QAAJ,GACM,KAAN,cACA,iCACQ,KAAR,kBAGI,UAAJ,GACM,IAAN,oBACQ,GAAR,iBAGU,OAFA,KAAV,sBACU,KAAV,uBACA,EAGM,OAAN,GAEI,WAAJ,GACM,IAAN,qBACM,QAAN,iCAGA,kCAEI,cAAJ,KACM,IAAN,uBACQ,OAAR,EAEA,0BACQ,OAAR,EAEM,IAAN,WACQ,GAAR,2BACU,OAAV,EAGM,OAAN,GAEI,eACE,OAAN,mBAEI,cAAJ,KAEM,GAAN,qDACQ,OAAR,iDAEM,IAAN,iCACM,OAAN,aACA,oCAGA,WAGI,YAAJ,UACM,GAAN,oBACQ,OAAR,SACA,MAEA,iBACA,wBAGA,yBAGA,wBACQ,GAAR,YACU,IAAV,qCACU,OAAV,0DAGU,OAAV,uBAGA,2BACA,WAEA,oBACA,aAGA,wCAGI,YAAJ,UACM,IAAN,KACM,IAAN,YACQ,IAAR,OACA,2BACA,wDAEQ,GAAR,YACU,GAAV,aACY,OAAZ,+CAGY,EAAZ,oCACY,MAIJ,EAAR,QACQ,GAAR,WAGM,OAAN,cAEI,kBAAJ,UACM,GAAN,gBACQ,IAAR,iDACQ,MAAR,mCAGQ,OAAR,GAGI,aAAJ,UACM,OAAN,0BACA,OAGA,iEACA,wBAEA,gBACA,wCAEA,qHACA,4BAEA,wBACA,2BAIA,uFC9euW,I,kCCSnWZ,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCiCf,MAAMiV,EAAkB,GAExB,OACE,KAAF,QACE,WAAF,CACI,eAAJ,GAEE,MAAF,CACI,GAAJ,CACM,KAAN,OACM,UAAN,GAEI,KAAJ,CACM,KAAN,OACM,UAAN,GAEI,MAAJ,CACM,KAAN,OACM,UAAN,GAEI,SAAJ,CACM,KAAN,QACM,SAAN,GAEI,KAAJ,CACM,KAAN,OACM,QAAN,UAEI,MAAJ,CACM,KAAN,OACM,UAAN,IAGE,OACE,MAAJ,CACM,KAAN,GACM,KAAN,OAGE,MAAF,CACI,sBACE,KAAN,8BAEI,MAAJ,CACM,WAAN,EACM,QAAN,GACQ,KAAR,6BAIE,SAAF,CAEI,SAAJ,CACM,IAAN,GACQ,EAAR,sBACQ,KAAR,6BACQ,KAAR,kBAIM,MACE,OAAR,yCAGI,KAAJ,CACM,IAAN,GACA,uCACU,KAAV,mBAEQ,IAAR,6BACA,0GACY,KAAZ,iCAGQ,KAAR,8BACQ,KAAR,UAEM,MACE,OAAR,8DAGI,QAAJ,CACM,IAAN,GACQ,KAAR,gCACQ,KAAR,UAEM,MACE,OAAR,wBAGI,OAAJ,CACM,IAAN,GACQ,KAAR,2BACQ,KAAR,UAEM,MACE,OAAR,uBAII,QAEE,OAAN,yBACA,+BAGA,+BAGI,SACE,MAAN,CACQ,WAAR,wEACQ,UAAR,wEACQ,SAAR,oCACQ,MAAR,+CAGI,aACE,OAAN,yCAEI,OACE,OAAN,WACQ,IAAR,UACU,OAAV,kBACA,kBAGA,eAEQ,IAAR,YACU,OAAV,eACQ,QACE,OAAV,UAGI,cACE,OAAN,YACA,SAEA,wBACA,oBAGA,IAGI,mBACE,IAAN,YAkCM,OAjCN,kBACQ,EAAR,yBAEA,yBACQ,EAAR,uBAEA,aACQ,EAAR,qBAEA,eACQ,EAAR,uBAEA,cACQ,EAAR,sBAGA,wBACQ,EAAR,gBAGA,oBACQ,EAAR,iBAEA,oBACQ,EAAR,gBAEA,oBACQ,EAAR,gBAEA,sBACQ,EAAR,gBAGA,GAEI,UACE,GAAN,kDAGQ,OAAR,EAEA,mBACQ,OAAR,EAIM,IAAN,UACQ,OAAR,EAIM,GAAN,iEACQ,IAAR,kCACU,GAAV,oBACY,OAAZ,EAGQ,OAAR,EAGM,OAAN,GAEI,YACE,GAAN,uBACQ,GAAR,sBACU,OAAV,sBAEA,4CACU,OAAV,aAGM,OAAN,MAEI,eACE,MAAN,sFAGA,KAFA,cAII,wBACE,OAAN,sHAEI,eACE,OAAN,0FAEI,aACE,OAAN,kBACA,wCAEA,wBACA,gEAGA,sCAGI,gBACE,OAAN,4CAEI,aACE,MAAN,gCAEI,SACE,MAAN,yBAGI,uBACE,OAAN,yGAEI,aACE,IAAN,KACA,KAKM,GAJN,4BACQ,EAAR,2CACQ,EAAR,kBAEA,yBACQ,IAAR,mBACA,eACY,EAAZ,iBACc,KAAd,EACc,YAAd,MAKM,OAAN,GAEI,SACE,IAAN,KACM,IAAN,yBACQ,EAAR,UAGM,OADA,EAAN,mBACA,GAEI,SACE,IAAN,KACA,6BACA,wBACU,EAAV,UAEA,qCACU,EAAV,oBAGM,IAAN,GACQ,KAAR,SACQ,OAAR,aACQ,YAAR,kBACQ,UAAR,EACQ,QAAR,EACQ,MAAR,IAQM,MANN,wBACQ,EAAR,6BAGQ,EAAR,wBAEA,IAGE,UAEE,KAAJ,oCACI,SAAJ,8CAEI,KAAJ,oCACI,SAAJ,4CAEI,KAAJ,uBAEE,gBACE,SAAJ,iDACI,SAAJ,+CAEI,KAAJ,yBAEE,QAAF,CACI,SACE,KAAN,0BAEI,QACE,KAAN,iBAEI,kBAAJ,GAEM,OADA,KAAN,6BACA,gCAEI,aAAJ,WAOM,OANN,GACQ,KAAR,sBAEM,KAAN,2BACM,KAAN,cACA,iBACA,GAEI,gBACE,IAAN,wCACM,IAAN,+BAGM,OAFA,EAAN,4BACM,EAAN,0BACA,GAEI,aAAJ,KACM,EAAN,uCAEI,eAAJ,QACM,KAAN,sKAEI,WACJ,kBACQ,KAAR,kDAEA,wBACQ,KAAR,uDAGQ,KAAR,6CAGI,yBACJ,cACM,KAAN,iBACA,iBACM,KAAN,4BAEI,cAAJ,GACA,0DACQ,KAAR,uBAGQ,KAAR,cAGI,eAAJ,GACM,KAAN,QACM,IAAN,4BACA,GACQ,KAAR,eAGI,WAAJ,GACM,MAAN,uFAEI,YACJ,gBACQ,KAAR,MACU,OAAV,cACU,MAAV,kCAII,WACE,GAAN,WACQ,IAAR,sBACA,qGACU,KAAV,SAEQ,KAAR,YAGI,WACJ,YACQ,KAAR,4CAII,iBACE,OAAN,uDAGI,qBACJ,gCAMI,kBAAJ,GACM,GAAN,gCACQ,OAAR,kBAEA,yCACQ,IAAR,8CACQ,GAAR,WACU,OAAV,KAGM,OAAN,QC5e8V,ICQ1V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIhV,EAAI7B,KAAS8B,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAIH,EAAIgC,GAAIhC,EAAS,OAAE,SAASiV,EAAKd,GAAG,OAAOhU,EAAG,OAAOH,EAAIuS,GAAG,CAACrQ,IAAIiS,GAAG,OAAOc,GAAK,OAAU,IAC7L,EAAkB,GCDP,MAAMC,EAEjBhX,YAAYiX,EAAGC,EAAGC,EAAIC,GAClBnX,KAAKgX,EAAIA,EACThX,KAAKiX,EAAIA,EACTjX,KAAKkX,GAAKA,EACVlX,KAAKmX,GAAKA,EAMdC,SAASC,EAAQC,GACb,OAAOlN,KAAKmN,KAAKnN,KAAKoN,IAAIF,EAAON,EAAEK,EAAOL,EAAE,GAAK5M,KAAKoN,IAAIF,EAAOL,EAAEI,EAAOJ,EAAE,IAMhFQ,UAAUC,GACN,IAAIC,EAAS3X,KAAK2X,SAClBA,EAAOX,EAAIU,EAAMV,EACjBW,EAAOV,EAAIS,EAAMT,EACjB,IAAIW,EAAe5X,KAAK4X,aAAaD,GAErC,MAAO,CAACC,EAAa,GAAI5X,KAAKoX,SAASO,EAAOE,MAAMD,EAAa,IAAKF,IAM1EC,SACI,OAAO,IAAIZ,EAAQ/W,KAAKgX,EAAGhX,KAAKiX,EAAGjX,KAAKmX,IAAKnX,KAAKkX,IAMtDU,aAAaE,GACT,IAAIC,EAAI/X,KAAKkX,GACTc,GAAKF,EAAMZ,GACX3V,EAAIvB,KAAKmX,GACTc,GAAKH,EAAMX,GACXe,EAAKJ,EAAMd,EAAEhX,KAAKgX,EAClBmB,EAAKL,EAAMb,EAAEjX,KAAKiX,EAClBmB,EAAML,EAAEE,EAAID,EAAEzW,EAElB,GAAW,GAAP6W,EACA,OAAO,KAGX,IAAIC,GAAMJ,EAAEC,EAAKF,EAAEG,GAAIC,EACnBE,IAAO/W,EAAE2W,EAAKH,EAAEI,GAAIC,EAExB,MAAO,CAACC,EAAIC,GAMhBT,MAAME,GACF,IAAIL,EAAQ,GAIZ,OAHAA,EAAMV,EAAIhX,KAAKgX,EAAEhX,KAAKkX,GAAGa,EACzBL,EAAMT,EAAIjX,KAAKiX,EAAEjX,KAAKmX,GAAGY,EAElBL,GCxDf,OACE,KAAF,OACE,MAAF,CACI,GAAJ,CACM,KAAN,OACM,UAAN,GAEI,WAAJ,CACM,KAAN,OACM,UAAN,GAEI,WAAJ,CACM,KAAN,OACM,UAAN,GAEI,SAAJ,CACM,KAAN,QACM,SAAN,GAEI,SAAJ,CACM,KAAN,QACM,SAAN,GAEI,UAAJ,CACM,KAAN,OACM,QAAN,GAEI,MAAJ,CACM,KAAN,OACM,UAAN,IAGE,OACE,MAAJ,CACM,UAAN,KACM,UAAN,OAGE,SAAF,CACI,UACE,OAAN,MACA,kBACA,kBACA,oCACA,sCAGI,kBACE,OAAN,iCAEI,QAEE,IAAN,0CACA,0CAEA,iBACA,cACA,cACA,eACA,eAEA,6GACA,8BACA,0BACA,0BAEA,sEACA,4DAEA,0FACM,OAAN,qCAEA,IAGA,CACA,EACA,4CACA,+CAKE,MAAF,CACI,iBACE,KAAN,mBAEI,gBACE,KAAN,mBAEI,iBACE,KAAN,oBAGE,UACE,KAAJ,mBAEE,QAAF,CACI,kBACE,IAAN,sCACA,sCACA,yIACQ,KAAR,YACQ,KAAR,YACQ,KAAR,kDAGI,aAAJ,aACM,IAAN,qBACM,MAAN,CACQ,OAAR,8CACQ,eAAR,EACQ,mBAAR,uBAaI,QAAJ,cACM,OAAN,eAAQ,qBAAR,IAKI,QAAJ,KACM,IAAN,aACQ,OAAR,EAGM,IAAN,0BAAQ,EAAR,EAAQ,EAAR,IAEM,OAAN,kBACA,wCACA,MASI,OAAJ,GACM,OAAN,8DAGA,gEClK6V,ICOzV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,kDCiCf,MAAMa,EAAkB,SAAxB,GACE,OAAF,mBACI,KAAJ,EACI,UAAJ,EACI,aAAJ,EACI,OAAJ,KACI,UAAJ,KACI,OAAJ,MACI,MAAJ,MACI,MAAJ,IACI,SAAJ,KACI,OAAJ,QAGMC,EAAS,GAETC,EAAyB,SAAUC,EAAQC,GACjD,yFACI,KAAJ,kEAIA,OACE,KAAF,SACE,WAAF,CACI,MAAJ,EACI,KAAJ,GAEE,MAAF,CACI,GAAJ,CACM,KAAN,OACM,UAAN,GAEI,SAAJ,CACM,KAAN,QACM,SAAN,GAEI,MAAJ,CACM,KAAN,OACM,QAAN,UAEI,YAAJ,CACM,KAAN,MACM,QAAN,QAEI,UAAJ,CACM,KAAN,eACM,QAAN,QAEI,aAAJ,CACM,KAAN,MACM,QAAN,QAEI,YAAJ,CACM,KAAN,OACM,QAAN,KAGE,OACE,MAAJ,CACM,WAAN,EAGM,eAAN,EAGM,QAAN,GACM,eAAN,KAEM,QAAN,WAEM,OAAN,GAEM,MAAN,GAEM,aAAN,KAGM,YAAN,EAEM,WAAN,EAEM,mBAAN,EAGM,MAAN,UAGE,SAAF,CACI,aACE,OAAN,qBAGA,CACQ,EAAR,sDACQ,EAAR,sDACQ,MAAR,sDACQ,OAAR,sDACQ,OAAR,kBACQ,eAAR,EACQ,KAAR,oBATA,MAYI,cACE,GAAN,qBACQ,IAAR,0CACQ,MAAR,CACU,GAAV,KACU,GAAV,KACU,GAAV,oBACU,GAAV,oBACU,OAAV,kBACU,eAAV,oBAGM,OAAN,MAEI,kBACE,OAAN,+CACA,eAGA,0CAGI,eACE,OAAN,gCAEI,gBACE,OAAN,2CAEI,iBACE,OAAN,mCAEI,gBACE,OAAN,kCAEI,mBACE,OAAN,uEACA,sBAEA,OAGE,MAAF,CACI,aAAJ,GACM,KAAN,8BAEI,YAAJ,GAEA,iBAKA,iBACQ,KAAR,gBACA,eAAU,WAAV,EAAU,aAAV,OAGI,SAAJ,CACM,WAAN,EACM,QAAN,GACQ,KAAR,mBAGI,cAAJ,EACI,eAAJ,GAEE,gBACF,wBAEM,KAAN,4CAII,KAAJ,mBAGI,KAAJ,sDACI,SAAJ,2DAEA,wDACA,wBAAM,WAAN,EAAM,aAAN,KACM,KAAN,eAEI,EAAJ,UAAI,GAEA,KAAJ,cAEE,gBACE,SAAJ,yDAEE,QAAF,CACI,WAAJ,GACM,KAAN,sBAEI,aAAJ,GACM,KAAN,yBAEI,iBAAJ,KACM,IAAN,oBACA,iDACU,KAAV,eAII,gBAAJ,KACM,IAAN,qBACQ,GAAR,YAEU,YADA,EAAV,QAKI,iBACE,IAAN,qBACA,oBACU,KAAV,2BAII,eACE,IAAN,0BACQ,KAAR,kCAGI,SAAJ,GACM,OAAN,qCAEI,QACE,KAAN,mBAEI,UAAJ,GACA,EACQ,KAAR,iCAGQ,KAAR,qCAGI,KAAJ,GACA,oBACQ,KAAR,eAGQ,KAAR,kBAGI,OAAJ,QACA,EACA,qBACU,KAAV,kBAEA,yBACU,KAAV,sBAIQ,KAAR,kBACQ,KAAR,sBAGI,cACE,IAAN,kBACM,KAAN,OACA,WACQ,GAAR,wCACU,IAAV,wBACU,OAAV,uDAEQ,OAAR,IAEA,sBACM,KAAN,MACA,6JACA,uBAEI,wBAAJ,GAWM,GAVN,uBACQ,KAAR,iDAEA,uBACQ,KAAR,cACQ,KAAR,sBAEA,oBACQ,KAAR,mBAEA,0CACQ,GAAR,8BACU,UACV,oDACA,SACY,KAAZ,iBAGQ,KAAR,WAGI,UAAJ,GACM,IAAN,yEACM,IAAN,WACQ,GAAR,2BACU,OAKV,oCACQ,KAAR,kBAGI,aAAJ,GACM,IAAN,2CACA,2CACA,uCACM,KAAN,8BACM,KAAN,gBAEI,YAAJ,GACM,IACE,IAAR,uBACA,uBACA,sBAGQ,GAFA,KAAR,kBAEA,4CACU,IAAV,yCACA,mDACA,OACY,KAAZ,8CACY,KAAZ,kCACY,KAAZ,UAIA,oBACU,KAAV,0DACU,KAAV,+BAEA,SACQ,QAAR,SAGI,YAAJ,GACM,IAAN,OAEM,GAAN,uBACQ,KAAR,sCAEA,cAGQ,IAAR,SAFQ,KAAR,eAEA,kBACU,IAAV,sBACA,qDACU,GAAV,MACA,gCACA,KACgB,EAAhB,aAEA,OACgB,EAAhB,eAGY,KAAZ,qBACY,EAAZ,iBACY,OAKZ,0CACQ,KAAR,+BAGM,KAAN,SAGI,gBACE,OAAN,uCAGI,cACE,aAAN,gCACQ,KAAR,SAEQ,KAAR,oGACQ,KAAR,cACQ,KAAR,aACQ,KAAR,YACA,KAII,OAAJ,kBAEA,6BAIA,OACQ,KAAR,eAEA,OACQ,KAAR,0CAOI,cACE,IAAN,kBACM,KAAN,yDACA,sCACQ,KAAR,gBAEM,KAAN,qCACM,KAAN,0DAEI,mBACJ,sBAEI,mBACJ,qBAEI,kBAAJ,GACM,IAAN,wBACA,kBACA,IACQ,KAAR,iBACQ,KAAR,UAAU,aAAV,EAAU,aAAV,EAAU,cAAV,IACQ,KAAR,2DAII,cAAJ,QAEM,GADA,EAAN,wBACA,sBAAM,CAIA,IAAN,UACQ,KAAR,yBACQ,KAAR,UAGM,EAAN,KACM,IAAN,KACA,KACM,IAAN,4BACQ,IAAR,eAMQ,GAFA,GAAR,EAEA,EACU,EAAV,WAIY,GAAZ,gCACc,EAAd,MACc,GAAd,EACc,OAKd,SACQ,KAAR,iEAII,qBAAJ,KACM,IAAN,uBAOM,OANN,WACQ,GAAR,uDAEA,WACQ,GAAR,sDAEA,OAGI,WAAJ,kBACM,OAAN,6BACQ,WAAR,EACQ,UAAR,EACQ,YACR,KAGI,SAAJ,UACM,IAAN,GACQ,GAAR,4BACQ,KAAR,UACQ,UAAR,EACQ,MAAR,2CAEA,uBACQ,EAAR,6CAGM,IAAN,uBAcM,OAbA,EAAN,2FAGA,yEACA,eAGA,gCACU,EAAV,iBAGM,KAAN,kCACM,KAAN,SACA,GAGI,2BAAJ,GACM,IAAN,uBACA,KACA,8EACA,8EAKM,OAHN,0BACQ,KAAR,oBAEA,GAGI,aAAJ,GACM,GAAN,OACQ,IAAR,wBACQ,MAAR,qDAIM,IAKN,EALA,WACA,0DACA,0DAKQ,EADR,IACA,+BAGA,8BAGM,IAAN,uEACA,WAEM,MAAN,OAGI,WAAJ,UACM,IAAN,uBACM,KAAN,eACA,qCACA,sCAEM,KAAN,kBAGI,YAAJ,QACM,IAAN,eAAM,CAGA,IAAN,qBACQ,KAAR,mCAEM,IAAN,oBACQ,KAAR,mBAII,WAAJ,sBACA,GACQ,KAAR,eAEA,qBACQ,EAAR,eAEA,UACQ,KAAR,qBAEM,KAAN,8BACM,KAAN,oDAMI,WAAJ,GACM,EAAN,wBACM,EAAN,wBACM,KAAN,2CAGI,oBAAJ,KACM,GAAN,mBACQ,OAAR,KAEM,IAAN,4BACQ,IAAR,uBACQ,GAAR,sDACU,IAAV,8BACU,GAAV,gCACY,OAAZ,GAIM,OAAN,MAMI,kBAAJ,GAGM,GAAN,sBACQ,IAAR,OACA,uBACU,EAAV,iCACA,WAEQ,GAAR,EACU,MAAV,6GAKM,aAAN,gCACQ,IAAR,uCACQ,GAAR,IACU,OAAV,EAGQ,IAAR,6BACA,gEACY,KAAZ,cASQ,OALR,gBACU,KAAV,oBAGQ,KAAR,wBACA,KAOI,aAAJ,GACM,IAAN,kCACM,OAAN,WACA,KAEA,MAMI,uBACE,OAAN,sEAIA,gCAEQ,IAAR,sCACA,oBACY,KAAZ,eAKQ,IAAR,qCACU,KAAV,cAEQ,OAAR,KAII,qBAAJ,SACM,IAAN,KACM,IAAN,eACQ,IAAR,uBACQ,IAAR,EACU,KAAV,uBAEA,UACU,KAAV,4BAEQ,EAAR,kBAEA,aACA,0BACA,4BAII,cAAJ,KACM,IAAN,MACQ,KAAR,oCAGM,GAAN,KAAM,CAIA,GAAN,qBACQ,KAAR,mCAGM,IAAN,oBACA,GAAQ,eAAR,EAAQ,UAAR,GAYM,GAXN,UACQ,EAAR,aACQ,EAAR,eAIQ,EAAR,aACQ,EAAR,eAIA,oBACQ,KAAR,2CAGM,IAAN,8DACQ,KAAR,4BAGM,IAAN,mGACQ,KAAR,6EAGM,GAAN,kEACQ,KAAR,mCAIM,IAAN,0BACQ,GAAR,8BACU,KAAV,iCAIM,aAAN,gCACQ,KAAR,SAGQ,KAAR,iCACQ,EAAR,sBACQ,EAAR,sBAGQ,KAAR,wCACA,MAOI,cAAJ,GACM,IAAN,YAEA,KACA,MACM,EAAN,SAEM,MAAN,YACQ,IAAR,UACQ,IAAR,iBACU,IAAV,qBACY,IAAZ,gBACY,GAAZ,aACc,IAAd,WACA,YACgB,EAAhB,SACgB,EAAhB,WAOM,OAAN,kBAMI,sBACE,KAAN,0CACM,KAAN,kDACA,iBACM,KAAN,gBAGI,OAAJ,MACM,IAAN,KACM,IAAN,6BACQ,IAAR,4BACA,UAEA,WAGA,6BACA,eAEA,qBACA,SAEQ,EAAR,QAIM,OAAN,qCAAQ,cAAR,MAOI,uBAAJ,aACM,IAAN,EACM,KAAN,qBAEM,IACE,QAAR,KACA,SAIQ,GAFA,KAAR,oCACQ,QAAR,QACA,kBACU,UACV,YACA,SACY,KAAZ,iCACY,QAAZ,OAGQ,GAAR,EAMM,OAHA,KAAN,qBACM,KAAN,uCAEA,GAOI,aAAJ,QACM,aAAN,iCAEA,oBACA,aACU,KAAV,uDAGA,qBAMA,gCAEU,KAAV,oEACU,KAAV,iEAGU,KAAV,2DAEQ,KAAR,0BACQ,KAAR,2BAEA,0FACA,0DACA,qCAEA,oBACU,KAAV,gBAGA,IACA,IAGI,yBAAJ,UACM,IAAN,iBACQ,OAIR,IACQ,KAAR,uEAGM,IAAN,wBACA,QACM,IAAN,WACQ,EAAR,EACA,OACA,YAGQ,KAAR,+BAEA,kBAGI,eAAJ,mBAEA,kEAGM,EAAN,oBACA,gCACQ,EAAR,WAEM,EAAN,SACM,KAAN,+BACQ,GAAR,OACQ,KAAR,YACQ,MAAR,CACU,eAAV,OACU,SAAV,kFAEQ,KAAR,OAII,kBACE,OAAN,6CAGI,kBAAJ,GACM,IAAN,eACM,IAAN,2BACQ,IAAR,uBACQ,IAAR,YACU,IAAV,yBACU,OAAV,yBACY,IAAZ,eACA,qEACc,MACF,IAAZ,kBACA,4DACc,MACF,IAAZ,SACY,IAAZ,cACA,+BACc,UAMV,qBAAJ,WACM,IAAN,WAEQ,GAAR,wDACA,sCAEA,qBACU,SAEV,kBACA,qEAEA,wBACA,8DAKI,kBAAJ,gBACM,IAAN,eACA,KACA,IACM,IAAN,YAMQ,GAAR,4EACU,GAAV,IACU,SAGF,IAAR,4CACQ,EAAR,kDAEQ,IAAR,wBACQ,EAAR,WAEQ,IAAR,uBACQ,EAAR,+BACQ,EAAR,qBAEQ,EAAR,2BAEA,gBACA,4BAGA,SACA,kBAII,YAAJ,QACA,yDACQ,EAAR,iBACQ,KAAR,eAEM,IAAN,qBAIM,OAHN,kBACQ,KAAR,4CAEA,GAMI,eACE,GAAN,uCAAM,CAIA,IAAN,OAAU,EAAV,KACA,OAAU,EAAV,KAEM,IAAN,sBACQ,IAAR,iBACA,uBACA,uCACA,SACU,EAAV,QACU,EAAV,aACU,EAAV,QACU,EAAV,eAEU,EAAV,oBACU,EAAV,yBACU,EAAV,oBACU,EAAV,0BAIM,IAAN,yCACA,gBACA,iBACM,KAAN,8BACM,KAAN,cACA,mCACA,qCAEM,KAAN,qBAKA,MAAMC,EACJ,YAAF,GACI,OAAJ,gBCpnC+V,QCQ3V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,wDCyCf,GACA,oBACA,gBACA,YACA,SACA,wBACA,4BACA,wBAEA,qEAEA,OACA,UACA,UACA,aACA,YAEA,OACA,YACA,kBAEA,cACA,WACA,gBAEA,sBACA,aACA,YAEA,OACA,aAEA,iBAEA,aACA,oCACA,0CACA,qEAEA,OACA,OACA,WACA,WACA,eACA,gBACA,UACA,kBAGA,OACA,SACA,oCAGA,YACA,4DAEA,UAEA,+FACA,qBAEA,uBAGA,uBACA,4BAGA,sBACA,6EAGA,oBACA,sBACA,uBAGA,aACA,oBAGA,UACA,wDACA,MACA,mBACA,oBACA,wCAIA,eACA,OACA,CACA,YACA,uBACA,uBACA,eAGA,+CACA,2CACA,uCAKA,qBACA,6BAEA,sBACA,iFAEA,mEACA,sDAGA,eACA,iEACA,GACA,cAGA,QACA,mBACA,0BAEA,mBAGA,+BACA,IACA,kDACA,yDACA,SACA,2BAIA,0BACA,uCACA,iBACA,CACA,aC3MsV,ICQlV,I,WAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,qBCKf,IACA,cACA,YACA,gBACA,mBACA,kBACA,kBAEA,OACA,UACA,UACA,aACA,YAEA,OACA,YACA,kBAEA,OACA,aAEA,cACA,WACA,gBAEA,sBACA,aACA,YAEA,iBAEA,OACA,QACA,mBAGA,OACA,OACA,gBACA,eACA,aAGA,UACA,kBAEA,aACA,kEAEA,SACA,YACA,gBACA,4BAEA,WACA,gBACA,0BACA,uCAEA,Y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EA,gBACA,sCAEA,mBACA,iCACA,SACA,wCACA,sBAEA,0BAEA,UACA,yBACA,0FACA,gBACA,mBACA,oBACA,cACA,kBACA,qBAEA,wFAGA,8BAIA,oBACA,uBACA,kBACA,+CAGA,gCACA,uDACA,uBACA,iBACA,kBACA,oBAGA,UACA,+DACA,yBAGA,UACA,+DACA,yBAGA,eACA,2BAKA,qBACA,gCALA,qBACA,IAOA,oBACA,SAGA,EACA,oBAGA,EANA,qBASA,2BACA,SACA,wEACA,cACA,cAEA,mBACA,cACA,UAGA,mDAGA,8EACA,uDAGA,IACA,yBACA,cACA,0BACA,UAEA,eACA,gBACA,gBACA,iBACA,gBACA,0EACA,MACA,uBACA,iBACA,eACA,4EACA,MACA,iBACA,gDACA,qBACA,2EACA,MAGA,QACA,2BACA,gFACA,MAEA,SACA,IACA,kDACA,mCACA,2BACA,yEACA,OAEA,SACA,iBAGA,kGCtMgV,MCQ5U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,+CCsCf,IACA,WACA,gBACA,YACA,yBACA,qBACA,UACA,WACA,gBACA,oEACA,iEACA,oEACA,iEACA,qEACA,qEACA,+DACA,gEACA,oEACA,qEAEA,OACA,OACA,UACA,eACA,YACA,CACA,iBACA,kBACA,cACA,aAEA,CACA,iBACA,eACA,eACA,cAGA,kBACA,oBACA,uBAGA,aACA,mCACA,mDACA,+DACA,kEACA,0EACA,4GACA,eACA,wEAEA,gBACA,6BACA,0DACA,kEACA,4EAIA,gBACA,UACA,0BACA,SACA,oDAIA,UACA,sDACA,oDACA,4CACA,oDACA,oDACA,oDACA,0DACA,0DACA,8CACA,8CACA,4CAEA,oDACA,sDACA,uBACA,gGAEA,+BAEA,gBACA,4BACA,yDAEA,6BACA,qCAGA,YACA,+DACA,+DACA,sDACA,0DAEA,cACA,uDAGA,gBACA,mBACA,UACA,uBAIA,eACA,oBAGA,iBACA,oCAGA,0BACA,eACA,cACA,gBAIA,uBACA,gBAGA,iBACA,oEACA,IAEA,EAFA,+BACA,0BAGA,EADA,mBACA,iLAGA,IAEA,qBACA,6BACA,mBACA,sBAIA,qBACA,eACA,yBACA,MAIA,8BACA,oCACA,sBAGA,gBAEA,+BAGA,sBACA,2BACA,4CACA,gFAGA,uBACA,+CAGA,mBACA,0BAGA,+BACA,wCAGA,0BACA,wCAGA,2BACA,WACA,qQAIA,oCAGA,oBACA,SAMA,8BALA,+BACA,gDACA,gEAOA,yBACA,iCAGA,mBACA,iCAGA,sBACA,+BAGA,qBACA,uCAGA,iBACA,mCAGA,oBACA,gCAGA,gCACA,4BACA,KACA,KACA,eACA,WAGA,uBACA,mBAEA,+CC9S6U,MCQzU,I,UAAY,eACd,GACAne,EACAC,GACA,EACA,KACA,KACA,OAIa,gB","file":"js/chunk-9726f9e4.5e8e0a28.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobPanel.vue?vue&type=style&index=0&lang=css&\"","import { Control } from 'ol/control.js';\n\nexport default class Progress {\n\n\tconstructor() {\n\t\tthis.createHtml();\n\t\tthis.loading = 0;\n\t\tthis.loaded = 0;\n\t}\n\n\taddLoading() {\n\t\tthis.loading++;\n\t\tthis.update();\n\t};\n\n\taddLoaded() {\n\t\tthis.loaded++;\n\t\tthis.update();\n\t}\n\n\tupdate() {\n\t\tvar percent = (this.loaded / this.loading * 100).toFixed(1) + '%';\n\t\n\t\tthis.label.innerText = \"Loading Tiles (\" + percent + \")\";\n\t\tthis.progressBarInner.style.width = percent;\n\n\t\tif (this.loading === this.loaded) {\n\t\t\tthis.loading = 0;\n\t\t\tthis.loaded = 0;\n\t\t}\n\n\t\tthis.el.style.opacity = this.show() ? 1 : 0;\n\t}\n\n\tshow() {\n\t\treturn (this.loading > 0 && this.loaded <= this.loading);\n\t}\n\n\tcreateHtml() {\n\t\tthis.el = document.createElement('div');\n\t\tthis.el.className = 'ol-unselectable ol-progress-control';\n\t\tthis.progressBar = document.createElement('div');\n\t\tthis.progressBar.className = 'progress-bar';\n\t\tthis.progressBarInner = document.createElement('div');\n\t\tthis.progressBarInner.className = 'progress-bar-inner';\n\t\tthis.progressBar.appendChild(this.progressBarInner);\n\t\tthis.label = document.createElement('div');\n\t\tthis.label.className = 'progress-label';\n\t\tthis.el.appendChild(this.progressBar);\n\t\tthis.el.appendChild(this.label);\n\t}\n\t\n\tgetControl() {\n\t\tvar c = new Control({\n\t\t\telement: this.el\n\t\t});\n\t\treturn c;\n\t}\n\n}","<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\n\nimport 'ol/ol.css';\nimport { defaults as defaultControls, FullScreen, ScaleLine } from 'ol/control';\nimport { isEmpty as extentIsEmpty } from 'ol/extent';\nimport GeoJSON from 'ol/format/GeoJSON';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport { fromLonLat } from 'ol/proj';\nimport TileLayer from 'ol/layer/Tile';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport OSM from 'ol/source/OSM';\n\nimport 'ol-ext/control/LayerSwitcher.css';\nimport LayerSwitcher from 'ol-ext/control/LayerSwitcher';\n\nimport Progress from './openlayers/progress';\n\nexport default {\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tcenter: { // WGS84: lat, lon\n\t\t\ttype: Array,\n\t\t\tdefault: () => [0,0]\n\t\t},\n\t\tzoom: {\n\t\t\ttype: Number,\n\t\t\tdefault: 1\n\t\t},\n\t\tshow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmap: null,\n\t\t\tbaseLayer: null,\n\t\t\tosm: null,\n\t\t\tprogress: null\n\t\t};\n\t},\n\twatch: {\n\t\tshow() {\n\t\t\tthis.showMap();\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.showMap();\n\t},\n\tmethods: {\n\t\tshowMap() {\n\t\t\tif (this.show) {\n\t\t\t\tthis.$nextTick(this.renderMap);\n\t\t\t}\n\t\t},\n\t\tcreateMap(showLayerSwitcher = false) {\n\t\t\tif (this.map !== null) {\n\t\t\t\tthis.map.updateSize();\n\t\t\t\tthis.map.render();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.progress = new Progress();\n\t\t\tthis.osm = new OSM();\n\t\t\tthis.baseLayer = new TileLayer({\n\t\t\t\tsource: this.trackTileProgress(this.osm),\n\t\t\t\tbaseLayer: true,\n\t\t\t\ttitle: \"OpenStreetMap\"\n\t\t\t});\n\t\t\tvar customControls = [\n\t\t\t\tnew FullScreen(),\n\t\t\t\tnew ScaleLine(),\n\t\t\t\tthis.progress.getControl()\n\t\t\t];\n\t\t\tif (showLayerSwitcher) {\n\t\t\t\tcustomControls.push(new LayerSwitcher());\n\t\t\t}\n\t\t\tvar mapOptions = {\n\t\t\t\ttarget: this.id,\n\t\t\t\tlayers: [\n\t\t\t\t\tthis.baseLayer\n\t\t\t\t],\n\t\t\t\tview: new View({\n\t\t\t\t\tcenter: fromLonLat([this.center[1], this.center[0]]),\n\t\t\t\t\tzoom: this.zoom\n\t\t\t\t})\n\t\t\t};\n\t\t\tif (!this.editable) {\n\t\t\t\tmapOptions.interactions = [];\n\t\t\t\tmapOptions.controls = customControls;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmapOptions.controls = defaultControls().extend(customControls);\n\t\t\t}\n\t\t\tthis.map = new Map(mapOptions);\n\n\t\t\tthis.listen('windowResized', this.updateMapSize);\n\t\t},\n\n\t\t// To be overridden by implementing components.\n\t\trenderMap() {\n\t\t\tthis.createMap();\n\t\t},\n\n\t\tupdateMapSize() {\n\t\t\tif (this.map) {\n\t\t\t\tthis.map.updateSize();\n\t\t\t}\n\t\t},\n\n\t\taddGeoJson(geojson) {\n\t\t\tvar sourceOpts = {};\n\t\t\tif (Utils.detectGeoJson(geojson)) {\n\t\t\t\tsourceOpts.features = (new GeoJSON()).readFeatures(\n\t\t\t\t\tgeojson,\n\t\t\t\t\t{\n\t\t\t\t\t\tfeatureProjection: this.osm.getProjection()\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\tvar source = new VectorSource(sourceOpts);\n\t\t\tvar layer = new VectorLayer({\n\t\t\t\ttitle: \"GeoJSON\",\n\t\t\t\tsource: source\n\t\t\t});\n\t\t\tthis.map.addLayer(layer);\n\t\t\tvar extent = source.getExtent();\n\t\t\tif (!extentIsEmpty(extent)) {\n\t\t\t\tthis.map.getView().fit(extent);\n\t\t\t}\n\t\t\treturn layer;\n\t\t},\n\n\t\ttrackTileProgress(source) {\n\t\t\tsource.on('tileloadstart', () => {\n\t\t\t\tthis.progress.addLoading();\n\t\t\t});\n\t\t\tsource.on('tileloadend', () => {\n\t\t\t\tthis.progress.addLoaded();\n\t\t\t});\n\t\t\tsource.on('tileloaderror', () => {\n\t\t\t\tthis.progress.addLoaded();\n\t\t\t});\n\t\t\treturn source;\n\t\t}\n\n\t}\n}\n</script>","var render, staticRenderFns\nimport script from \"./MapMixin.vue?vue&type=script&lang=js&\"\nexport * from \"./MapMixin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapMixin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapMixin.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"textEditor\",class:_vm.languageString},[_c('div',{staticClass:\"sourceHeader\"},[(_vm.title)?_c('h3',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_c('div',{staticClass:\"sourceToolbar\"},[(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"title\":\"New script / Clear current script\"},on:{\"click\":_vm.confirmClear}},[_c('i',{staticClass:\"fas fa-file\"})]),_vm._t(\"file-toolbar\")],2):_vm._e(),(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canUndo,\"title\":\"Revert last change\"},on:{\"click\":function($event){return _vm.editor.undo()}}},[_c('i',{staticClass:\"fas fa-undo-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canRedo,\"title\":\"Redo last reverted change\"},on:{\"click\":function($event){return _vm.editor.redo()}}},[_c('i',{staticClass:\"fas fa-redo-alt\"})]),_vm._t(\"edit-toolbar\")],2):_vm._e(),_c('FullscreenButton',{attrs:{\"element\":_vm.$el}}),_vm._t(\"toolbar\")],2)]),_c('div',{staticClass:\"sourceCodeEditor\",attrs:{\"id\":_vm.id}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"textEditor\" :class=\"languageString\">\n\t\t<div class=\"sourceHeader\">\n\t\t\t<h3 v-if=\"title\">{{ title }}</h3>\n\t\t\t<div class=\"sourceToolbar\">\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"confirmClear\" title=\"New script / Clear current script\"><i class=\"fas fa-file\"></i></button>\n\t\t\t\t\t<slot name=\"file-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"editor.undo()\" :disabled=\"!canUndo\" title=\"Revert last change\"><i class=\"fas fa-undo-alt\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"editor.redo()\" :disabled=\"!canRedo\" title=\"Redo last reverted change\"><i class=\"fas fa-redo-alt\"></i></button>\n\t\t\t\t\t<slot name=\"edit-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<FullscreenButton :element=\"$el\" />\n\t\t\t\t<slot name=\"toolbar\"></slot>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"id\" class=\"sourceCodeEditor\"></div>\n\t</div>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport FullscreenButton from './FullscreenButton.vue';\nimport { ProcessGraph } from '@openeo/js-processgraphs';\n\nimport CodeMirror from 'codemirror';\nimport 'codemirror/lib/codemirror.css';\n\nimport 'codemirror/mode/javascript/javascript.js';\nimport 'codemirror/mode/markdown/markdown.js';\nimport 'codemirror/mode/mathematica/mathematica.js';\nimport 'codemirror/mode/python/python.js';\nimport 'codemirror/mode/r/r.js';\n\nimport 'codemirror/addon/display/placeholder.js';\n\nimport 'codemirror/addon/edit/matchbrackets.js';\nimport 'codemirror/addon/edit/closebrackets.js';\n\nimport 'codemirror/addon/lint/lint.css';\nimport 'codemirror/addon/lint/lint.js';\nimport 'codemirror/addon/lint/json-lint.js'\nimport jsonlint from 'jsonlint-mod';\nwindow.jsonlint = jsonlint;\n\nexport default {\n\tname: 'TextEditor',\n\tcomponents: {\n\t\tFullscreenButton\n\t},\n\tprops: {\n\t\tid: String,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {\n\t\t\trequired: true\n\t\t},\n\t\tlanguage: {\n\t\t\ttype: String,\n\t\t\tdefault: null // json, r, python, markdown, processgraph or null\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters(['processRegistry']),\n\t\tlanguageString() {\n\t\t\treturn typeof this.language === 'string' ? this.language.toLowerCase() : '';\n\t\t},\n\t\teditorOptions() {\n\t\t\tlet options = {\n\t\t\t\tindentUnit: 2,\n\t\t\t\tlineNumbers: true,\n\t\t\t\tindentWithTabs: true,\n\t\t\t\tmatchBrackets: true,\n\t\t\t\tautoCloseBrackets: true,\n\t\t\t\treadOnly: !this.editable,\n\t\t\t\tplaceholder: this.placeholder\n\t\t\t};\n\t\t\tswitch(this.languageString) {\n\t\t\t\tcase 'r':\n\t\t\t\t\toptions.mode = 'text/x-rsrc';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'python':\n\t\t\t\t\toptions.mode = 'text/x-python';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'math':\n\t\t\t\t\toptions.mode = 'text/x-mathematica'; // Use mathematica mode until we have something better for openEO\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'markdown':\n\t\t\t\t\toptions.mode = 'text/x-markdown';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'json':\n\t\t\t\tcase 'processgraph':\n\t\t\t\t\tObject.assign(options, {\n\t\t\t\t\t\tmode: \"application/json\",\n\t\t\t\t\t\tgutters: [\"CodeMirror-lint-markers\"],\n\t\t\t\t\t\tlint: true\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn options;\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanUndo: false,\n\t\t\tcanRedo: false,\n\t\t\teditor: null,\n\t\t\temitValue: this.value\n\t\t}\n\t},\n\twatch: {\n\t\tvalue() {\n\t\t\tif (this.emitValue !== this.value) {\n\t\t\t\tthis.updateContent();\n\t\t\t\tthis.editor.clearHistory();\n\t\t\t}\n\t\t},\n\t\teditorOptions() {\n\t\t\tfor(var key in this.editorOptions) {\n\t\t\t\tthis.editor.setOption(key, this.editorOptions[key]);\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.editor = CodeMirror(document.getElementById(this.id), this.editorOptions);\n\t\tthis.editor.setSize(null, \"100%\");\n\t\tif (this.languageString === 'processgraph') {\n\t\t\tthis.editor.on(\"change\", () => this.updateState());\n\t\t}\n\t\tthis.updateContent();\n\n\t\t// Listen for changes only after first initialization\n\t\tthis.editor.on('changes', (cm, evt) => {\n\t\t\ttry {\n\t\t\t\t// Don't commit external changes (i.e. coming from the value prop)\n\t\t\t\tif (Object.values(evt).filter(e => e.origin === 'setValue').length === 0) {\n\t\t\t\t\tthis.commit();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.$emit('error', error);\n\t\t\t}\n\t\t});\n\t},\n\tmethods: {\n\t\tconfirmClear() {\n\t\t\tvar confirmed = confirm(\"Do you really want to clear the existing code?\");\n\t\t\tif (confirmed) {\n\t\t\t\tthis.insert(\"\");\n\t\t\t\tthis.emit(null);\n\t\t\t}\n\t\t},\n\t\tupdateState() {\n\t\t\t// Don't lint empty values\n\t\t\tthis.editor.setOption(\"lint\", !!this.editor.getValue().trim());\n\t\t\t// Update history state\n\t\t\tlet history = this.editor.getDoc().historySize();\n\t\t\tthis.canUndo = history.undo > 0;\n\t\t\tthis.canRedo = history.redo > 0;\n\t\t\t// Refresh editor\n\t\t\tthis.editor.refresh();\n\t\t},\n\t\tcommit() {\n\t\t\tvar value = this.editor.getValue();\n\t\t\tswitch(this.languageString) {\n\t\t\t\tcase 'math':\n\t\t\t\t\treturn this.emit(value.replace(/[\\r\\n\\t]+/, ' ')); // Replace line breaks and tabs with simple spaces\n\t\t\t\tcase 'processgraph':\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tvar process = JSON.parse(value);\n\t\t\t\t\t\tif (Utils.size(process) > 0) {\n\t\t\t\t\t\t\tvar pg = new ProcessGraph(process, this.processRegistry);\n\t\t\t\t\t\t\tpg.allowEmpty();\n\t\t\t\t\t\t\tpg.parse();\n\t\t\t\t\t\t\treturn this.emit(process);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this.emit(null);\n\t\t\t\tcase 'json':\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\treturn this.emit(JSON.parse(value));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn this.emit(null);\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.emit(value);\n\t\t\t}\n\t\t},\n\t\temit(value) {\n\t\t\tthis.emitValue = value;\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tinsert(text, replace = true) {\n\t\t\tif (typeof text !== 'string') {\n\t\t\t\ttext = String(text);\n\t\t\t}\n\t\t\tif (replace) {\n\t\t\t\t// Only update if it has really changed\n\t\t\t\tconst cmValue = this.editor.getValue();\n\t\t\t\tif (text !== cmValue) {\n\t\t\t\t\tconst scrollInfo = this.editor.getScrollInfo();\n\t\t\t\t\tthis.editor.setValue(text);\n\t\t\t\t\tthis.editor.scrollTo(scrollInfo.left, scrollInfo.top)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.editor.replaceSelection(text);\n\t\t\t}\n\t\t},\n\t\tupdateContent() {\n\t\t\tif (this.value) {\n\t\t\t\tswitch(this.languageString) {\n\t\t\t\t\tcase 'processgraph':\n\t\t\t\t\t\tif (Utils.isObject(this.value)) {\n\t\t\t\t\t\t\tthis.insert(JSON.stringify(this.value, null, this.editorOptions.indentUnit));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.insert(\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'json':\n\t\t\t\t\t\tthis.insert(JSON.stringify(this.value, null, this.editorOptions.indentUnit));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.insert(this.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.insert(\"\");\n\t\t\t}\n\t\t\tthis.editor.getDoc().clearHistory();\n\t\t\tthis.updateState();\n\t\t},\n\n\t\tinsertProcess(node) {\n\t\t\ttry {\n\t\t\t\tthis.insert(JSON.stringify(node, null, 2), false);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\n\t}\n}\n</script>\n\n<style scoped>\n.textEditor {\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: 1px solid #ddd;\n}\n.sourceCodeEditor {\n\tflex-grow: 1;\n\theight: 100%;\n\toverflow: auto;\n}\n</style>\n<style>\n.textEditor.math .cm-operator {\n\tmargin: 0 0.2em;\n}\n.CodeMirror-placeholder {\n\topacity: 0.5;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=17370a10&scoped=true&\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextEditor.vue?vue&type=style&index=0&id=17370a10&scoped=true&lang=css&\"\nimport style1 from \"./TextEditor.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17370a10\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomProcessPanel.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAreaSelect.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataTypes.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectEditor.vue?vue&type=style&index=0&id=e5082542&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=style&index=0&id=429bcd36&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selectedSchema)?_c('div',{staticClass:\"fieldContainer\"},[(_vm.showDataTypeChooser)?_c('div',{staticClass:\"dataTypeChooser\"},[_c('select',{attrs:{\"name\":\"dataType\",\"disabled\":!_vm.editable},domProps:{\"value\":_vm.selectedType},on:{\"input\":_vm.onSelectType}},[(_vm.groupedAllowedTypes.length > 1)?_vm._l((_vm.groupedAllowedTypes),function(group){return _c('optgroup',{key:group.name,attrs:{\"label\":group.name}},_vm._l((group.types),function(type){return _c('option',{key:type.dataType(),domProps:{\"value\":type.dataType()}},[_vm._v(_vm._s(_vm._f(\"dataTypeTitle\")(type)))])}),0)}):_vm._l((_vm.groupedAllowedTypes[0].types),function(type){return _c('option',{key:type.dataType(),domProps:{\"value\":type.dataType()}},[_vm._v(_vm._s(_vm._f(\"dataTypeTitle\")(type)))])})],2)]):_vm._e(),(!_vm.isItem && _vm.selectedSchema.description())?_c('div',{staticClass:\"description\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('Description',{attrs:{\"description\":_vm.selectedSchema.description(),\"compact\":true}})],1):_vm._e(),_c('ParameterDataType',{attrs:{\"editable\":_vm.editable,\"parameter\":_vm.parameter,\"schema\":_vm.selectedSchema,\"processId\":_vm.processId,\"context\":_vm.context,\"parent\":_vm.parent},on:{\"changeType\":_vm.setSelected},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { JsonSchemaValidator } from '@openeo/js-processgraphs';\nimport ajv from 'ajv';\nimport { Versions } from '@openeo/js-commons';\n\nvar instance = null;\n\nexport default class JsonSchema extends JsonSchemaValidator {\n\n\tstatic create(store) {\n\t\tif (instance === null) {\n\t\t\tinstance = new JsonSchema(store);\n\t\t}\n\t\treturn instance;\n\t}\n\n\tconstructor(store) {\n\t\tsuper();\n\t\tthis.store = store;\n\t\tthis.setFileFormats(this.store.getters.fileFormats);\n\t}\n\n\tasync validateBandName(data) {\n\t\treturn data.length > 0;\n\t}\n\n\tasync validateEpsgCode(data) {\n\t\tawait this.store.dispatch('editor/loadEpsgCodes');\n\t\tif (this.store.state.editor.epsgCodes[data]) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"Invalid EPSG code '\" + data + \"' specified.\"\n\t\t}]);\n\t}\n\n\tasync validateCollectionId(data) {\n\t\tif (this.store.state.collections.filter(c => c.id === data).length > 0) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"Collection with id '\" + data + \"' doesn't exist.\"\n\t\t}]);\n\t}\n\n\tasync validateFilePath(data) {\n\t\tif (this.store.getters['files/getById'](data)) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"File at '\" + data + \"' doesn't exist.\"\n\t\t}]);\n\t}\n\n\tasync validateInputFormatOptions(data) {\n\t\tthrow \"Not supported\";\n\t}\n\n\tasync validateOutputFormatOptions(data) {\n\t\tthrow \"Not supported\";\n\t}\n\n\tasync validateJobId(data) {\n\t\tif (this.store.getters['jobs/getById'](data)) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"Job with id '\" + data + \"' doesn't exist.\"\n\t\t}]);\n\t}\n\n\tasync validateUri(data) {\n\t\tif (data.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/)) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"URI is invalid\"\n\t\t}]);\n\t}\n\n\tasync validateUdfCode(data) {\n\t\t// This is no real validation, but most data types don't have line breaks so trying this for now...\n\t\tif (data.match(/(\\r|\\n)/)) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"UDF Code is invalid\"\n\t\t}]);\n\t}\n\n\tasync validateUdfRuntime(data) {\n\t\tif (data in this.store.state.udfRuntimes) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"UDF runtime '\" + data + \"' is not supported.\"\n\t\t}]);\n\t}\n\n\tasync validateUdfRuntimeVersion(data) {\n\t\t// Can't completely check yet whether it's a valid version as I don't know which udf runtime it's for, but for now can check that it's a valid version number\n\t\tif (Versions.validate(data)) {\n\t\t\treturn true;\n\t\t}\n\t\tthrow new ajv.ValidationError([{\n\t\t\tmessage: \"UDF runtime version '\" + data + \"' is not a valid version number.\"\n\t\t}]);\n\t}\n\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fieldEditorContainer\"},[(_vm.isResult)?[_c('div',{staticClass:\"fieldValue externalData fromNode\"},[_c('span',[_vm._v(\"Output of \"),_c('tt',[_vm._v(\"#\"+_vm._s(_vm.state.from_node))])],1)]),(_vm.nativeParameterType === 'array')?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.convertToArray()}}},[_c('i',{staticClass:\"fas fa-list\"}),_vm._v(\" Convert to array\")]):_vm._e()]:(_vm.type === 'raster-cube' || _vm.type === 'vector-cube')?_c('div',{staticClass:\"fieldValue description\"},[_c('i',{staticClass:\"fas fa-exclamation-circle\"}),_vm._v(\" This parameter can only be set by creating a connection between an \\\"Output\\\" / \\\"Result\\\" and this parameter in the Visual Model. \")]):(_vm.isPgParameter)?[_c('div',{staticClass:\"fieldValue externalData fromArgument\"},[_c('span',[_vm._v(\"Value of process parameter \"),_c('tt',[_vm._v(_vm._s(_vm.state.from_parameter))])],1)]),(_vm.nativeParameterType === 'array')?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.convertToArray()}}},[_c('i',{staticClass:\"fas fa-list\"}),_vm._v(\" Convert to array\")]):_vm._e()]:(_vm.type === 'null')?_c('div',{staticClass:\"description\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_vm._v(\" This is set to \"),_c('strong',[_c('tt',[_vm._v(\"null\")])],1),_vm._v(\", which is usually used as placeholder for no-data values or a default value.\")]):(_vm.isSelection)?_c('SelectBox',{key:_vm.type,attrs:{\"type\":_vm.type,\"editable\":_vm.editable,\"schema\":_vm.schema,\"context\":_vm.dependency},on:{\"onDetails\":_vm.onSelectDetails},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.isTemporal)?_c('TemporalPicker',{key:_vm.type,attrs:{\"type\":_vm.type,\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'bounding-box')?_c('MapAreaSelect',{key:_vm.type,staticClass:\"areaSelector\",attrs:{\"id\":_vm.name + '_bbox',\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'geojson')?_c('MapGeoJsonEditor',{key:_vm.type,staticClass:\"geoJsonEditor\",attrs:{\"id\":_vm.name + '_geojson',\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'process-graph')?_c('Editor',{staticClass:\"callbackEditor\",attrs:{\"id\":_vm.name,\"editable\":_vm.editable,\"pgParameters\":_vm.processParameters,\"showDiscoveryToolbar\":true,\"defaultValue\":_vm.editorDefaultValue},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'output-format-options' || _vm.type === 'input-format-options')?_c('FileFormatOptionsEditor',{ref:\"fileFormatOptionsEditor\",attrs:{\"type\":_vm.type,\"format\":_vm.dependency},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'budget')?_c('Budget',{attrs:{\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'udf-code')?_c('TextEditor',{staticClass:\"fieldValue textarea\",attrs:{\"id\":_vm.name,\"editable\":_vm.editable,\"language\":_vm.dependency},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'commonmark')?_c('TextEditor',{staticClass:\"fieldValue textarea\",attrs:{\"id\":_vm.name,\"editable\":_vm.editable,\"language\":\"markdown\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'wkt2-definition' || _vm.type === 'proj-definition')?_c('TextEditor',{staticClass:\"fieldValue textarea\",attrs:{\"id\":_vm.name,\"editable\":_vm.editable},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type == 'json')?_c('TextEditor',{staticClass:\"fieldValue textarea\",attrs:{\"id\":_vm.name,\"editable\":_vm.editable,\"language\":\"json\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):(_vm.type === 'boolean')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state),expression:\"state\"}],staticClass:\"fieldValue\",attrs:{\"type\":\"checkbox\",\"name\":_vm.name,\"disabled\":!_vm.editable},domProps:{\"checked\":Array.isArray(_vm.state)?_vm._i(_vm.state,null)>-1:(_vm.state)},on:{\"change\":function($event){var $$a=_vm.state,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.state=$$a.concat([$$v]))}else{$$i>-1&&(_vm.state=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.state=$$c}}}}):(_vm.type === 'integer' || _vm.type === 'number')?_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.state),expression:\"state\",modifiers:{\"number\":true}}],staticClass:\"fieldValue\",attrs:{\"type\":\"number\",\"min\":_vm.numericMin,\"max\":_vm.numericMax,\"step\":_vm.numericStep,\"name\":_vm.name,\"disabled\":!_vm.editable},domProps:{\"value\":(_vm.state)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.state=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}):(_vm.type === 'url' || _vm.type === 'uri')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state),expression:\"state\"}],staticClass:\"fieldValue\",attrs:{\"type\":\"url\",\"name\":_vm.name,\"disabled\":!_vm.editable},domProps:{\"value\":(_vm.state)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.state=$event.target.value}}}):(_vm.nativeType === 'object' || _vm.nativeType === 'array')?_c('ObjectEditor',{attrs:{\"editable\":_vm.editable,\"parameter\":_vm.parameter,\"schema\":_vm.schema,\"isObject\":_vm.nativeType === 'object',\"context\":_vm.context},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state),expression:\"state\"}],staticClass:\"fieldValue\",attrs:{\"type\":\"text\",\"name\":_vm.name,\"disabled\":!_vm.editable},domProps:{\"value\":(_vm.state)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.state=$event.target.value}}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{editor: true, array: !_vm.isObject, object: _vm.isObject}},[_c('div',{staticClass:\"buttons\"},[(_vm.editable)?_c('button',{staticClass:\"addBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.add()}}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add\")]):_vm._e(),_c('FullscreenButton',{attrs:{\"element\":function () { return this$1.$el; }}})],1),(!_vm.elements.length)?_c('div',{staticClass:\"empty description\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),(_vm.isObject)?[_vm._v(\" Object is empty\")]:[_vm._v(\" Array is empty\")]],2):_c('draggable',{attrs:{\"handle\":\".mover\"},model:{value:(_vm.elements),callback:function ($$v) {_vm.elements=$$v},expression:\"elements\"}},_vm._l((_vm.elements),function(e,k){return _c('div',{key:e.id,staticClass:\"fieldValue element\"},[_c('label',{key:k,staticClass:\"fieldLabel\"},[(_vm.isObject)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(e.key),expression:\"e.key\"}],attrs:{\"type\":\"text\",\"disabled\":!_vm.editable},domProps:{\"value\":(e.key)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(e, \"key\", $event.target.value)}}}):[_vm._v(_vm._s(k))]],2),_c('ParameterDataTypes',{attrs:{\"editable\":_vm.editable,\"parameter\":_vm.elementSchema(k, e.key),\"isItem\":true,\"context\":_vm.context},model:{value:(e.value),callback:function ($$v) {_vm.$set(e, \"value\", $$v)},expression:\"e.value\"}}),(_vm.editable)?_c('button',{staticClass:\"deleteBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.remove(k)}}},[_c('i',{staticClass:\"fas fa-trash\"})]):_vm._e(),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editable && !_vm.isObject),expression:\"editable && !isObject\"}],staticClass:\"mover\",attrs:{\"type\":\"button\"}},[_c('i',{staticClass:\"fas fa-arrows-alt\"})])],1)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div :class=\"{editor: true, array: !isObject, object: isObject}\">\n\t\t<div class=\"buttons\">\n\t\t\t<button type=\"button\" class=\"addBtn\" v-if=\"editable\" @click=\"add()\"><i class=\"fas fa-plus\"></i> Add</button>\n\t\t\t<FullscreenButton :element=\"() => this.$el\" />\n\t\t</div>\n\t\t<div v-if=\"!elements.length\" class=\"empty description\">\n\t\t\t<i class=\"fas fa-info-circle\"></i>\n\t\t\t<template v-if=\"isObject\">&nbsp;Object is empty</template>\n\t\t\t<template v-else>&nbsp;Array is empty</template>\n\t\t</div>\n\t\t<draggable v-else v-model=\"elements\" handle=\".mover\">\n\t\t\t<div class=\"fieldValue element\" v-for=\"(e, k) in elements\" :key=\"e.id\">\n\t\t\t\t<label class=\"fieldLabel\" :key=\"k\">\n\t\t\t\t\t<input v-if=\"isObject\" v-model=\"e.key\" type=\"text\" :disabled=\"!editable\"/>\n\t\t\t\t\t<template v-else>{{ k }}</template>\n\t\t\t\t</label>\n\t\t\t\t<ParameterDataTypes :editable=\"editable\" :parameter=\"elementSchema(k, e.key)\" :isItem=\"true\" :context=\"context\" v-model=\"e.value\" />\n\t\t\t\t<button v-if=\"editable\" class=\"deleteBtn\" type=\"button\" @click=\"remove(k)\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t\t<button v-show=\"editable && !isObject\" class=\"mover\" type=\"button\"><i class=\"fas fa-arrows-alt\"></i></button>\n\t\t\t</div>\n\t\t</draggable>\n\t</div>\n</template>\n\n<script>\nimport draggable from 'vuedraggable';\nimport FullscreenButton from '../FullscreenButton.vue';\nimport Utils from '../../utils.js';\n\nexport default {\n\tname: 'ObjectEditor',\n\tcomponents: {\n\t\tdraggable,\n\t\tFullscreenButton,\n\t\tParameterDataTypes: () => import('../ParameterDataTypes.vue')\n\t},\n\tprops: {\n\t\tparameter: Object,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tschema: Object,\n\t\tvalue: {},\n\t\tisObject: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tcontext: {}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\telements: []\n\t\t};\n\t},\n\tcomputed: {\n\t\tnewValue() {\n\t\t\tif (this.isObject) {\n\t\t\t\tlet obj = {};\n\t\t\t\tfor(let e of this.elements) {\n\t\t\t\t\tobj[e.key] = e.value;\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.elements.map(v => v.value);\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\tnewValue: {\n\t\t\tdeep: true,\n\t\t\thandler(newValue) {\n\t\t\t\tthis.$emit('input', newValue);\n\t\t\t}\n\t\t},\n\t\tvalue: {\n\t\t\timmediate: true,\n\t\t\thandler(value) {\n\t\t\t\t// ToDo: Pre-fill if empty, e.g. set minimum number of array elements or required object properties\n\t\t\t\tif (this.newValue !== value) {\n\t\t\t\t\tthis.elements = [];\n\t\t\t\t\tif (value && typeof value === 'object') {\n\t\t\t\t\t\tfor(var key in value) {\n\t\t\t\t\t\t\tthis.add(key, value[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\telementSchema(index, key = null) {\n\t\t\treturn this.schema.getElementSchema(key || index);\n\t\t},\n\t\tadd(key = null, value = undefined) {\n\t\t\tlet obj = {\n\t\t\t\tid: String(this.elements.length),\n\t\t\t\tvalue: value\n\t\t\t};\n\t\t\tif (this.isObject) {\n\t\t\t\tobj.key = key ? key : \"unnamed\" + this.elements.length;\n\t\t\t}\n\t\t\tif (typeof obj.value === 'undefined') {\n\t\t\t\tobj.value = this.elementSchema(this.elements.length, obj.key).default;\n\t\t\t}\n\t\t\tthis.elements.push(obj);\n\t\t},\n\t\tremove(k) {\n\t\t\tthis.elements.splice(k, 1);\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.editor, .editor > div {\n\twidth: 100%;\n}\n.element {\n\tdisplay: flex;\n\tborder: 1px solid #ccc;\n\tborder-radius: 3px;\n\tpadding: 0.4em 0.25em;\n\tmargin: 0.4em 0.25em;\n\talign-items: stretch;\n}\n.array .element.sortable-chosen {\n\tbackground: #eee;\n}\n.array .element.sortable-chosen .deleteBtn {\n\tvisibility: hidden;\n}\n#parameterModal .fieldRow .array .element .fieldLabel {\n\tdisplay: flex;\n\talign-items: center;\n\tmin-width: 1.5em;\n\twidth: auto;\n\tpadding: 0 0.5em;\n}\n.array .deleteBtn {\n\tmargin: 0 0.5em 0 1em;\n}\n.object .deleteBtn {\n\tmargin-left: 10px;\n}\n.addBtn {\n\tmargin: 0.25em;\n}\n.empty.description {\n\tpadding: 0.5em 0.25em;\n}\n.fullscreen {\n\tpadding: 1em;\n\tbox-sizing: border-box;\n}\n.mover {\n\tcursor: pointer;\n\tborder: 0;\n\tbackground-color: transparent;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ObjectEditor.vue?vue&type=template&id=e5082542&scoped=true&\"\nimport script from \"./ObjectEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ObjectEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ObjectEditor.vue?vue&type=style&index=0&id=e5082542&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5082542\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"datatypeEditor budget\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.hasBudget),expression:\"hasBudget\"}],attrs:{\"type\":\"checkbox\",\"disabled\":!_vm.editable},domProps:{\"checked\":Array.isArray(_vm.hasBudget)?_vm._i(_vm.hasBudget,null)>-1:(_vm.hasBudget)},on:{\"change\":function($event){var $$a=_vm.hasBudget,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.hasBudget=$$a.concat([$$v]))}else{$$i>-1&&(_vm.hasBudget=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.hasBudget=$$c}}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.amount),expression:\"amount\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\",\"min\":\"0.00\",\"max\":_vm.max,\"step\":\"0.01\",\"disabled\":!_vm.hasBudget || !_vm.editable},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"+_vm._s(_vm.capabilities.currency())+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"datatypeEditor budget\">\n\t\t<input type=\"checkbox\" v-model=\"hasBudget\" :disabled=\"!editable\" />\n\t\t<input type=\"number\" min=\"0.00\" :max=\"max\" step=\"0.01\" :disabled=\"!hasBudget || !editable\" v-model.number=\"amount\" />&nbsp;{{ capabilities.currency() }}\n\t</div>\n</template>\n\n<script>\nimport Utils from '../../utils';\n\nexport default {\n\tname: 'Budget',\n\tcomputed: {\n\t\t...Utils.mapState(['userInfo']),\n\t\t...Utils.mapGetters(['capabilities']),\n\t\tmax() {\n\t\t\tif (this.userInfo.budget > 0) {\n\t\t\t\treturn this.userInfo.budget;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn Number.MAX_VALUE;\n\t\t\t}\n\t\t}\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: Number,\n\t\t\tdefault: null\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thasBudget: (typeof this.value === 'number'),\n\t\t\tamount: this.value\n\t\t};\n\t},\n\twatch: {\n\t\thasBudget() {\n\t\t\tthis.updateData();\n\t\t},\n\t\tamount() {\n\t\t\tthis.updateData();\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateData() {\n      \t\tthis.$emit('input', this.hasBudget && !Number.isNaN(this.amount) ? this.amount : null);\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Budget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Budget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Budget.vue?vue&type=template&id=41395d32&\"\nimport script from \"./Budget.vue?vue&type=script&lang=js&\"\nexport * from \"./Budget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.id}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Control } from 'ol/control.js';\nimport { fromLonLat, toLonLat } from 'ol/proj';\nimport Utils from '../../utils.js';\n\nexport default class AreaSelect {\n\n\t// ToDo: Support CRS for bbox objects, currently assumes WGS84 always\n\tconstructor(map, editable = true, width = null, height = null) {\n        this.map = map;\n        var size = this.map.getSize();\n        this.width = width || (size[0] > 0 ? size[0] * 0.7 : 300);\n        this.height = height || (size[1] > 0 ? size[1] * 0.7 : 200);\n        this.moving = false;\n        this.editable = editable;\n        this.interactionListener = null;\n\t\tthis.createElements();\n\t\tthis.addControls();\n\t\tthis.render();\n    }\n    \n    setInteractionListener(listener) {\n        this.interactionListener = listener;\n    }\n    \n    getBounds(asArray = false) {\n        var size = this.map.getSize();\n        var topRight = [0,0];\n        var bottomLeft = [0,0];\n        bottomLeft[0] = Math.round((size[0] - this.width) / 2);\n        topRight[1] = Math.round((size[1] - this.height) / 2);\n        topRight[0] = size[0] - bottomLeft[0];\n        bottomLeft[1] = size[1] - topRight[1];\n        \n        var sw = toLonLat(this.map.getCoordinateFromPixel(bottomLeft));\n        var ne = toLonLat(this.map.getCoordinateFromPixel(topRight));\n        if (asArray) {\n            return sw.concat(ne);\n        }\n        else {\n            return {\n                west: sw[0],\n                south: sw[1],\n                east: ne[0],\n                north: ne[1]\n            };\n        }\n\t}\n    \n    setBounds(bounds) {\n        if (!bounds) {\n            return;\n        }\n        else if (Array.isArray(bounds)) {\n            bounds = Utils.extentToBBox(bounds);\n        }\n        var ws = fromLonLat([bounds.west, bounds.south]);\n        var en = fromLonLat([bounds.east, bounds.north]);\n        var fitOptions = {\n            callback: () => {\n                var bottomLeft = this.map.getPixelFromCoordinate(ws);\n                var topRight = this.map.getPixelFromCoordinate(en);\n\n                this.width = Number.parseInt(Math.abs(bottomLeft[0] - topRight[0]));\n                this.height = Number.parseInt(Math.abs(bottomLeft[1] - topRight[1]));\n                this.render();\n            }\n        };\n        // Make a bigger extent visible so that user can get a better overview (they can't pan/zoom).\n        var size = this.map.getSize();\n        if (!this.editable && size) {\n            fitOptions.padding = [size[0]/3, size[1]/3, size[0]/3, size[1]/3];\n        }\n        this.map.getView().fit([...ws, ...en], fitOptions);\n    }\n\n\tcreateElement(tag, classNames, parent) {\n\t\tvar elem = document.createElement(tag);\n\t\telem.className = classNames;\n\t\tif (parent) {\n\t\t\tparent.appendChild(elem);\n\t\t}\n\t\treturn elem;\n\t}\n    \n    createElements() {\n        if (!!this.overlayContainer) {\n\t\t\treturn;\n\t\t}\n        \n        this.overlayContainer = this.createElement(\"div\", \"ol-unselectable ol-areaselect ol-areaselect-shade-container\", this.map.getOverlayContainer());\n        this.topShade = this.createElement(\"div\", \"ol-areaselect-shade\", this.overlayContainer);\n        this.bottomShade = this.createElement(\"div\", \"ol-areaselect-shade\", this.overlayContainer);\n        this.leftShade = this.createElement(\"div\", \"ol-areaselect-shade\", this.overlayContainer);\n        this.rightShade = this.createElement(\"div\", \"ol-areaselect-shade\", this.overlayContainer);\n        \n        if (this.editable) {\n            this.nwHandle = this.createElement(\"div\", \"ol-areaselect-handle\");\n            this.swHandle = this.createElement(\"div\", \"ol-areaselect-handle\");\n            this.neHandle = this.createElement(\"div\", \"ol-areaselect-handle\");\n            this.seHandle = this.createElement(\"div\", \"ol-areaselect-handle\");\n            \n            this.setUpHandlerEvents(this.nwHandle, 1, 1);\n            this.setUpHandlerEvents(this.neHandle, -1, 1);\n            this.setUpHandlerEvents(this.swHandle, 1, -1);\n            this.setUpHandlerEvents(this.seHandle, -1, -1);\n        }\n\n        this.map.on(\"change:size\", () => this.onInteraction());\n    }\n    \n    setUpHandlerEvents(handle, xMod, yMod) {\n\t\tvar onMouseMove = (event) => {\n\t\t\tif (!this.moving) {\n\t\t\t\treturn;\n\t\t\t}\n            var size = this.map.getSize();\n\t\t\tthis.width += (this.moving[0] - event.pageX) * 2 * xMod;\n\t\t\tthis.height += (this.moving[1] - event.pageY) * 2 * yMod;\n\t\t\tthis.width = Math.max(30, this.width);\n\t\t\tthis.height = Math.max(30, this.height);\n\t\t\tthis.width = Math.min(size[0]-30, this.width);\n\t\t\tthis.height = Math.min(size[1]-30, this.height);\n\t\t\tthis.moving = [event.pageX, event.pageY];\n\t\t\tthis.render();\n        };\n        \n        var mapElem = this.map.getTargetElement();\n        var htmlElem = document.querySelector('html');\n\n        var onMouseUp = () => {\n            if (!this.map.getTargetElement()) return;\n            mapElem.removeEventListener(\"mousemove\", onMouseMove);\n            htmlElem.removeEventListener(\"mouseup\", onMouseUp);\n\t\t\tthis.moving = false;\n            if (typeof this.interactionListener === 'function') {\n                this.interactionListener();\n            }\n\t\t};\n\n        handle.addEventListener(\"mousedown\", (event) => {\n\t\t\tevent.stopPropagation();\n\t\t\tthis.moving = [event.pageX, event.pageY];\n            mapElem.addEventListener(\"mousemove\", onMouseMove);\n            htmlElem.addEventListener(\"mouseup\", onMouseUp);\n        });\n    }\n    \n    onInteraction() {\n        this.render();\n    }\n    \n    render() {\n\t\tvar size = this.map.getSize();\n        var topBottomHeight = Math.round((size[1] - this.height)/2);\n\t\tvar leftRightWidth = Math.round((size[0] - this.width)/2);\n\n        this.setElementDimensions(this.overlayContainer, {width: size[0], height: size[1]});\n        this.setElementDimensions(this.topShade, {width: size[0], height: topBottomHeight, top: 0, left: 0});\n        this.setElementDimensions(this.bottomShade, {width: size[0], height: topBottomHeight, bottom: 0, left: 0});\n        this.setElementDimensions(this.leftShade, {\n            width: leftRightWidth, \n            height: size[1]-(topBottomHeight*2), \n            top: topBottomHeight, \n            left: 0\n        });\n        this.setElementDimensions(this.rightShade, {\n            width: leftRightWidth, \n            height: size[1]-(topBottomHeight*2), \n            top: topBottomHeight, \n            right: 0\n        });\n        \n        if (this.editable) {\n            var handleOffset = Math.round(this.nwHandle.offsetWidth/2);\n            this.setElementDimensions(this.nwHandle, {left: leftRightWidth-handleOffset, top: topBottomHeight-7});\n            this.setElementDimensions(this.neHandle, {right: leftRightWidth-handleOffset, top: topBottomHeight-7});\n            this.setElementDimensions(this.swHandle, {left: leftRightWidth-handleOffset, bottom: topBottomHeight-7});\n            this.setElementDimensions(this.seHandle, {right: leftRightWidth-handleOffset, bottom: topBottomHeight-7});\n        }\n    }\n        \n\tsetElementDimensions(element, dimension) {\n\t\telement.style.width = dimension.width + \"px\";\n\t\telement.style.height = dimension.height + \"px\";\n\t\telement.style.top = dimension.top + \"px\";\n\t\telement.style.left = dimension.left + \"px\";\n\t\telement.style.bottom = dimension.bottom + \"px\";\n\t\telement.style.right = dimension.right + \"px\";\n\t}\n\n\taddControls() {\n        if (this.editable) {\n            this.addControl(this.nwHandle);\n            this.addControl(this.neHandle);\n            this.addControl(this.swHandle);\n            this.addControl(this.seHandle);\n        }\n\t}\n\t\n\taddControl(element) {\n\t\tthis.map.addControl(\n\t\t\tnew Control({\n\t\t\t\telement: element\n\t\t\t})\n\t\t);\n\t}\n\n}","<template>\n\t<div :id=\"id\"></div>\n</template>\n\n<script>\nimport MapMixin from '../MapMixin.vue';\n\nimport AreaSelect from '../openlayers/areaselect';\n\nexport default {\n\tname: 'MapAreaSelect',\n\tmixins: [MapMixin],\n\tprops: {\n\t\t// Either Object or Array.\n\t\t// Array is always in WGS84 with the following elements: 0 => west, 1 => south, 2 => east, 3 => north\n\t\t// Object is an bbox object as defined by the openEO API (with west, south, east, north properties).\n\t\tvalue: {\n\t\t\ttype: [Object, Array],\n\t\t\tdefault: () => null\n\t\t}\n\t},\n\tcomputed: {\n\t\tasArray() {\n\t\t\treturn Array.isArray(this.value);\n\t\t}\n\t},\n\tmethods: {\n\t\trenderMap() {\n\t\t\tthis.createMap();\n\n\t\t\tthis.areaSelect = new AreaSelect(this.map, this.editable);\n\t\t\tif (this.value !== null) {\n\t\t\t\tthis.areaSelect.setBounds(this.value);\n\t\t\t}\n\n\t\t\tif (this.editable) {\n\t\t\t\tvar callback = () => this.$emit('input', this.areaSelect.getBounds(this.asArray));\n\t\t\t\tthis.areaSelect.setInteractionListener(callback);\n\t\t\t\tthis.map.on('change', callback);\n\t\t\t\tthis.map.getView().on('change', callback);\n\t\t\t\tthis.map.on('propertychange', callback);\n\t\t\t}\n\t\t}\n\t}\n\n}\n</script>\n\n<style src=\"../MapMixin.css\"></style>\n\n<style>\n/* Area selector */\n.ol-areaselect {\n\tposition: absolute;\n    left: 0;\n    top: 0;\n}\n.ol-areaselect-shade {\n    position: absolute;\n\tbackground: rgba(0,0,0, 0.4);\n\tz-index: 0;\n}\n.ol-areaselect-handle {\n    position: absolute;\n    background: #fff;\n    border: 1px solid #666;\n    -moz-box-shadow: 1px 1px rgba(0,0,0, 0.2);\n    -webkit-box-shadow: 1px 1px rgba(0,0,0, 0.2);\n    box-shadow: 1px 1px rgba(0,0,0, 0.2);\n    width: 14px;\n    height: 14px;\n\tcursor: move;\n\tz-index: 1;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAreaSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapAreaSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapAreaSelect.vue?vue&type=template&id=5ff5e0ac&\"\nimport script from \"./MapAreaSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./MapAreaSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"../MapMixin.css?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./MapAreaSelect.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.id}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div :id=\"id\"></div>\n</template>\n\n<script>\nimport MapMixin from '../MapMixin.vue';\n\nimport GeoJSON from 'ol/format/GeoJSON';\nimport Snap from 'ol/interaction/Snap';\n\nimport 'ol-ext/control/Bar.css';\nimport Bar from 'ol-ext/control/Bar';\nimport Button from 'ol-ext/control/Button';\nimport 'ol-ext/control/EditBar.css';\nimport EditBar from 'ol-ext/control/EditBar';\nimport UndoRedo from 'ol-ext/interaction/UndoRedo';\n\nexport default {\n\tname: 'MapGeoJsonEditor',\n\tmixins: [MapMixin],\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tgeoJsonLayer: null\n\t\t};\n\t},\n\tmethods: {\n\t\tshowMap() {\n\t\t\tif (this.show) {\n\t\t\t\tthis.$nextTick(this.renderMap);\n\t\t\t}\n\t\t},\n\t\trenderMap() {\n\t\t\tthis.createMap(true);\n\n\t\t\tif (!this.editable) {\n\t\t\t\tthis.geoJsonLayer = this.addGeoJson(this.value);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.geoJsonLayer = this.geoJsonEditor(this.value);\n\t\t\t}\n\n\t\t\tif (this.editable) {\n\t\t\t\tvar callback = () => this.$emit('input', this.getGeoJson());\n\t\t\t\tthis.geoJsonLayer.getSource().on('change', callback);\n\t\t\t}\n\t\t},\n\n\t\tgeoJsonEditor(geojson) {\n\t\t\tvar layer = this.addGeoJson(geojson);\n\n\t\t\tvar mainbar = new Bar();\n\t\t\tthis.map.addControl(mainbar);\n\n\t\t\t// Editbar\n\t\t\tvar editbar = new EditBar ({\n\t\t\t\tsource: layer.getSource(),\n\t\t\t\tinteractions: {\n\t\t\t\t\tInfo: false,\n\t\t\t\t\tDrawHole: false,\n\t\t\t\t\tOffset: false,\n\t\t\t\t\tSplit: false\n\t\t\t\t}\n\t\t\t});\n\t\t\tmainbar.addControl(editbar);\n\n\t\t\t// Undo redo interaction\n\t\t\tvar undoInteraction = new UndoRedo();\n\t\t\tthis.map.addInteraction(undoInteraction);\n\t\t\t// Prevent selection of a deleted feature\n\t\t\tundoInteraction.on('undo', e => {\n\t\t\t\tif (e.action.type === 'addfeature') {\n\t\t\t\t\teditbar.getInteraction('Select').getFeatures().clear();\n\t\t\t\t\teditbar.getInteraction('Transform').select();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add buttons to the bar\n\t\t\tvar bar = new Bar({ \n\t\t\t\tgroup: true,\n\t\t\t\tcontrols: [\n\t\t\t\t\tnew Button({\n\t\t\t\t\t\thtml: '<i class=\"fas fa-undo-alt\"></i>',\n\t\t\t\t\t\ttitle: 'Undo',\n\t\t\t\t\t\thandleClick: () => undoInteraction.undo()\n\t\t\t\t\t}),\n\t\t\t\t\tnew Button({\n\t\t\t\t\t\thtml: '<i class=\"fas fa-redo-alt\"></i>',\n\t\t\t\t\t\ttitle: 'Redo',\n\t\t\t\t\t\thandleClick: () => undoInteraction.redo()\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t});\n\t\t\tmainbar.addControl(bar);\n\n\t\t\t// Add snap functionality\n\t\t\tthis.map.addInteraction(new Snap({ \n\t\t\t\tsource: layer.getSource() \n\t\t\t}));\n\n\t\t\treturn layer;\n\t\t},\n\n\t\tgetGeoJson() {\n\t\t\tvar geojson = new GeoJSON();\n\t\t\tvar olFeatures = this.geoJsonLayer.getSource().getFeatures();\n\t\t\tvar gjFeatures = [];\n\t\t\tfor(var i in olFeatures) {\n\t\t\t\tgjFeatures.push(geojson.writeFeatureObject(\n\t\t\t\t\tolFeatures[i],\n\t\t\t\t\t{\n\t\t\t\t\t\tdataProjection: 'EPSG:4326',\n\t\t\t\t\t\tfeatureProjection: this.osm.getProjection()\n\t\t\t\t\t}\n\t\t\t\t));\n\t\t\t}\n\t\t\tif (gjFeatures.length === 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\telse if (gjFeatures.length === 1) {\n\t\t\t\tif (!gjFeatures[0].properties && gjFeatures[0].geometry) {\n\t\t\t\t\treturn gjFeatures[0].geometry;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn gjFeatures[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"FeatureCollection\",\n\t\t\t\t\tfeatures: gjFeatures\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t}\n\n}\n</script>\n\n<style src=\"../MapMixin.css\"></style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapGeoJsonEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapGeoJsonEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapGeoJsonEditor.vue?vue&type=template&id=4e46f6ac&\"\nimport script from \"./MapGeoJsonEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./MapGeoJsonEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"../MapMixin.css?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"fieldEditorContainer\">\n\t\t<!-- Result Node -->\n\t\t<template v-if=\"isResult\">\n\t\t\t<div class=\"fieldValue externalData fromNode\">\n\t\t\t\t<span>Output of <tt>#{{ state.from_node }}</tt></span>\n\t\t\t</div>\n\t\t\t<button type=\"button\" v-if=\"nativeParameterType === 'array'\" @click=\"convertToArray()\"><i class=\"fas fa-list\"></i> Convert to array</button>\n\t\t</template>\n\t\t<div v-else-if=\"type === 'raster-cube' || type === 'vector-cube'\" class=\"fieldValue description\">\n\t\t\t<i class=\"fas fa-exclamation-circle\"></i>\n\t\t\tThis parameter can only be set by creating a connection between an \"Output\" / \"Result\" and this parameter in the Visual Model.\n\t\t</div>\n\t\t<!-- Process Parameter -->\n\t\t<template v-else-if=\"isPgParameter\">\n\t\t\t<div class=\"fieldValue externalData fromArgument\">\n\t\t\t\t<span>Value of process parameter <tt>{{ state.from_parameter }}</tt></span>\n\t\t\t</div>\n\t\t\t<button type=\"button\" v-if=\"nativeParameterType === 'array'\" @click=\"convertToArray()\"><i class=\"fas fa-list\"></i> Convert to array</button>\n\t\t</template>\n\t\t<!-- Null -->\n\t\t<div class=\"description\" v-else-if=\"type === 'null'\"><i class=\"fas fa-info-circle\"></i> This is set to <strong><tt>null</tt></strong>, which is usually used as placeholder for no-data values or a default value.</div>\n\t\t<!-- Select Boxes (collection id, job id, epsg code, in/output format, service type, billing plan, enums) -->\n\t\t<SelectBox v-else-if=\"isSelection\" v-model=\"state\" :key=\"type\" :type=\"type\" :editable=\"editable\" :schema=\"schema\" :context=\"dependency\" @onDetails=\"onSelectDetails\"></SelectBox>\n\t\t<!-- Temporal (date, time, date-time, temporal-interval) -->\n\t\t<TemporalPicker v-else-if=\"isTemporal\" v-model=\"state\" :key=\"type\" :type=\"type\" :editable=\"editable\"></TemporalPicker>\n\t\t<!-- Bounding Box -->\n\t\t<MapAreaSelect v-else-if=\"type === 'bounding-box'\" v-model=\"state\" :key=\"type\" :id=\"name + '_bbox'\" :editable=\"editable\" class=\"areaSelector\"></MapAreaSelect>\n\t\t<!-- GeoJSON -->\n\t\t<MapGeoJsonEditor v-else-if=\"type === 'geojson'\" v-model=\"state\" :key=\"type\" :id=\"name + '_geojson'\" :editable=\"editable\" class=\"geoJsonEditor\"></MapGeoJsonEditor>\n\t\t<!-- Process Editor -->\n\t\t<Editor v-else-if=\"type === 'process-graph'\" class=\"callbackEditor\" :id=\"name\" :editable=\"editable\" :pgParameters=\"processParameters\" :showDiscoveryToolbar=\"true\" v-model=\"state\" :defaultValue=\"editorDefaultValue\" />\n\t\t<!-- Output format options -->\n\t\t<FileFormatOptionsEditor v-else-if=\"type === 'output-format-options' || type === 'input-format-options'\" ref=\"fileFormatOptionsEditor\" :type=\"type\" v-model=\"state\" :format=\"dependency\"></FileFormatOptionsEditor>\n\t\t<!-- Budget -->\n\t\t<Budget v-else-if=\"type === 'budget'\" v-model=\"state\" :editable=\"editable\" />\n\t\t<!-- UDF-Code -->\n\t\t<TextEditor class=\"fieldValue textarea\" v-else-if=\"type === 'udf-code'\" :id=\"name\" :editable=\"editable\" v-model=\"state\" :language=\"dependency\" />\n\t\t<!-- CommonMark -->\n\t\t<TextEditor class=\"fieldValue textarea\" v-else-if=\"type === 'commonmark'\" :id=\"name\" :editable=\"editable\" v-model=\"state\" language=\"markdown\" />\n\t\t<!-- WKT / PROJ -->\n\t\t<TextEditor class=\"fieldValue textarea\" v-else-if=\"type === 'wkt2-definition' || type === 'proj-definition'\" :id=\"name\" :editable=\"editable\" v-model=\"state\" />\n\t\t<!-- JSON -->\n\t\t<TextEditor class=\"fieldValue textarea\" v-else-if=\"type == 'json'\" :id=\"name\" :editable=\"editable\" v-model=\"state\" language=\"json\" />\n\t\t<!-- Boolean -->\n\t\t<input class=\"fieldValue\" v-else-if=\"type === 'boolean'\" v-model=\"state\" type=\"checkbox\" :name=\"name\" :disabled=\"!editable\" />\n\t\t<!-- Integer / Number -->\n\t\t<input class=\"fieldValue\" v-else-if=\"type === 'integer' || type === 'number'\" v-model.number=\"state\" type=\"number\" :min=\"numericMin\" :max=\"numericMax\" :step=\"numericStep\" :name=\"name\" :disabled=\"!editable\" />\n\t\t<!-- URL -->\n\t\t<input class=\"fieldValue\" v-else-if=\"type === 'url' || type === 'uri'\" v-model=\"state\" type=\"url\" :name=\"name\" :disabled=\"!editable\" />\n\t\t<!-- Objects / Arrays -->\n\t\t<ObjectEditor  v-else-if=\"nativeType === 'object' || nativeType === 'array'\" :editable=\"editable\" :parameter=\"parameter\" :schema=\"schema\" :isObject=\"nativeType === 'object'\" v-model=\"state\" :context=\"context\" />\n\t\t<!-- String and all other -->\n\t\t<input class=\"fieldValue\" v-else v-model=\"state\" type=\"text\" :name=\"name\" :disabled=\"!editable\" />\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\n\nimport ObjectEditor from './datatypes/ObjectEditor.vue';\nimport Budget from './datatypes/Budget.vue';\nimport MapAreaSelect from './datatypes/MapAreaSelect.vue';\nimport MapGeoJsonEditor from './datatypes/MapGeoJsonEditor.vue';\nimport TextEditor from './TextEditor.vue';\n\nimport Utils from '../utils.js';\n\nexport default {\n\tname: 'ParameterDataType',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tObjectEditor,\n\t\tBudget,\n\t\tMapAreaSelect,\n\t\tMapGeoJsonEditor,\n\t\tTextEditor,\n\t\t// Asynchronously load the following components to avoid circular references.\n\t\t// See https://vuejs.org/v2/guide/components-edge-cases.html#Circular-References-Between-Components\n\t\tEditor: () => import('./Editor.vue'),\n\t\tFileFormatOptionsEditor: () => import('./datatypes/FileFormatOptionsEditor.vue'),\n\t\tParameterDataTypes: () => import('./ParameterDataTypes.vue'),\n\t\t// Async loading for smaller starting bundle\n\t\tSelectBox: () => import('./datatypes/SelectBox.vue'),\n\t\tTemporalPicker: () => import('./datatypes/TemporalPicker.vue')\n\t},\n\tprops: {\n\t\tparameter: Object,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tschema: Object,\n\t\tvalue: {},\n\t\tprocessId: String,\n\t\tcontext: {},\n\t\tparent: {}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tstate: this.value\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters(['processRegistry']),\n\t\ttype() {\n\t\t\treturn this.schema.dataType();\n\t\t},\n\t\tnativeType() {\n\t\t\treturn this.schema.nativeDataType();\n\t\t},\n\t\tnativeParameterType() {\n\t\t\treturn this.parameter.nativeDataType();\n\t\t},\n\t\teditorDefaultValue() {\n\t\t\tif (this.type === 'process-graph') {\n\t\t\t\tif (typeof this.parameter.default !== 'undefined') {\n\t\t\t\t\treturn this.parameter.default;\n\t\t\t\t}\n\t\t\t\telse if (this.parameter.nullable()) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\t\tisTemporal() {\n\t\t\treturn (this.type === 'date' || this.type === 'time' || this.type === 'date-time' || this.type === 'temporal-interval' || this.type === 'year');\n\t\t},\n\t\tisSelection() {\n\t\t\tswitch(this.type) {\n\t\t\t\tcase 'collection-id':\n\t\t\t\tcase 'job-id':\n\t\t\t\tcase 'file-path':\n\t\t\t\tcase 'file-paths':\n\t\t\t\tcase 'epsg-code':\n\t\t\t\tcase 'input-format':\n\t\t\t\tcase 'output-format':\n\t\t\t\tcase 'service-type':\n\t\t\t\tcase 'billing-plan':\n\t\t\t\tcase 'udf-runtime':\n\t\t\t\tcase 'udf-runtime-version':\n\t\t\t\t\treturn true;\n\t\t\t\tcase 'band-name':\n\t\t\t\t\treturn !!this.dependency;\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.schema.isEnum();\n\t\t\t}\n\t\t},\n\t\tname() {\n\t\t\treturn this.parameter.name + (Array.isArray(this.parameter.value) ? '[]' : '');\n\t\t},\n\t\tisResult() {\n\t\t\treturn Boolean(Utils.isObject(this.state) && this.state.from_node && Utils.size(this.state) === 1 && this.schema.schema.isRef);\n\t\t},\n\t\tisPgParameter() {\n\t\t\treturn Boolean(Utils.isObject(this.state) && this.state.from_parameter && Utils.size(this.state) === 1 && this.schema.schema.isRef);\n\t\t},\n\t\tnumericMin() {\n\t\t\tif (typeof this.schema.minimum === 'number') {\n\t\t\t\treturn this.schema.minimum;\n\t\t\t}\n\t\t\treturn \"\"; // Empty seems to be the default for the input element\n\t\t},\n\t\tnumericMax() {\n\t\t\tif (typeof this.schema.maximum === 'number') {\n\t\t\t\treturn this.schema.maximum;\n\t\t\t}\n\t\t\treturn \"\"; // Empty seems to be the default for the input element\n\t\t},\n\t\tnumericStep() {\n\t\t\tif (typeof this.schema.multipleOf === 'number') {\n\t\t\t\treturn this.schema.multipleOf;\n\t\t\t}\n\t\t\telse if (this.type === 'integer') {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 'any';\n\t\t\t}\n\t\t},\n\t\tnewValue() {\n\t\t\tif (this.type === 'number') {\n\t\t\t\tvar num = Number.parseFloat(this.state);\n\t\t\t\treturn Number.isNaN(num) ? null : num;\n\t\t\t}\n\t\t\telse if (this.type === 'integer') {\n\t\t\t\tvar num = Number.parseInt(this.state);\n\t\t\t\treturn Number.isNaN(num) ? null : num;\n\t\t\t}\n\t\t\telse if (this.type === 'null') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\telse if (typeof this.state === 'string' && this.state.length > 0 && (this.type === 'any' || this.type === 'mixed')) {\n\t\t\t\t// Try to guess whether it is a number or not\n\t\t\t\tvar num = Number(this.state);\n\t\t\t\treturn Number.isNaN(num) ? this.state : num;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.state;\n\t\t\t}\n\t\t},\n\t\tdependency() {\n\t\t\tswitch(this.type) {\n\t\t\t\tcase 'output-format-options':\n\t\t\t\tcase 'input-format-options':\n\t\t\t\t\treturn this.getValueFromOtherParameterByDataType(this.type.replace('-options', ''));\n\t\t\t\tcase 'udf-runtime-version':\n\t\t\t\tcase 'udf-code':\n\t\t\t\t\treturn this.getValueFromOtherParameterByDataType('udf-runtime');\n\t\t\t\tcase 'band-name':\n\t\t\t\t\treturn this.getValueFromOtherParameterByDataType('collection-id');\n\t\t\t\tdefault:\n\t\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\t\tprocessParameters() {\n\t\t\tlet callbackParams = this.schema.getCallbackParameters(); // higher prio\n\t\t\tlet parentParams = []; // lower prio;\n\t\t\tif (Utils.isObject(this.parent) && typeof this.parent.getPgParameters === 'function') { // instead of \"instanceof Blocks\" to avoid import\n\t\t\t\tparentParams = this.parent.getPgParameters().map(block => block.spec);\n\t\t\t}\n\t\t\tlet overridingParams = callbackParams.map(p => p.name);\n\t\t\tlet filteredParentParams = parentParams.filter(p => !overridingParams.includes(p.name));\n\t\t\treturn callbackParams.concat(filteredParentParams);\n\t\t}\n\t},\n\twatch: {\n\t\tvalue(newVal) {\n\t\t\tif (newVal !== this.newValue) {\n\t\t\t\tthis.state = this.value;\n\t\t\t}\n\t\t},\n\t\tasync newValue(newVal) {\n\t\t\tthis.$emit('input', newVal);\n\t\t}\n\t},\n\tmethods: {\n\t\tgetValueFromOtherParameterByDataType(dataType) {\n\t\t\tif (!Utils.isObject(this.context) || !Utils.isObject(this.context.schemas) || !Utils.isObject(this.context.values)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(let name in this.context.schemas) {\n\t\t\t\tlet schema = this.context.schemas[name];\n\t\t\t\tif (Utils.isObject(schema) && schema.dataType() === dataType) {\n\t\t\t\t\treturn this.context.values[name];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\tconvertToArray() {\n\t\t\tthis.state = [this.state];\n\t\t\tthis.$emit('input', this.state);\n\t\t\tthis.$emit('changeType', 'array');\n\t\t},\n\t\tonSelectDetails() {\n\t\t\tif (this.type === 'collection-id') {\n\t\t\t\tthis.emit('showCollection', this.state);\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.areaSelector, .geoJsonEditor {\n\theight: 500px;\n\tflex-grow: 1;\n}\n.textarea {\n\twidth: 100%;\n\theight: 250px;\n}\n.externalData span {\n\tdisplay: inline-block; \n\tbackground-color: #ddd;\n\tpadding: 2px 5px;\n\tborder-radius: 3px;\n}\n.externalData tt {\n\tfont-size: 1.1em;\n\tfont-weight: bold;\n}\n.callbackEditor {\n\theight: 450px;\n\tmin-width: 50vw;\n\twidth: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataType.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataType.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParameterDataType.vue?vue&type=template&id=1e23d04c&scoped=true&\"\nimport script from \"./ParameterDataType.vue?vue&type=script&lang=js&\"\nexport * from \"./ParameterDataType.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParameterDataType.vue?vue&type=style&index=0&id=1e23d04c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e23d04c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"fieldContainer\" v-if=\"selectedSchema\">\n\t\t<div class=\"dataTypeChooser\" v-if=\"showDataTypeChooser\">\n\t\t\t<select name=\"dataType\" :value=\"selectedType\" @input=\"onSelectType\" :disabled=\"!editable\">\n\t\t\t\t<template v-if=\"groupedAllowedTypes.length > 1\">\n\t\t\t\t\t<optgroup v-for=\"group in groupedAllowedTypes\" :key=\"group.name\" :label=\"group.name\">\n\t\t\t\t\t\t<option v-for=\"type in group.types\" :key=\"type.dataType()\" :value=\"type.dataType()\">{{ type | dataTypeTitle }}</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<option v-for=\"type in groupedAllowedTypes[0].types\" :key=\"type.dataType()\" :value=\"type.dataType()\">{{ type | dataTypeTitle }}</option>\n\t\t\t\t</template>\n\t\t\t</select>\n\t\t</div>\n\t\t<div v-if=\"!isItem && selectedSchema.description()\" class=\"description\">\n\t\t\t<i class=\"fas fa-info-circle\"></i>\n\t\t\t<Description :description=\"selectedSchema.description()\" :compact=\"true\" />\n\t\t</div>\n\t\t<ParameterDataType :editable=\"editable\" :parameter=\"parameter\" :schema=\"selectedSchema\" v-model=\"state\" :processId=\"processId\" :context=\"context\" @changeType=\"setSelected\" :parent=\"parent\" />\n\t</div>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport JsonSchema from './jsonSchema.js';\nimport ParameterDataType from './ParameterDataType.vue';\nimport Description from '@openeo/vue-components/components/Description.vue';\nimport EventBusMixin from './EventBusMixin.vue';\nimport { ProcessParameter, ProcessDataType } from './blocks/processSchema.js';\n\nconst API_TYPES = Utils.resolveJsonRefs(require('@openeo/js-processgraphs/assets/subtype-schemas.json')).definitions;\nconst TYPE_GROUPS = [\n\t'Basics',\n\t'References',\n\t'Spatial',\n\t'Temporal',\n\t'File and Folders',\n\t'Resources',\n\t'CRS',\n\t'UDF',\n\t'Other',\n];\nconst now = () => new Date().toISOString().replace(/\\.\\d+/, '');\nconst NATIVE_TYPES = [\n\t'string',\n\t'integer',\n\t'number',\n\t'boolean',\n\t'array',\n\t'object'\n];\nconst SUPPORTED_TYPES = [\n\t\t// Native types\n\t\t{type: 'null', const: null, group: 'Basics'},\n\t\t{type: 'string', default: \"\", group: 'Basics'},\n\t\t{type: 'integer', default: 0, group: 'Basics'},\n\t\t{type: 'number', default: 0, group: 'Basics'},\n\t\t{type: 'boolean', default: false, group: 'Basics'},\n\t//\t{type: 'array', subtype: 'labeled-array', title: 'Array with labels', group: 'Basics'}, // Can't be transfered between client and server, no JSON encoding available.\n\t\t{type: 'array', default: [], group: 'Basics'},\n\t\t{type: 'object', default: {}, group: 'Basics'},\n\n\t\t{type: 'string', subtype: 'date-time', format: 'date-time', title: 'Date and Time', group: 'Temporal', default: () => now()},\n\t\t{type: 'string', subtype: 'date', format: 'date', title: 'Date only', group: 'Temporal', default: () => now().substring(0, 10)},\n\t\t{type: 'string', subtype: 'time', format: 'time', title: 'Time only', group: 'Temporal', default: () => now().substring(11)},\n\t\t{type: 'string', subtype: 'year', title: 'Year only', group: 'Temporal'},\n\t\t{type: 'array', subtype: 'temporal-interval', title: \"Temporal interval\", group: 'Temporal'},\n\t\t{type: 'array', subtype: 'temporal-intervals', title: \"Temporal intervals (multiple)\", group: 'Temporal', default: []},\n\n\t\t{type: 'object', subtype: 'geojson', title: 'GeoJSON', group: 'Spatial'},\n\t\t{type: 'object', subtype: 'bounding-box', title: 'Bounding Box', group: 'Spatial'},\n\n\t\t{type: 'string', subtype: 'band-name', title: 'Band', group: 'Resources'},\n\t\t{type: 'string', subtype: 'collection-id', title: 'Collection', group: 'Resources'},\n\t\t{type: 'string', subtype: 'job-id', title: 'Batch Job', group: 'Resources'},\n\n\t\t{type: 'string', subtype: 'udf-code', title: 'UDF Source Code', group: 'UDF', default: \"\"},\n\t\t{type: 'string', subtype: 'udf-runtime', title: 'UDF Runtime', group: 'UDF'},\n\t\t{type: 'string', subtype: 'udf-runtime-version', title: 'UDF Runtime Version', group: 'UDF', any: false},\n\n\t\t{type: 'integer', subtype: 'epsg-code', title: 'EPSG Code (CRS)', group: 'CRS'},\n\t\t{type: 'string', subtype: 'proj-definition', title: 'PROJ defintiion (CRS)', group: 'CRS', default: \"\"},\n\t\t{type: 'string', subtype: 'wkt2-definition', title: 'WKT2 defintiion (CRS)', group: 'CRS', default: \"\"},\n\n\t\t{type: 'array', subtype: 'file-path', title: 'File path', group: 'File and Folders'},\n\t\t{type: 'array', subtype: 'file-paths', title: 'File paths (multiple)', group: 'File and Folders', default: []},\n\t\t{type: 'string', subtype: 'uri', format: 'uri', title: 'URI / URL', group: 'File and Folders'},\n\t\t{type: 'string', subtype: 'output-format', title: 'Export file format', group: 'File and Folders'},\n\t\t{type: 'object', subtype: 'output-format-options', title: 'Export file format parameters', group: 'File and Folders', any: false},\n\t\t{type: 'string', subtype: 'input-format', title: 'Import file format', group: 'File and Folders'},\n\t\t{type: 'object', subtype: 'input-format-options', title: 'Import file format parameters', group: 'File and Folders', any: false},\n\n\t//\t{type: 'array', subtype: 'kernel', title: 'Kernel'},\n\t\t{type: 'object', subtype: 'process-graph', title: 'Custom Process'},\n\t\t{subtype: 'json', title: 'JSON'},\n\n//\t\t{type: 'object', subtype: 'raster-cube'},\n//\t\t{type: 'object', subtype: 'vector-cube'},\n];\n\nexport default {\n\tname: 'ParameterDataTypes',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tDescription,\n\t\tParameterDataType\n\t},\n\tprops: {\n\t\tparameter: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => new ProcessParameter({})\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tprocessId: String,\n\t\tvalue: {},\n\t\tisItem: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tcontext: {},\n\t\tparent: {}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tstate: typeof this.value === 'undefined' ? this.parameter.default : this.value,\n\t\t\tselectedType: null,\n\t\t\tselectedNativeType: null,\n\t\t\tselectedSchema: null,\n\t\t\tjsonSchemaValidator: JsonSchema.create(this.$store)\n\t\t};\n\t},\n\tfilters: {\n\t\tdataTypeTitle(type) {\n\t\t\t// Set a human-readable title if none is set\n\t\t\tif (type.schema && !type.schema.title) {\n\t\t\t\tlet supportedType = SUPPORTED_TYPES.find(st => st.subtype === type.schema.subtype || st.type === type.schema.type);\n\t\t\t\tif (supportedType && supportedType.title) {\n\t\t\t\t\treturn supportedType.title;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn type.title();\n\t\t}\n\t},\n\tasync created() {\n\t\tawait this.detectType();\n\t},\n\tcomputed: {\n\t\trefSchemas() {\n\t\t\tlet refs = {};\n\t\t\tfor(let r of this.parameter.getRefs()) {\n\t\t\t\tlet name;\n\t\t\t\tif (r.from_node) {\n\t\t\t\t\tname = 'from_node:' + r.from_node;\n\t\t\t\t\trefs[name] = new ProcessDataType({\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tgroup: 'References',\n\t\t\t\t\t\trefId: name,\n\t\t\t\t\t\tisRef: 'from_node',\n\t\t\t\t\t\tfrom_node: r.from_node,\n\t\t\t\t\t\ttitle: 'Output of #' + r.from_node,\n\t\t\t\t\t\trequired: [\"from_node\"],\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tfrom_node: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tconst: r.from_node\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tconst: r,\n\t\t\t\t\t\tadditionalProperties: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (r.from_parameter) {\n\t\t\t\t\tname = 'from_parameter:' + r.from_parameter;\n\t\t\t\t\trefs[name] = new ProcessDataType({\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tgroup: 'References',\n\t\t\t\t\t\trefId: name,\n\t\t\t\t\t\tisRef: 'from_parameter',\n\t\t\t\t\t\tfrom_parameter: r.from_parameter,\n\t\t\t\t\t\ttitle: 'Value of process parameter \"' + r.from_parameter + '\"',\n\t\t\t\t\t\trequired: [\"from_parameter\"],\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tfrom_parameter: {\n\t\t\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\t\t\tconst: r.from_parameter\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tconst: r,\n\t\t\t\t\t\tadditionalProperties: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn refs;\n\t\t},\n\t\tshowDataTypeChooser() {\n\t\t\treturn Utils.size(this.allowedTypes) >= 2;\n\t\t},\n\t\tallowedTypes() {\n\t\t\tif (this.parameter.dataType() === 'any') {\n\t\t\t\treturn Object.assign({}, this.supportedTypes, this.refSchemas);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet types = {};\n\t\t\t\tfor(let type of this.parameter.schemas) {\n\t\t\t\t\tlet name = type.dataType();\n\t\t\t\t\ttypes[name] = type;\n\t\t\t\t}\n\t\t\t\treturn Object.assign(types, this.refSchemas);\n\t\t\t}\n\t\t},\n\t\tsupportedTypes() {\n\t\t\tlet map = {};\n\t\t\tfor(let s of SUPPORTED_TYPES) {\n\t\t\t\tif (s.any === false) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet name = s.subtype || s.type;\n\t\t\t\tlet schema = Object.assign({}, API_TYPES[name], s);\n\t\t\t\tmap[name] = new ProcessDataType(schema, this.parameter);\n\t\t\t}\n\t\t\treturn map;\n\t\t},\n\t\tgroupedAllowedTypes() {\n\t\t\tlet grouped = {};\n\t\t\tfor(let type in this.allowedTypes) {\n\t\t\t\tlet schema = this.allowedTypes[type];\n\t\t\t\tlet group = schema.group();\n\t\t\t\tif (!Array.isArray(grouped[group])) {\n\t\t\t\t\tgrouped[group] = [schema];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tgrouped[group].push(schema);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn TYPE_GROUPS\n\t\t\t\t.map(group => ({\n\t\t\t\t\tname: group,\n\t\t\t\t\ttypes: grouped[group] || []\n\t\t\t\t}))\n\t\t\t\t.filter(group => group.types.length !== 0);\n\t\t}\n\t},\n\twatch: {\n\t\tvalue(value) {\n\t\t\tif (value !== this.state) {\n\t\t\t\tthis.state = value;\n\t\t\t}\n\t\t},\n\t\tstate(value) {\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tselectedType(type) {\n\t\t\tthis.$emit('schemaSelected', this.supportedTypes[type]);\n\t\t}\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Returns the indices of provided JSON Schemas that the provided values matches against.\n\t\t * \n\t\t * @param {Array} types - Array of JSON schemas\n\t\t * @param {*} value - A value\n\t\t * @return {string[]} - Returns matching indices (as strings!).\n\t\t */\n\t\tasync getTypeForValue(types, value) {\n\t\t\tvar validTypes = [];\n\t\t\tfor(var type of types) {\n\t\t\t\ttry {\n\t\t\t\t\tvar errors = await this.jsonSchemaValidator.validateValue(value, type.schema);\n\t\t\t\t\tif (errors.length > 0) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvalidTypes.push(type.dataType());\n\t\t\t\t} catch (error) {}\n\t\t\t}\n\t\t\treturn validTypes;\n\t\t},\n\t\tasync detectType() {\n\t\t\tlet keys = Object.keys(this.allowedTypes);\n\t\t\tlet valueUndefined = typeof this.state === 'undefined';\n\t\t\tif (keys.length === 0) {\n\t\t\t\tawait this.setSelected('json');\n\t\t\t}\n\t\t\telse if (keys.length === 1) {\n\t\t\t\tawait this.setSelected(keys[0], valueUndefined);\n\t\t\t}\n\t\t\telse if (valueUndefined) {\n\t\t\t\tlet nonNullKeys = keys.filter(t => t !== 'null');\n\t\t\t\tawait this.setSelected(nonNullKeys[0], true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet types = await this.getTypeForValue(Object.values(this.allowedTypes), this.state);\n\t\t\t\tif (types.length === 0) {\n\t\t\t\t\tawait this.setSelected('json');\n\t\t\t\t}\n\t\t\t\telse if (types.length === 1) {\n\t\t\t\t\tawait this.setSelected(types[0]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// If integer and number are both valid options, always choose number\n\t\t\t\t\tif (types.includes('integer') && types.includes('number')) {\n\t\t\t\t\t\t// Remove integer as they overlap and number always works\n\t\t\t\t\t\ttypes = types.filter(type => type !== 'integer');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!Utils.isRef(this.state) && types.length > 1) {\n\t\t\t\t\t\tconsole.warn(\"A parameter is ambiguous. Potential types: \" + types.join(', ') + \". Value: \" + JSON.stringify(this.state));\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t// If multiple types have been detected and a native one is included, fall back to the native one\n\t\t\t\t\tlet index = types.findIndex(type => NATIVE_TYPES.includes(type)) || 0;\n\t\t\t\t\tawait this.setSelected(types[index]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync onSelectType(evt) {\n\t\t\tawait this.setSelected(evt.target.value, true);\n\t\t},\n\t\tasync setSelected(type, setValue = false) {\n\t\t\tlet nativeType = type;\n\t\t\tif (type instanceof ProcessDataType) {\n\t\t\t\tthis.selectedSchema = type;\n\t\t\t\tthis.selectedType = type.dataType();\n\t\t\t\tnativeType = type.nativeDataType();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.selectedSchema = this.allowedTypes[type] ? this.allowedTypes[type] : this.supportedTypes[type];\n\t\t\t\tthis.selectedType = type;\n\t\t\t}\n\n\t\t\tif (setValue) {\n\t\t\t\t// Convert string to numbers and vice versa\n\t\t\t\tif (typeof this.state === 'number' && nativeType === 'string') {\n\t\t\t\t\tthis.state = String(this.state);\n\t\t\t\t}\n\t\t\t\telse if (typeof this.state === 'string' && nativeType === 'integer') {\n\t\t\t\t\tif (this.state.match(/^([+-]?\\d+)$/)) {\n\t\t\t\t\t\tlet num = Number.parseInt(this.state, 10);\n\t\t\t\t\t\tif (!Number.isNaN(num)) {\n\t\t\t\t\t\t\tthis.state = num;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof this.state === 'string' && nativeType === 'number') {\n\t\t\t\t\tlet num = Number.parseFloat(this.state);\n\t\t\t\t\tif (!Number.isNaN(num)) {\n\t\t\t\t\t\tthis.state = num;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Special handling for null as it doesn't have an actual input element\n\t\t\t\tif (this.selectedSchema.isNull()) {\n\t\t\t\t\tthis.state = null;\n\t\t\t\t}\n\t\t\t\t// Set const value\n\t\t\t\telse if (typeof this.selectedSchema.const !== 'undefined') {\n\t\t\t\t\tthis.state = this.selectedSchema.const;\n\t\t\t\t}\n\t\t\t\t// Set single enum value\n\t\t\t\telse if (this.selectedSchema.isEnum() && this.selectedSchema.getEnumChoices().length === 1) {\n\t\t\t\t\tthis.state = this.selectedSchema.getEnumChoices()[0];\n\t\t\t\t}\n\t\t\t\t// Set value from default value\n\t\t\t\telse {\n\t\t\t\t\tlet defaultValue = this.selectedSchema.default();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (typeof this.state === 'undefined' || (await this.jsonSchemaValidator.validateValue(this.state, this.selectedSchema)).length > 0) {\n\t\t\t\t\t\t\tthis.state = defaultValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (error) {\n\t\t\t\t\t\tthis.state = defaultValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style>\n.fieldContainer .description {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 0.9em;\n\tmargin-bottom: 10px;\n}\n.fieldContainer .description .fas {\n\tmargin-right: 0.5em;\n}\n.fieldContainer .dataTypeChooser {\n\tmargin-bottom: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataTypes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataTypes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParameterDataTypes.vue?vue&type=template&id=06319018&\"\nimport script from \"./ParameterDataTypes.vue?vue&type=script&lang=js&\"\nexport * from \"./ParameterDataTypes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParameterDataTypes.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=17370a10&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualEditor.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{attrs:{\"type\":\"button\",\"title\":_vm.isFullscreen ? 'Close fullscreen' : 'Show fullscreen'},on:{\"click\":_vm.toggleFullscreen}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFullscreen),expression:\"isFullscreen\"}]},[_c('i',{staticClass:\"fas fa-compress\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isFullscreen),expression:\"!isFullscreen\"}]},[_c('i',{staticClass:\"fas fa-expand\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<button type=\"button\" @click=\"toggleFullscreen\" :title=\"isFullscreen ? 'Close fullscreen' : 'Show fullscreen'\">\n\t\t<span v-show=\"isFullscreen\"><i class=\"fas fa-compress\"></i></span>\n\t\t<span v-show=\"!isFullscreen\"><i class=\"fas fa-expand\"></i></span>\n\t</button>\n</template>\n\n<script>\nimport Utils from '../utils.js';\n\n// ToDo: Add key listeners for F11(?) and ESC (closing)\nexport default {\n\tname: 'FullscreenButton',\n\tprops: [\n\t\t\"element\"\n\t],\n\tdata() {\n\t\treturn {\n\t\t\tisFullscreen: false,\n\t\t\tkeyDownFn: null,\n\t\t\toldZIndex: 'auto'\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.keyDownFn = this.onkeyDown.bind(this);\n\t\tlet el = this.getElement();\n\t\tif (el) {\n\t\t\tel.addEventListener('keydown', this.keyDownFn);\n\t\t}\n\t},\n    beforeDestroy() {\n\t\tlet el = this.getElement();\n\t\tif (el) {\n\t\t\tel.removeEventListener('keydown', this.keyDownFn);\n\t\t}\n    },\n    computed: {\n\t\t...Utils.mapState('editor', ['hightestModalZIndex'])\n\t},\n\tmethods: {\n\t\t...Utils.mapMutations('editor', ['openModal', 'closeModal']),\n\t\tonkeyDown(e) {\n\t\t\t// ToDo: This is very bugged and needs some attention\n\t\t\tif(e.key === \"F11\" || (this.isFullscreen && e.key === \"Escape\")) {\n\t\t\t\tthis.toggleFullscreen();\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n    \t\t}\n\t\t},\n\t\tgetElement() {\n\t\t\tif (typeof this.element === 'string') {\n\t\t\t\treturn document.querySelector(this.element);\n\t\t\t}\n\t\t\telse if (typeof this.element === 'function') {\n\t\t\t\treturn this.element();\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.element;\n\t\t\t}\n\t\t},\n\t\ttoggleFullscreen() {\n\t\t\tlet el = this.getElement();\n\t\t\tif (!this.isFullscreen) {\n\t\t\t\tthis.isFullscreen = true;\n\t\t\t\tel.classList.add('fullscreen');\n\t\t\t\t// Handle z-index to properly show above modals etc.\n\t\t\t\tthis.openModal();\n\t\t\t\tthis.oldZIndex = el.style.zIndex;\n\t\t\t\tel.style.zIndex = this.hightestModalZIndex;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.isFullscreen = false;\n\t\t\t\tel.classList.remove('fullscreen');\n\t\t\t\t// Revert z-index changes\n\t\t\t\tel.style.zIndex = this.oldZIndex;\n\t\t\t\tthis.closeModal();\n\t\t\t}\n\n\t\t\tthis.$emit('changed', this.isFullscreen);\n\t\t},\n\t}\n};\n</script>\n\n<style>\n.fullscreen {\n\tposition: absolute !important;\n\ttop: 0 !important;\n\tleft: 0 !important;\n\twidth: 100% !important;\n\theight: 100% !important;\n\tbackground-color: white;\n\toverflow: auto;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FullscreenButton.vue?vue&type=template&id=2a8e151b&\"\nimport script from \"./FullscreenButton.vue?vue&type=script&lang=js&\"\nexport * from \"./FullscreenButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FullscreenButton.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterModal.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blocks.vue?vue&type=style&index=0&id=08c86812&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockParameter.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataViewer.vue?vue&type=style&index=0&id=6680fd10&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenButton.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServicePanel.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterDataType.vue?vue&type=style&index=0&id=1e23d04c&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./MapMixin.css?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePanel.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.id}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div :id=\"id\"></div>\n</template>\n\n<script>\nimport MapMixin from './MapMixin.vue';\nimport Utils from '../utils.js';\n\nimport Feature from 'ol/Feature';\nimport { fromExtent as PolygonFromExtent } from 'ol/geom/Polygon';\nimport { fromLonLat } from 'ol/proj';\nimport TileLayer from 'ol/layer/Tile';\nimport TileJSON from 'ol/source/TileJSON';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport XYZ from 'ol/source/XYZ';\n\nimport 'ol-ext/control/Swipe.css';\nimport Swipe from 'ol-ext/control/Swipe';\n\nexport default {\n\tname: 'MapViewer',\n\tmixins: [MapMixin],\n\tprops: {\n\t\textents: { // Array of Array (WGS84: west, south, east, north)\n\t\t\ttype: Array,\n\t\t\tdefault: () => null\n\t\t},\n\t\tgeoJson: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuserLayers: {},\n\t\t\tswipe: {\n\t\t\t\tcontrol: null,\n\t\t\t\tleft: null,\n\t\t\t\tright: null\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\trenderMap() {\n\t\t\tlet showExtents = Array.isArray(this.extents) && this.extents.length > 0;\n\t\t\tthis.createMap(!showExtents);\n\n\t\t\tif (showExtents) {\n\t\t\t\tfor(let extent of this.extents) {\n\t\t\t\t\tvar bbox = Utils.extentToBBox(extent);\n\t\t\t\t\tthis.addRectangle(bbox.west, bbox.east, bbox.north, bbox.south);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (Utils.isObject(this.geoJson)) {\n\t\t\t\tthis.geoJsonLayer = this.addGeoJson(this.geoJson);\n\t\t\t}\n\t\t},\n\n\t\taddRectangle(w, e, n, s) {\n\t\t\tvar extent = [...fromLonLat([w, s]), ...fromLonLat([e, n])];\n\t\t\tthis.map.addLayer(new VectorLayer({\n\t\t\t\ttitle: \"Extent\",\n\t\t\t\tdisplayInLayerSwitcher: false,\n\t\t\t\tsource: new VectorSource({\n\t\t\t\t\tfeatures: [\n\t\t\t\t\t\tnew Feature(PolygonFromExtent(extent))\n\t\t\t\t\t],\n\t\t\t\t\twrapX: false\n\t\t\t\t})\n\t\t\t}));\n\t\t\tthis.map.getView().fit(extent);\n\t\t\t// ToDo: The Collection component has some smart fitting behavior in setMapSize()\n\t\t\t// Implement something similar here, too.\n\t\t},\n\n\t\tgetVisibleLayers() {\n\t\t\tvar shownLayers = [];\n\t\t\tfor(var id in this.userLayers) {\n\t\t\t\tif (this.userLayers[id].getVisible()) {\n\t\t\t\t\tshownLayers.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn shownLayers;\n\t\t},\n\n\t\tshowWebService(service) {\n\t\t\tswitch(service.type.toLowerCase()) {\n\t\t\t\tcase 'xyz':\n\t\t\t\t\tthis.updateXYZLayer(service);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tUtils.error(this, 'Sorry, the service type is not supported by the map.');\n\t\t\t}\n\t\t},\n\n\t\ttoggleSwipeControl() {\n\t\t\tvar shownLayers = this.getVisibleLayers();\n\t\t\tif (shownLayers.length === 2) {\n\t\t\t\tif (this.swipe.control === null) {\n\t\t\t\t\tthis.swipe.control = new Swipe();\n\t\t\t\t\tthis.map.addControl(this.swipe.control);\n\t\t\t\t}\n\t\t\t\tif (this.swipe.left !== shownLayers[0]) {\n\t\t\t\t\tthis.swipe.control.addLayer(this.userLayers[shownLayers[0]]);\n\t\t\t\t\tthis.swipe.left = shownLayers[0];\n\t\t\t\t}\n\t\t\t\tif (this.swipe.right !== shownLayers[1]) {\n\t\t\t\t\tthis.swipe.control.addLayer(this.userLayers[shownLayers[1]], true);\n\t\t\t\t\tthis.swipe.right = shownLayers[1];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.map.removeControl(this.swipe.control);\n\t\t\t\tthis.swipe.control = null;\n\t\t\t\tthis.swipe.left = null;\n\t\t\t\tthis.swipe.right = null;\n\t\t\t}\n\t\t},\n\n\t\taddLayerToMap(id, layer) {\n\t\t\tthis.userLayers[id] = layer;\n\t\t\tthis.map.addLayer(layer);\n\t\t\tthis.toggleSwipeControl();\n\t\t\tlayer.on('change', () => this.toggleSwipeControl());\n\t\t\tlayer.on('change:visible', () => this.toggleSwipeControl());\n\t\t\tlayer.on('change:zIndex', () => this.toggleSwipeControl());\n\t\t},\n\n\t\tremoveLayerFromMap(id) {\n\t\t\tif (!this.userLayers[id]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.map.removeLayer(this.userLayers[id]);\n\t\t\tdelete this.userLayers[id];\n\t\t\tthis.toggleSwipeControl();\n\t\t},\n\n\t\tupdateGeoTiffLayer(url, title = null) {\n\t\t\tvar layer = new TileLayer({\n\t\t\t\tsource: new TileJSON({\n\t\t\t\t\turl: 'http://tiles.rdnt.io/tiles?url=' + encodeURIComponent(url),\n\t\t\t\t\tcrossOrigin: 'anonymous'\n\t\t\t\t})\n\t\t\t});\n\t\t\tthis.addLayerToMap(title ? title : \"GeoTiff\", layer);\n\t\t\t// ToDo: Implement full/native GTiff support\n\t\t},\n\n\t\tupdateXYZLayer(service) {\n\t\t\tvar id = service.id;\n\t\t\tvar url = service.url;\n\t\t\tvar title = Utils.getResourceTitle(service, \"Service\") + \" (XYZ)\";\n\t\t\tif (typeof this.userLayers[id] === 'undefined') {\n\t\t\t\tvar layer = new TileLayer({\n\t\t\t\t\tsource: this.trackTileProgress(new XYZ({\n\t\t\t\t\t\turl: url\n\t\t\t\t\t})),\n\t\t\t\t\ttitle: title\n\t\t\t\t});\n\t\t\t\tthis.addLayerToMap(id, layer);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Replace/add a query parameter with a unique ID so that OpenLayers doesn't load tiles from cache\n\t\t\t\tvar newUrl = Utils.replaceParam(url, '__editorSessionId', new Date().getTime());\n\t\t\t\t// Make sure { and } are not url-encoded\n\t\t\t\tnewUrl = newUrl.replace(/%7B/g, '{').replace(/%7D/g, '}');\n\t\t\t\t// Set new URL to reload tiles\n\t\t\t\tthis.userLayers[id].getSource().setUrl(newUrl);\n\t\t\t}\n\t\t}\n\n\t}\n\n}\n</script>\n\n<style src=\"./MapMixin.css\"></style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapViewer.vue?vue&type=template&id=155293bc&\"\nimport script from \"./MapViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./MapViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapMixin.css?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=style&index=0&id=078435c4&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageViewer.vue?vue&type=style&index=0&id=8fe7759e&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterModal.vue?vue&type=style&index=0&id=c8e4c34a&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserWorkspace.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{ref:\"__modal\",attrs:{\"minWidth\":\"60%\",\"maxWidth\":\"90%\",\"minHeight\":\"75%\"},scopedSlots:_vm._u([{key:\"main\",fn:function(){return [(_vm.editableFields.length === 0)?_c('p',[_vm._v(\"No editable parameters available.\")]):_c('form',{attrs:{\"id\":\"parameterModal\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_vm._l((_vm.editableFields),function(param,k){return _c('div',{key:k,staticClass:\"fieldRow\"},[_c('label',{class:{ fieldLabel: true, highlight: param.name === _vm.selectParameter }},[_vm._v(\" \"+_vm._s(_vm.displayLabel(param))),(!param.optional)?_c('strong',{staticClass:\"required\",attrs:{\"title\":\"required\"}},[_vm._v(\"*\")]):_vm._e(),(param.description)?_c('div',{staticClass:\"description\"},[_c('Description',{attrs:{\"description\":param.description}})],1):_vm._e()]),_c('ParameterDataTypes',{ref:param.name,refInFor:true,attrs:{\"editable\":_vm.editable,\"parameter\":param,\"processId\":_vm.processId,\"context\":_vm.context,\"parent\":_vm.parent},on:{\"schemaSelected\":function($event){return _vm.updateType(param, $event)}},model:{value:(_vm.values[param.name]),callback:function ($$v) {_vm.$set(_vm.values, param.name, $$v)},expression:\"values[param.name]\"}}),(param.unspecified)?_c('button',{staticClass:\"deleteBtn\",attrs:{\"title\":\"Delete unspecified parameter\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteParam(k)}}},[_c('i',{staticClass:\"fas fa-trash\"})]):_vm._e()],1)}),_c('button',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"submit\"}})],2)]},proxy:true},(typeof _vm.saveCallback === 'function')?{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"footer\"},[_c('button',{staticClass:\"save\",on:{\"click\":_vm.save}},[_vm._v(\"Save\")])])]},proxy:true}:null],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<Modal ref=\"__modal\" minWidth=\"60%\" maxWidth=\"90%\" minHeight=\"75%\">\n\t\t<template #main>\n\t\t\t<p v-if=\"editableFields.length === 0\">No editable parameters available.</p>\n\t\t\t<form v-else id=\"parameterModal\" @submit.prevent=\"save\">\n\t\t\t\t<div class=\"fieldRow\" v-for=\"(param, k) in editableFields\" :key=\"k\">\n\t\t\t\t\t<label :class=\"{ fieldLabel: true, highlight: param.name === selectParameter }\">\n\t\t\t\t\t\t{{ displayLabel(param) }}<strong class=\"required\" v-if=\"!param.optional\" title=\"required\">*</strong>\n\t\t\t\t\t\t<div v-if=\"param.description\" class=\"description\">\n\t\t\t\t\t\t\t<Description :description=\"param.description\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t\t<ParameterDataTypes :ref=\"param.name\" :editable=\"editable\" :parameter=\"param\" v-model=\"values[param.name]\" :processId=\"processId\" :context=\"context\" @schemaSelected=\"updateType(param, $event)\" :parent=\"parent\" />\n\t\t\t\t\t<button v-if=\"param.unspecified\" title=\"Delete unspecified parameter\" class=\"deleteBtn\" type=\"button\" @click=\"deleteParam(k)\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t\t</div>\n\t\t\t\t<!-- We need a hidden submit button in the form tags to allow submiting the form via keyboard (enter key) -->\n\t\t\t\t<button type=\"submit\" style=\"display:none\"></button>\n\t\t\t</form>\n\t\t</template>\n\t\t<template v-if=\"typeof saveCallback === 'function'\" #footer>\n\t\t\t<div class=\"footer\">\n\t\t\t\t<button class=\"save\" @click=\"save\">Save</button>\n\t\t\t</div>\n\t\t</template>\n\t</Modal>\n</template>\n\n<script>\nimport Utils from '../../utils';\nimport Modal from './Modal.vue';\nimport Description from '@openeo/vue-components/components/Description.vue';\nimport ParameterDataTypes from '../ParameterDataTypes.vue';\n\nexport default {\n\tname: 'ParameterModal',\n\tcomponents: {\n\t\tModal,\n\t\tDescription,\n\t\tParameterDataTypes\n\t},\n\tdata() {\n\t\treturn {\n\t\t\teditableFields: [],\n\t\t\tvalues: {},\n\t\t\tschemas: {},\n\t\t\teditable: true,\n\t\t\tselectParameter: null,\n\t\t\tsaveCallback: null,\n\t\t\tprocessId: null,\n\t\t\tparent: null\n\t\t};\n\t},\n\tcomputed: {\n\t\tcontext() {\n\t\t\treturn {\n\t\t\t\tvalues: this.values,\n\t\t\t\tschemas: this.schemas,\n\t\t\t\tparameters: this.editableFields\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tdeleteParam(key) {\n\t\t\tlet name = this.editableFields[key].name;\n\t\t\tthis.$delete(this.editableFields, key);\n\t\t\tthis.$delete(this.schemas, name);\n\t\t\tthis.$delete(this.values, name);\n\t\t},\n\t\tupdateType(parameter, schema) {\n\t\t\tthis.$set(this.schemas, parameter.name, schema);\n\t\t},\n\t\tdisplayLabel(param) {\n\t\t\tif (typeof param.label === 'string' && param.label.length > 0) {\n                return param.label;\n            }\n            else {\n                return Utils.prettifyString(param.name);\n            }\n\t\t},\n\t\tsave() {\n\t\t\ttry {\n\t\t\t\tif (typeof this.saveCallback === 'function') {\n\t\t\t\t\tthis.saveCallback(this.values);\n\t\t\t\t}\n\t\t\t\tthis.$refs.__modal.close();\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\t\tshow(title, editableFields, values, editable = true, saveCallback = null, closeCallback = null, processId = null, selectParameter = null, parent = null) {\n\t\t\tthis.editableFields = editableFields;\n\t\t\tthis.values = Utils.deepClone(values);\n\t\t\tthis.schemas = {};\n\t\t\tthis.editable = editable;\n\t\t\tthis.saveCallback = saveCallback;\n\t\t\tthis.processId = processId;\n\t\t\tthis.selectParameter = selectParameter;\n\t\t\tthis.parent = parent;\n\t\t\tthis.$refs.__modal.show(title, closeCallback);\n\n\t\t\tthis.$nextTick(() => this.setSelected());\n\t\t},\n\t\tcomponentforParameter(name) {\n\t\t\tif (name && Array.isArray(this.$refs[name]) && this.$refs[name][0]) {\n\t\t\t\treturn this.$refs[name][0];\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tsetSelected(callCounter = 0) {\n\t\t\tlet component;\n\t\t\tif (this.selectParameter) {\n\t\t\t\tcomponent = this.componentforParameter(this.selectParameter);\n\t\t\t}\n\t\t\telse if (this.editableFields.length > 0) {\n\t\t\t\tcomponent = this.componentforParameter(this.editableFields[0].name);\n\t\t\t}\n\t\t\tif (!component) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif (component.$el && component.$el.scrollIntoView) {\n\t\t\t\tif (this.selectParameter) {\n\t\t\t\t\tcomponent.$el.scrollIntoView();\n\t\t\t\t}\n\t\t\t\tthis.setInputFocus(component.$el);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Retry the selection, up to 2.5 seconds\n\t\t\t\tcallCounter < 10 && setTimeout(() => this.setSelected(++callCounter), 250);\n\t\t\t}\n\t\t},\n\t\tsetInputFocus(node, callCounter = 0) {\n\t\t\tif (node.querySelector) {\n\t\t\t\tlet firstElement = node.querySelector('input:not([type=\"hidden\"]):not([disabled]):not([class~=\"multiselect__input\"]), button:not([disabled]), textarea:not([disabled]), select:not([disabled]), datalist:not([disabled])');\n\t\t\t\tif (firstElement) {\n\t\t\t\t\tfirstElement.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Retry focussing, up to 2.5 seconds\n\t\t\t\tcallCounter < 10 && setTimeout(() => this.setInputFocus(node, ++callCounter), 250);\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.footer {\n\ttext-align: right;\n}\n.deleteBtn {\n\tmargin-left: 10px;\n}\n</style>\n\n<style>\n#parameterModal .fieldRow .description {\n\tfont-size: 0.8em;\n\twidth: 100%;\n}\n#parameterModal .fieldRow .required {\n\tcolor: red;\n\tfont-weight: bold;\n}\n#parameterModal .fieldRow:first-of-type {\n\tborder: 0;\n\tmargin: 0;\n\tpadding: 0;\n}\n#parameterModal .fieldRow {\n\tdisplay: flex;\n\tpadding-top: 1em;\n\tmargin-top: 1em;\n\tborder-top: 1px dotted #ccc;\n}\n#parameterModal .fieldRow .fieldLabel {\n\tmin-width: 30%;\n\twidth: 30%;\n\tpadding-right: 1em;\n}\n#parameterModal .fieldRow .fieldLabel.highlight {\n\twidth: calc(35% - 5px);\n    border-left: 5px solid #1665B6;\n    padding-left: 5px;\n}\n#parameterModal .fieldRow .fieldEditorContainer {\n\tflex-grow: 1;\n\tdisplay: flex;\n}\n#parameterModal .fieldRow .fieldContainer {\n\tmin-width: 50%;\n\twidth: 70%;\n\tflex-grow: 1;\n}\n#parameterModal .fieldRow .fieldValue {\n\tdisplay: flex;\n\tflex-grow: 1;\n}\n#parameterModal .fieldRow .fieldValue input, .fieldRow .fieldValue textarea, .fieldRow .fieldValue select {\n\tflex-grow: 1;\n\twidth: 100%;\n}\n#parameterModal .fieldRow input[type=\"checkbox\"].fieldValue  {\n\tdisplay: inline-block;\n\tflex-grow: unset;\n}\n\n#parameterModal .description .styled-description {\n\tline-height: 1.1em;\n}\n#parameterModal .description .styled-description p {\n\tmargin: 0.2em 0;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParameterModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParameterModal.vue?vue&type=template&id=c8e4c34a&scoped=true&\"\nimport script from \"./ParameterModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ParameterModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParameterModal.vue?vue&type=style&index=0&id=c8e4c34a&scoped=true&lang=css&\"\nimport style1 from \"./ParameterModal.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8e4c34a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogViewer.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"discovery-toolbar\"},[_c('SearchBox',{model:{value:(_vm.searchTerm),callback:function ($$v) {_vm.searchTerm=$$v},expression:\"searchTerm\"}}),_c('div',{staticClass:\"search-results\"},[_c('Collections',{staticClass:\"category\",attrs:{\"collections\":_vm.collections,\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":_vm.supportsLoadCollection},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'collection', item)}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showCollectionInfo(item.id)}}},[_c('strong',{attrs:{\"title\":item.id}},[_vm._v(_vm._s(item.id))]),(item.title)?_c('small',{attrs:{\"title\":item.title}},[_vm._v(_vm._s(item.title))]):_vm._e()]),(_vm.supportsLoadCollection)?_c('button',{staticClass:\"discovery-button\",attrs:{\"type\":\"button\",\"title\":\"Insert\"},on:{\"click\":function($event){return _vm.insertCollection(item)}}},[_c('i',{staticClass:\"fas fa-plus\"})]):_vm._e()])]}}])}),_c('Processes',{staticClass:\"category\",attrs:{\"processes\":_vm.processes,\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'process', item)}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showProcessInfo(item)}}},[(!item.native)?_c('i',{staticClass:\"custom-process fas fa-xs fa-sitemap\",attrs:{\"title\":\"Custom Process\"}}):_vm._e(),_c('strong',{attrs:{\"title\":item.id}},[_vm._v(_vm._s(item.id))]),(item.summary)?_c('small',{attrs:{\"title\":item.summary}},[_vm._v(_vm._s(item.summary))]):_vm._e()]),_c('button',{staticClass:\"discovery-button\",attrs:{\"type\":\"button\",\"title\":\"Insert\"},on:{\"click\":function($event){return _vm.insertProcess(_vm.e)}}},[_c('i',{staticClass:\"fas fa-plus\"})])])]}}])}),(_vm.hasUdfRuntimes)?_c('UdfRuntimes',{staticClass:\"category\",attrs:{\"runtimes\":_vm.udfRuntimes,\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar summary = ref.summary;\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":_vm.supportsRunUdf},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'udf', {runtime: summary.identifier, version: item.default})}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showUdfInfo(summary.identifier, item)}}},[_c('strong',{attrs:{\"title\":summary.identifier}},[_vm._v(_vm._s(summary.identifier)+\" (\"+_vm._s(item.default)+\")\")]),(summary.summary)?_c('small',{attrs:{\"title\":summary.summary}},[_vm._v(_vm._s(summary.summary))]):_vm._e()]),(_vm.supportsRunUdf)?_c('button',{staticClass:\"discovery-button\",attrs:{\"type\":\"button\",\"title\":\"Insert\"},on:{\"click\":function($event){return _vm.insertUdf(summary.identifier, item.default)}}},[_c('i',{staticClass:\"fas fa-plus\"})]):_vm._e()])]}}],null,false,1122562181)}):_vm._e(),_c('FileFormats',{staticClass:\"category\",attrs:{\"formats\":_vm.fileFormats,\"showInput\":false,\"heading\":\"Export File Formats\",\"searchTerm\":_vm.searchTerm,\"offerDetails\":false,\"collapsed\":_vm.collapsed},scopedSlots:_vm._u([{key:\"summary\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"discovery-entity\",attrs:{\"draggable\":_vm.supportsSaveResult},on:{\"dragstart\":function($event){return _vm.onDrag($event, 'fileformat', item)}}},[_c('div',{staticClass:\"discovery-info\",on:{\"click\":function($event){return _vm.showFileFormatInfo(item)}}},[_c('strong',{attrs:{\"title\":item.name}},[_vm._v(_vm._s(item.name))]),(item.title)?_c('small',{attrs:{\"title\":item.title}},[_vm._v(_vm._s(item.title))]):_vm._e()]),(_vm.supportsSaveResult)?_c('button',{staticClass:\"discovery-button\",attrs:{\"type\":\"button\",\"title\":\"Insert\"},on:{\"click\":function($event){return _vm.insertFileFormat(item)}}},[_c('i',{staticClass:\"fas fa-plus\"})]):_vm._e()])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"discovery-toolbar\">\n\t\t<SearchBox v-model=\"searchTerm\" />\n\t\t<div class=\"search-results\">\n\t\t\t<Collections class=\"category\" :collections=\"collections\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" :draggable=\"supportsLoadCollection\" @dragstart=\"onDrag($event, 'collection', item)\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showCollectionInfo(item.id)\">\n\t\t\t\t\t\t\t<strong :title=\"item.id\">{{ item.id }}</strong>\n\t\t\t\t\t\t\t<small v-if=\"item.title\" :title=\"item.title\">{{ item.title }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button v-if=\"supportsLoadCollection\" class=\"discovery-button\" type=\"button\" @click=\"insertCollection(item)\" title=\"Insert\"><i class=\"fas fa-plus\"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</Collections>\n\n\t\t\t<Processes class=\"category\" :processes=\"processes\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" draggable=\"true\" @dragstart=\"onDrag($event, 'process', item)\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showProcessInfo(item)\">\n\t\t\t\t\t\t\t<i v-if=\"!item.native\" class=\"custom-process fas fa-xs fa-sitemap\" title=\"Custom Process\"></i>\n\t\t\t\t\t\t\t<strong :title=\"item.id\">{{ item.id }}</strong>\n\t\t\t\t\t\t\t<small v-if=\"item.summary\" :title=\"item.summary\">{{ item.summary }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class=\"discovery-button\" type=\"button\" @click=\"insertProcess(e)\" title=\"Insert\"><i class=\"fas fa-plus\"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</Processes>\n\n\t\t\t<UdfRuntimes v-if=\"hasUdfRuntimes\" class=\"category\" :runtimes=\"udfRuntimes\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ summary, item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" :draggable=\"supportsRunUdf\" @dragstart=\"onDrag($event, 'udf', {runtime: summary.identifier, version: item.default})\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showUdfInfo(summary.identifier, item)\">\n\t\t\t\t\t\t\t<strong :title=\"summary.identifier\">{{ summary.identifier }} ({{ item.default }})</strong>\n\t\t\t\t\t\t\t<small v-if=\"summary.summary\" :title=\"summary.summary\">{{ summary.summary }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button v-if=\"supportsRunUdf\" class=\"discovery-button\" type=\"button\" @click=\"insertUdf(summary.identifier, item.default)\" title=\"Insert\"><i class=\"fas fa-plus\"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</UdfRuntimes>\n\n\t\t\t<FileFormats class=\"category\" :formats=\"fileFormats\" :showInput=\"false\" heading=\"Export File Formats\" :searchTerm=\"searchTerm\" :offerDetails=\"false\" :collapsed=\"collapsed\">\n\t\t\t\t<template #summary=\"{ item }\">\n\t\t\t\t\t<div class=\"discovery-entity\" :draggable=\"supportsSaveResult\" @dragstart=\"onDrag($event, 'fileformat', item)\">\n\t\t\t\t\t\t<div class=\"discovery-info\" @click=\"showFileFormatInfo(item)\">\n\t\t\t\t\t\t\t<strong :title=\"item.name\">{{ item.name }}</strong>\n\t\t\t\t\t\t\t<small v-if=\"item.title\" :title=\"item.title\">{{ item.title }}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button v-if=\"supportsSaveResult\" class=\"discovery-button\" type=\"button\" @click=\"insertFileFormat(item)\" title=\"Insert\"><i class=\"fas fa-plus\"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</FileFormats>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\nimport Collections from '@openeo/vue-components/components/Collections.vue';\nimport FileFormats from '@openeo/vue-components/components/FileFormats.vue';\nimport Processes from '@openeo/vue-components/components/Processes.vue';\nimport SearchBox from '@openeo/vue-components/components/SearchBox.vue';\nimport UdfRuntimes from '@openeo/vue-components/components/UdfRuntimes.vue';\n\nexport default {\n\tname: 'DiscoveryToolbar',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tCollections,\n\t\tFileFormats,\n\t\tProcesses,\n\t\tSearchBox,\n\t\tUdfRuntimes\n\t},\n\tprops: {\n\t\tonAddProcess: {\n\t\t\ttype: Function,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchTerm: '',\n\t\t\tcollapsed: true\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['predefinedProcesses', 'collections', 'udfRuntimes']),\n\t\t...Utils.mapState('userProcesses', ['userProcesses']),\n\t\t...Utils.mapGetters(['supports', 'collectionDefaults', 'fileFormats']),\n\t\t...Utils.mapGetters('userProcesses', {getProcessById: 'getAllById'}),\n\t\tsupportsLoadCollection() {\n\t\t\treturn !!this.getProcessById('load_collection');\n\t\t},\n\t\tsupportsRunUdf() {\n\t\t\treturn !!this.getProcessById('run_udf');\n\t\t},\n\t\tsupportsSaveResult() {\n\t\t\treturn !!this.getProcessById('save_result');\n\t\t},\n\t\thasUdfRuntimes() {\n\t\t\treturn Utils.size(this.udfRuntimes);\n\t\t},\n\t\tprocesses() {\n\t\t\treturn this.predefinedProcesses.concat(this.userProcesses);\n\t\t}\n\t},\n\twatch: {\n\t\tsearchTerm(newVal, oldVal) {\n\t\t\tif (!newVal && oldVal) {\n\t\t\t\tthis.collapsed = true;\n\t\t\t}\n\t\t\telse if (newVal && !oldVal) {\n\t\t\t\tthis.collapsed = false;\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tonDrag(event, type, data) {\n\t\t\tlet node = this.getNode(type, data);\n\t\t\tevent.dataTransfer.setData(\"application/openeo-node\", JSON.stringify(node));\n\t\t\tevent.dataTransfer.setData(\"text/plain\", JSON.stringify(node, null, 2));\n\t\t},\n\t\tshowCollectionInfo(id) {\n\t\t\tif (this.supports('listCollections')) {\n\t\t\t\tthis.emit('showCollection', id);\n\t\t\t}\n\t\t},\n\t\tshowProcessInfo(process) {\n\t\t\tthis.emit('showProcessInfo', process);\n\t\t},\n\t\tshowUdfInfo(id, runtime) {\n\n\t\t\tthis.emit('showUdfRuntimeInfo', id, runtime, runtime.default);\n\t\t},\n\t\tshowFileFormatInfo(format) {\n\t\t\tthis.emit('showFileFormatInfo', format.name, this.fileFormats.output[format.name], \"output\");\n\t\t},\n\t\tgetNode(type, data) {\n\t\t\tswitch(type) {\n\t\t\t\tcase 'collection':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: 'load_collection',\n\t\t\t\t\t\targuments: this.collectionDefaults(data.id)\n\t\t\t\t\t};\n\t\t\t\tcase 'process':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: data.id,\n\t\t\t\t\t\targuments: {}\n\t\t\t\t\t};\n\t\t\t\tcase 'udf':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: 'run_udf',\n\t\t\t\t\t\targuments: data\n\t\t\t\t\t};\n\t\t\t\tcase 'fileformat':\n\t\t\t\t\treturn {\n\t\t\t\t\t\tprocess_id: 'save_result',\n\t\t\t\t\t\targuments: {format: data.name, options: {}}\n\t\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tinsertCollection(collection) {\n\t\t\tlet node = this.getNode('collection', collection);\n\t\t\tthis.onAddProcess(node);\n\t\t},\n\t\tinsertProcess(process) {\n\t\t\tlet node = this.getNode('process', process);\n\t\t\tthis.onAddProcess(node);\n\t\t},\n\t\tinsertUdf(runtime, version) {\n\t\t\tlet node = this.getNode('udf', {runtime, version});\n\t\t\tthis.onAddProcess(node);\n\t\t},\n\t\tinsertFileFormat(format) {\n\t\t\tlet node = this.getNode('fileformat', format);\n\t\t\tthis.onAddProcess(node);\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.search-results h2.heading {\n\tfont-size: 1em;\n\tborder: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tmargin-bottom: 0.5em;\n}\n.search-results .vue-component.searchable-list ul.list > li > summary:before {\n\tcontent: '';\n\tmargin-left: 0;\n\tfloat: none;\n}\n.search-results .vue-component.searchable-list ul.list > li > summary {\n\tmargin: 0;\n\tline-height: inherit;\n}\n.search-results .vue-component.searchable-list ul.list > li {\n\tmargin-bottom: 0;\n}\n</style>\n\n<style scoped>\n.discovery-toolbar {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: hidden; /* to hide .search-box .icon */\n}\n\n.search-results {\n\toverflow-y: auto;\n\tflex-grow: 1;\n}\n\n.category {\n\tpadding: 5px;\n}\n.category strong {\n\tcursor: pointer;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.discovery-entity {\n\tdisplay: flex;\n\tmargin: 0.25em 0;\n\tborder: 1px solid #ddd;\n\tborder-radius: 3px;\n\tcursor: pointer;\n\tuser-select: none;\n\tfont-size: 0.9em;\n}\n.discovery-info {\n\tflex-grow: 1;\n\tpadding: 5px;\n\twidth: 100%;\n\toverflow: hidden; \n\tposition: relative;\n}\n.discovery-info:hover {\n\tbackground-color: #eee;\n}\n.discovery-entity strong {\n\tdisplay: block;\n\tfont-weight: normal;\n\twhite-space: nowrap;\n\twidth: 100%;\n\toverflow: hidden; \n\ttext-overflow: ellipsis;\n\tcolor: #1665B6;\n}\n.discovery-info:hover strong {\n\tcolor: #000;\n}\n.discovery-entity small {\n\tmargin-top: 0.25em;\n\tdisplay: block;\n}\n.discovery-button {\n\tdisplay: block;\n\tmargin: 0;\n\tpadding: 5px;\n\tbackground-color: #fff;\n\tcolor: #aaa;\n\tborder: 0;\n\tborder-left: 1px solid #ddd;\n}\n.discovery-button:hover {\n\tbackground-color: #eee;\n\tcolor: #000;\n}\n.custom-process {\n\tposition: absolute;\n\ttop: 7px;\n\tright: 5px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiscoveryToolbar.vue?vue&type=template&id=3c92eebc&scoped=true&\"\nimport script from \"./DiscoveryToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./DiscoveryToolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DiscoveryToolbar.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./DiscoveryToolbar.vue?vue&type=style&index=1&id=3c92eebc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c92eebc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tabs',{ref:\"tabs\",staticClass:\"editor\",attrs:{\"id\":\"customProcessContent\",\"position\":\"bottom\"}},[_c('Tab',{attrs:{\"id\":\"visual\",\"name\":\"Visual Model\",\"icon\":\"fa-project-diagram\",\"selected\":true,\"allowShow\":_vm.canSwitchView},on:{\"show\":_vm.showModel}},[_c('VisualEditor',{ref:\"graphBuilder\",staticClass:\"visualEditorTab\",attrs:{\"editable\":_vm.editable,\"pgParameters\":_vm.pgParameters,\"value\":_vm.modelValue,\"title\":_vm.title,\"id\":_vm.id + '_visual',\"showDiscoveryToolbar\":_vm.showDiscoveryToolbar,\"defaultValue\":_vm.defaultValue},on:{\"input\":_vm.commit,\"error\":_vm.onError},scopedSlots:_vm._u([{key:\"file-toolbar\",fn:function(){return [_vm._t(\"file-toolbar\")]},proxy:true},{key:\"toolbar\",fn:function(){return [_vm._t(\"toolbar\")]},proxy:true}],null,true)})],1),_c('Tab',{attrs:{\"id\":\"source\",\"name\":\"Code\",\"icon\":\"fa-code\",\"allowShow\":_vm.canSwitchView},on:{\"show\":_vm.showCode}},[_c('TextEditor',{ref:\"sourceEditor\",staticClass:\"textEditorTab\",attrs:{\"editable\":_vm.editable,\"value\":_vm.codeValue,\"title\":_vm.title,\"id\":_vm.id + '_text',\"language\":\"processgraph\"},on:{\"input\":_vm.commit,\"error\":_vm.onError},scopedSlots:_vm._u([{key:\"file-toolbar\",fn:function(){return [_vm._t(\"file-toolbar\")]},proxy:true},{key:\"toolbar\",fn:function(){return [_vm._t(\"toolbar\")]},proxy:true}],null,true)})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"visualEditor\",staticClass:\"visualEditor\"},[_c('div',{staticClass:\"sourceHeader\"},[(_vm.title)?_c('h3',[_vm._v(_vm._s(_vm.title))]):_vm._e(),_c('div',{staticClass:\"sourceToolbar\"},[(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"title\":\"New script / Clear current script\"},on:{\"click\":_vm.confirmClear}},[_c('i',{staticClass:\"fas fa-file\"})]),_vm._t(\"file-toolbar\")],2):_vm._e(),(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canUndo,\"title\":\"Revert last change\"},on:{\"click\":function($event){return _vm.$refs.blocks.undo()}}},[_c('i',{staticClass:\"fas fa-undo-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.canRedo,\"title\":\"Redo last reverted change\"},on:{\"click\":function($event){return _vm.$refs.blocks.redo()}}},[_c('i',{staticClass:\"fas fa-redo-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"disabled\":!_vm.hasSelection,\"title\":\"Delete selected elements\"},on:{\"click\":function($event){return _vm.$refs.blocks.deleteSelected()}}},[_c('i',{staticClass:\"fas fa-trash\"})])]):_vm._e(),(_vm.editable)?_c('span',{staticClass:\"sepr\"},[_c('button',{attrs:{\"type\":\"button\",\"title\":\"Add Parameter\"},on:{\"click\":_vm.addParameter}},[_c('i',{staticClass:\"fas fa-parking\"})]),(_vm.supportsMath)?_c('button',{class:{highlightFormula: _vm.isMath},attrs:{\"type\":\"button\",\"title\":\"Insert/Edit formula\"},on:{\"click\":_vm.showExpressionModal}},[_c('i',{staticClass:\"fas fa-square-root-alt\"})]):_vm._e()]):_vm._e(),_c('button',{class:{compactMode: _vm.compactMode},attrs:{\"type\":\"button\",\"title\":\"Compact Mode\"},on:{\"click\":function($event){return _vm.$refs.blocks.toggleCompact()}}},[_c('i',{staticClass:\"fas fa-compress-arrows-alt\"})]),_c('button',{attrs:{\"type\":\"button\",\"title\":\"Scale to perfect size\"},on:{\"click\":function($event){return _vm.$refs.blocks.perfectScale()}}},[_c('i',{staticClass:\"fas fa-arrows-alt\"})]),_c('FullscreenButton',{attrs:{\"element\":function () { return this$1.$refs.visualEditor; }},on:{\"changed\":function (enabled) {this$1.$refs.blocks.perfectScale(); _vm.isFullScreen = enabled}}}),_vm._t(\"toolbar\")],2)]),_c('div',{staticClass:\"editorSplitter\"},[((_vm.showDiscoveryToolbar || _vm.isFullScreen) && _vm.editable)?_c('DiscoveryToolbar',{staticClass:\"discoveryToolbar\",attrs:{\"onAddProcess\":_vm.insertProcess}}):_vm._e(),_c('div',{staticClass:\"graphBuilder\",on:{\"drop\":function($event){return _vm.onDrop($event)},\"dragover\":function($event){return _vm.allowDrop($event)}}},[_c('Blocks',{ref:\"blocks\",attrs:{\"editable\":_vm.editable,\"id\":_vm.id,\"processes\":_vm.processRegistry,\"collections\":_vm.collections,\"pgParameters\":_vm.pgParameters,\"value\":_vm.value},on:{\"input\":_vm.commit,\"error\":_vm.errorHandler,\"showProcess\":function (id) { return _vm.emit('showProcess', id); },\"showCollection\":function (id) { return _vm.emit('showCollection', id); },\"showSchema\":_vm.showSchemaModal,\"editParameters\":_vm.openParameterEditor,\"compactMode\":function (compact) { return this$1.compactMode = compact; },\"selectionChanged\":_vm.selectionChanged,\"historyChanged\":_vm.historyChanged}})],1)],1),_c('ParameterModal',{ref:\"parameterModal\"}),(_vm.editable && _vm.supportsMath)?_c('ExpressionModal',{ref:\"expressionModal\",on:{\"save\":_vm.insertNodes}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"div\",staticClass:\"blocks_js_editor\",attrs:{\"id\":_vm.id,\"tabindex\":\"0\"},on:{\"mousemove\":function($event){return _vm.onMouseMove($event)},\"mousedown\":function($event){return _vm.onMouseDown($event)},\"wheel\":function($event){$event.preventDefault();return _vm.onMouseWheel($event)},\"keydown\":function($event){return _vm.onKeyDown($event)},\"focus\":function($event){return _vm.highlight(true)},\"blur\":function($event){return _vm.highlight(false)}}},[_c('svg',{staticClass:\"canvas\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\"}},[_vm._l((_vm.edges),function(edge){return _c('Edge',_vm._b({key:edge.id,ref:\"edges\",refInFor:true,attrs:{\"state\":_vm.state,\"parameter1\":edge.parameter1,\"parameter2\":edge.parameter2},on:{\"position\":function($event){edge.position1 = arguments[0]; edge.position2 = arguments[1]}}},'Edge',edge,false))}),(_vm.linkingLine)?_c('line',_vm._b({},'line',_vm.linkingLine,false)):_vm._e(),(_vm.selectRect)?_c('rect',_vm._b({},'rect',_vm.selectRect,false)):_vm._e()],2),_c('div',{staticClass:\"blocks\"},_vm._l((_vm.blocks),function(block){return _c('Block',{key:block.type + block.id,attrs:{\"id\":block.id,\"type\":block.type,\"value\":block.value,\"spec\":block.spec,\"state\":_vm.state,\"selected\":block.selected},on:{\"update:selected\":function($event){return _vm.$set(block, \"selected\", $event)},\"input\":function($event){return _vm.commit()},\"parameterRemoved\":_vm.parameterRemoved,\"mounted\":_vm.mountBlock,\"unmounted\":_vm.unmountBlock,\"move\":_vm.startDragBlock,\"moved\":_vm.refreshEdges}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"div\",class:_vm.containerClasses,style:(_vm.styles),attrs:{\"id\":'block' + this.id},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }$event.preventDefault();$event.stopPropagation();if('button' in $event && $event.button !== 0){ return null; }return _vm.onMouseDown($event)}}},[_c('div',{staticClass:\"blockTitle\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }$event.preventDefault();$event.stopPropagation();if('button' in $event && $event.button !== 0){ return null; }return _vm.emitDrag($event)}}},[_c('span',{staticClass:\"titleText\",attrs:{\"title\":_vm.plainTitle}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.invalid),expression:\"invalid\"}],staticClass:\"invalid\",attrs:{\"title\":\"Process or Collection not supported!\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]),_vm._v(\" \"+_vm._s(_vm.name)+\" \"),(_vm.showId)?_c('span',{staticClass:\"blockId\"},[_vm._v(\"#\"+_vm._s(_vm.id))]):_vm._e()]),_c('div',{staticClass:\"blockicon\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }$event.preventDefault();$event.stopPropagation();if('button' in $event && $event.button !== 0){ return null; }return _vm.focus()}}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowsComment && !_vm.hasComment),expression:\"allowsComment && !hasComment\"}],staticClass:\"addComment\",attrs:{\"title\":\"Add comment\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addComment()}}},[_c('i',{staticClass:\"fas fa-comment-medical\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowsDelete),expression:\"allowsDelete\"}],staticClass:\"delete\",attrs:{\"title\":\"Remove (DEL)\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.remove()}}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowsInfo),expression:\"allowsInfo\"}],staticClass:\"info\",attrs:{\"title\":\"Details\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showInfo()}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allowsParameterChange),expression:\"allowsParameterChange\"}],staticClass:\"settings\",attrs:{\"title\":\"Change parameter values\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showParameters()}}},[_c('i',{staticClass:\"fas fa-sliders-h\"})])])]),_c('div',{staticClass:\"inout\"},[_c('div',{staticClass:\"inputs\"},_vm._l((_vm.parameters),function(param,i){return _c('BlockParameter',_vm._b({key:i,ref:\"parameters\",refInFor:true,attrs:{\"state\":_vm.state},on:{\"edgesChanged\":function($event){return _vm.edgesChanged(param, $event)}},model:{value:(_vm.args[param.name]),callback:function ($$v) {_vm.$set(_vm.args, param.name, $$v)},expression:\"args[param.name]\"}},'BlockParameter',param,false))}),1),_c('div',{staticClass:\"outputs\"},[_c('BlockParameter',_vm._b({ref:\"output\",attrs:{\"state\":_vm.state,\"label\":_vm.outputLabel}},'BlockParameter',_vm.output,false))],1)]),(_vm.hasComment)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.comment),expression:\"comment\",modifiers:{\"lazy\":true}}],ref:\"commentField\",staticClass:\"editComment\",attrs:{\"placeholder\":\"Type comment here...\"},domProps:{\"value\":(_vm.comment)},on:{\"blur\":function($event){return _vm.updateComment($event)},\"mousedown\":function($event){$event.stopPropagation();},\"change\":function($event){_vm.comment=$event.target.value}}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._g({class:_vm.classes},_vm.listeners),[(!_vm.output)?_c('div',_vm._g({ref:\"circle\",class:_vm.circleClasses},_vm.circleListeners)):_vm._e(),_c('span',{staticClass:\"text\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.unspecified),expression:\"unspecified\"}],staticClass:\"unspecified\",attrs:{\"title\":\"Parameter is likely unsupported!\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]),_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.displayLabel))]),(_vm.displayValue.length)?[_vm._v(\": \")]:_vm._e(),_c('span',{staticClass:\"value\",domProps:{\"innerHTML\":_vm._s(_vm.displayValue)}})],2),(_vm.output)?_c('div',_vm._g({ref:\"circle\",class:_vm.circleClasses},_vm.circleListeners)):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div :class=\"classes\" v-on=\"listeners\">\n        <div v-if=\"!output\" ref=\"circle\" :class=\"circleClasses\" v-on=\"circleListeners\"></div>\n        <span class=\"text\">\n            <span v-show=\"unspecified\" class=\"unspecified\" title=\"Parameter is likely unsupported!\">\n                <i class=\"fas fa-exclamation-triangle\"></i>\n            </span>\n            <span class=\"label\">{{ displayLabel }}</span><template v-if=\"displayValue.length\">: </template>\n            <span class=\"value\" v-html=\"displayValue\"></span>\n        </span>\n        <div v-if=\"output\" ref=\"circle\" :class=\"circleClasses\" v-on=\"circleListeners\"></div>\n    </div>\n</template>\n\n<script>\nimport { ProcessSchema } from './processSchema.js';\nimport Utils from '../../utils.js';\nimport { ProcessGraph } from '@openeo/js-processgraphs';\n\nexport default {\n    name: 'BlockParameter',\n    props: {\n        name: {\n            type: String,\n            default: 'output'\n        },\n        description: {\n            type: String,\n            default: ''\n        },\n        optional: {\n            type: Boolean,\n            default: false\n        },\n        deprecated: {\n            type: Boolean,\n            default: false\n        },\n        experimental: {\n            type: Boolean,\n            default: false\n        },\n        default: {},\n        value: {},\n        schema: {\n            type: [Object, Array],\n            default: null\n        },\n        label: {\n            type: String\n        },\n        output: {\n            type: Boolean,\n            default: false\n        },\n        state: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            // The attached edges\n            edges: []\n        };\n    },\n    computed: {\n        schemas() {\n            if (this.schema instanceof ProcessSchema) {\n                return this.schema;\n            }\n            else {\n                return new ProcessSchema(this.schema);\n            }\n        },\n        hasValue() {\n            return (this.value !== undefined);\n        },\n        listeners() {\n            if (this.allowsParameterChange) {\n                return {\n                    dblclick: this.openEditorForParameter\n                };\n            }\n            else {\n                return {};\n            }\n        },\n        circleListeners() {\n            var listeners = {};\n            if (this.state.editable) {\n                listeners.mousedown = event => {\n                    if (event.which == 1) {\n                        this.state.root.link(this);\n                        event.preventDefault();\n                        event.stopPropagation();\n                    }\n                };\n\n                if (this.output) {\n                    // Allow specifying the result node\n                    listeners.click = event => {\n                        if (event.which == 1) {\n                            // ToDo: Move out of here...\n                            if (this.getEdgeCount() > 0) {\n                                this.state.root.$emit(\"error\", \"A result node can't have outgoing edges.\");\n                                return;\n                            }\n                            this.state.root.setResultNode(this.$parent);\n                        }\n                    };\n                }\n\n                // Handle focus on the I/Os\n                listeners.mouseover = () => this.state.linkFrom && this.state.root.link(this);\n                listeners.mouseout = () => this.state.linkTo && this.state.root.unlink(this);\n            }\n            return listeners;\n        },\n        classes() {\n            return [\n                this.output ? 'output' : 'input',\n                'connector',\n                'field_' + this.name,\n                (this.hasValue || this.optional || this.output || this.getEdgeCount() > 0) ? 'hasValue' : 'noValue'\n            ];\n        },\n        unspecified() {\n            return !this.$parent.invalid && this.state.root.hasProcesses && this.schemas.unspecified;\n        },\n        circleClasses() {\n            var classes = ['circle'];\n            if (this.getEdgeCount() > 0) {\n                classes.push('io_active');\n            }\n\n            var edges = this.edges;\n            for (var n in edges) {\n                if (edges[n].selected) {\n                    classes.push('io_selected');\n                }\n            }\n\n            if (this.state.linkFrom == this || this.state.linkTo == this) {\n                classes.push('io_selected');\n            }\n            return classes;\n        },\n        displayValue() {\n            var maxLength = 38 - this.displayLabel.length;\n            var formattedValue = null;\n            if (this.isEditable && !this.state.compactMode && !Utils.isRef(this.value) && typeof this.value !== 'undefined') {\n                formattedValue = this.formatValue(this.value, maxLength, true);\n            }\n\n            if (typeof formattedValue === 'string') {\n                if (formattedValue.length === 0) {\n                    formattedValue = '<em>Empty</em>';\n                }\n            }\n            else {\n                formattedValue = '';\n            }\n            return formattedValue;\n        },\n        displayLabel() {\n            if (this.output && this.state.compactMode) {\n                return '';\n            }\n            else if (typeof this.label === 'string' && (this.label.length > 0 || this.output)) {\n                return this.label;\n            }\n            else {\n                return this.name;\n            }\n        },\n        isDefaultValue() {\n            return !this.hasValue || (typeof this.default !== 'undefined' && this.default == this.value); // Don't do ===, otherwise empty objects are not recognized as the same.\n        },\n        isArrayType() {\n            return this.schemas.nativeDataType() === 'array';\n        },\n        isObjectType() {\n            return this.schemas.nativeDataType() === 'object';\n        },\n        isEditable() {\n            return !this.output && this.schemas.isEditable();\n        },\n        allowsParameterChange() {\n            return (!this.output && this.state.root.supports('editParameters') && this.schemas.isEditable());\n        },\n        allowsMultipleInputs() {\n            // Is there any type that potentially allows multiple inputs?\n            return this.isArrayType || this.isObjectType || this.schemas.nativeDataType() === 'any';\n        },\n    },\n    watch: {\n        edges() {\n            this.updateEdgeStatus();\n            this.$emit('edgesChanged', this.edges, this);\n        },\n        value: {\n            immediate: true,\n            handler() {\n                this.updateEdgeStatus();\n            }\n        }\n    },\n    methods: {\n        updateEdgeStatus() {\n            if (!this.output) {\n                for(var edge of this.edges) {\n                    edge.inactive = !this.isEdgeUsed(edge);\n                }\n            }\n        },\n        getCirclePosition() {\n            var dim = Utils.domBoundingBox(this.$refs.circle);\n            var blocksDim = this.state.root.getDimensions();\n            var x = (dim.offsetLeft-blocksDim.offsetLeft)+dim.width/2;\n            var y = (dim.offsetTop-blocksDim.offsetTop)+dim.height/2;\n            return [x, y];\n        },\n        openEditorForParameter() {\n            if (this.allowsParameterChange) {\n                this.$parent.showParameters(this.name);\n            }\n        },\n        jsonSchema() {\n            return this.schemas.toJSON();\n        },\n        setValue(value) {\n            if (this.schemas.nativeDataType() == 'boolean0' && !Utils.isRef(value)) {\n                value = !!value;\n            }\n            this.$emit('input', value);\n        },\n        resetValue() {\n            if (typeof this.default !== 'undefined') {\n                this.setValue(this.default);\n                return;\n            }\n            \n            var value;\n            if (this.schemas.nullable()) {\n                value = null;\n            }\n            else {\n                var dataType = this.schemas.nativeDataType();\n                switch(dataType) {\n                    case 'object':\n                        value = {};\n                        break;\n                    case 'array':\n                        value = [];\n                        break;\n                    case 'string':\n                        value = '';\n                        break;\n                    case 'integer':\n                    case 'number':\n                        value = 0;\n                        break;\n                    case 'boolean':\n                        value = false;\n                        break;\n                    default:\n                        value = undefined;\n                }\n            }\n            this.setValue(value);\n        },\n        getEdgeRef(edge) {\n            if (this.output) {\n                return this.value;\n            }\n            else {\n                return edge.parameter1.value;\n            }\n        },\n        addRefToValue(edge) {\n            var ref = this.getEdgeRef(edge);\n            if (!ref) {\n                return;\n            }\n            else if (!this.allowsMultipleInputs) {\n                this.setValue(ref);\n            }\n            else if (this.isArrayType) {\n                if (Utils.isRef(this.value)) {\n                    this.setValue([this.value, ref]);\n                }\n                else if (Array.isArray(this.value) && this.value.length > 0) {\n                    var value = this.value;\n                    value.push(ref);\n                    this.setValue(value);\n                }\n                else {\n                    this.setValue(ref);\n                }\n            }\n            else if (this.isObjectType) {\n                var propertyCount = Utils.size(this.value);\n                if (this.getEdgeCount() === 1 && (!this.hasValue || !propertyCount)) {\n                    this.setValue(ref);\n                }\n                else if (!propertyCount) {\n                    this.resetValue();\n                }\n                else {\n                    // Don't change value\n                }\n            }\n            else {\n                // ToDo: This is probably of data type mixed or any, how to handle?\n                this.setValue(ref);\n            }\n        },\n        removeRefFromValue(edge) {\n            // ToDo: Check whether this should only be executed for input fields\n            var ref = this.getEdgeRef(edge);\n            if (Utils.isRefEqual(ref, this.value)) {\n                this.resetValue();\n            }\n            else if (this.isArrayType || this.isObjectType) {\n                this.setValue(this.removeRefFromValueDeep(this.value, ref));\n            }\n        },\n        removeRefFromValueDeep(value, ref) {\n            if (Array.isArray(value)) {\n                var i = value.length;\n                while(--i >= 0) {\n                    if (value[i] === null || typeof value[i] !== 'object') {\n                        continue;\n                    }\n                    else if (Utils.isRefEqual(ref, value[i])) {\n                        value.splice(i, 1);\n                    }\n                    else {\n                        value[i] = this.removeRefFromValueDeep(value[i], ref);\n                    }\n                }\n\n            }\n            else if (Utils.isObject(value)) {\n                for(var key in value) {\n                    if (!value.hasOwnProperty(key) || value[key] === null || typeof value[key] !== 'object') {\n                        continue;\n                    }\n                    else if (Utils.isRefEqual(ref, value[key])) {\n                        delete value[key];\n                    }\n                    else {\n                        value[i] = this.removeRefFromValueDeep(value[key], ref);\n                    }\n                }\n            }\n            return value;\n        },\n        addEdge(edge) {\n            this.edges.push(edge);\n            if (!this.isEdgeUsed(edge) && !this.output) {\n                this.addRefToValue(edge);\n            }\n        },\n        eraseEdge(edge) {\n            for (var k in this.edges) {\n                if (this.edges[k] == edge) {\n                    this.removeRefFromValue(edge);\n                    this.$delete(this.edges, k);\n                    return true;\n                }\n            }\n            return false;\n        },\n        isEdgeUsed(edge) {\n            var ref = this.getEdgeRef(edge);\n            if (Utils.isRefEqual(ref, this.value)) {\n                return true;\n            }\n            return this.hasRefInValue(ref, this.value);\n        },\n        hasRefInValue(ref, value) {\n            if (!value || typeof value !== 'object') {\n                return false;\n            }\n            else if (Utils.isRefEqual(ref, value)) {\n                return true;\n            }\n            for(let key in value) {\n                if (this.hasRefInValue(ref, value[key])) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        getEdgeCount() {\n            return this.edges.length;\n        },\n        formatProcess(pg, maxLength) {\n            // ToDO: Earlier this was always a ProcessGraph Object, but that seems no longer to be the case. How to clean-up?\n            if (pg instanceof ProcessGraph && pg.getNodeCount() === 1) {\n                return this.formatValue(pg.getResultNode().process_id, maxLength);\n            }\n            var nodes = Object.values(pg.process_graph);\n            if (nodes.length === 1) {\n                return this.formatValue(nodes[0].process_id, maxLength);\n            }\n            else {\n                return 'Process';\n            }\n        },\n        formatValue(value, maxLength, html = true) {\n            if (typeof value === 'object') {\n                if (value === null) {\n                    return 'n/a';\n                }\n                else if (Array.isArray(value)) {\n                    return this.formatArray(value, maxLength, html);\n                }\n                else {\n                    return this.formatObject(value, maxLength, html);\n                }\n            }\n            else if (typeof value === 'string') {\n                if (value.length > maxLength) {\n                    var text = Utils.htmlentities(value.substr(0, maxLength));\n                    return html ? text + '<span title=\"' + Utils.htmlentities(value) + '\">…</span>' : text;\n                }\n                else {\n                    return Utils.htmlentities(value);\n                }\n            }\n            else if (typeof value === 'boolean') {\n                return value ? '✔️' : '❌';\n            }\n            else if (typeof value === 'number') {\n                return value.toString();\n            }\n            else {\n                return Utils.htmlentities(JSON.stringify(value));\n            }\n        },\n        formatArray(values, maxLength, html = true) {\n            let parts = [];\n            for(let i in values) {\n                let value = values[i];\n                let formatted = this.formatValue(value, 10, html);\n                let unformatted = Utils.htmlentities_decode(this.formatValue(value, 10, false));\n\n                if (unformatted.length > maxLength) {\n                    if (parts.length === 0) {\n                        return this.formatArraySimple(values, 'List(' + values.length + ')');\n                    }\n                    else {\n                        parts.push(this.formatArraySimple(values, '…'));\n                        break;\n                    }\n                }\n\n                parts.push(formatted);\n                maxLength -= unformatted.length + 2;\n            }\n            \n            return parts.join(\", \");\n        },\n        formatArraySimple(values, text, html = true) {\n            if (html && values.length < 10) {\n                let title = values.map(v => this.formatValue(v, 25, false)).join(', ');\n                return '<span title=\"' + title + '\">' + text + '</span>';\n            }\n            else {\n                return text;\n            }\n        },\n        formatObject(value, maxLength, html = true) {\n            if (Object.keys(value).length === 0) {\n                return 'None';\n            }\n            // ToDO: Earlier this was always a ProcessGraph Object, but that seems no longer to be the case. How to clean-up?\n            else if (value instanceof ProcessGraph || Utils.isObject(value.process_graph)) {\n                return this.formatProcess(value, maxLength);\n            }\n            else if (Utils.isRef(value)) {\n                return this.formatValue(Utils.formatRef(value), maxLength);\n            }\n            else if (typeof value.west !== 'undefined' && typeof value.east !== 'undefined' && typeof value.south !== 'undefined' && typeof value.north !== 'undefined') {\n                return maxLength >= 12 ? 'Bounding Box' : 'BBox';\n            }\n            else if (Utils.detectGeoJson(value)) {\n                return this.formatValue(value.type, maxLength);\n            }\n\n            // Fallback to default\n            return html ? '<span title=\"' + Utils.htmlentities(JSON.stringify(value)) + '\">Object</span>' : 'Object';\n        }\n    }\n}\n</script>\n\n<style>\n.block .connector span[title] {\n    cursor: help;\n}\n</style>\n<style scoped>\n.block_collection .field_id { /* Hide collection ID as it's shown in the title */\n    display: none;\n}\n.connector {\n    font-size: 0.9em;\n    margin: 0.2em 0;\n    white-space: nowrap;\n}\n.input {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.output {\n    text-align: right;\n}\n.input .label, .circle {\n    cursor: pointer;\n}\n.connector.noValue {\n    color: red;\n}\n.unspecified {\n    color: red;\n    margin-left: 2px;\n}\n.scale_xs .connector .text {\n    display: none;\n}\n.circle {\n    width: 0.8em;\n    height: 0.8em;\n    margin: 0 0.2em;\n    border: 1px solid #888;\n    background-color: transparent;\n    display: inline-block;\n}\n.block_result .field_output .circle {\n    background-color: #888;\n    cursor: auto;\n}\n.circle.io_active {\n    background-color: #FFC800;\n}\n.circle.io_selected {\n    background-color: #00C800 !important;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockParameter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockParameter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockParameter.vue?vue&type=template&id=5a1fed8a&scoped=true&\"\nimport script from \"./BlockParameter.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockParameter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BlockParameter.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./BlockParameter.vue?vue&type=style&index=1&id=5a1fed8a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a1fed8a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div :id=\"'block' + this.id\" ref=\"div\" :class=\"containerClasses\" @mousedown.prevent.stop.left=\"onMouseDown($event)\" :style=\"styles\">\n        <div class=\"blockTitle\" @mousedown.prevent.stop.left=\"emitDrag($event)\">\n            <span class=\"titleText\" :title=\"plainTitle\">\n                <span v-show=\"invalid\" class=\"invalid\" title=\"Process or Collection not supported!\">\n                    <i class=\"fas fa-exclamation-triangle\"></i>\n                </span>\n                {{ name }}\n                <span v-if=\"showId\" class=\"blockId\">#{{ id }}</span>\n            </span>\n            <div class=\"blockicon\" @mousedown.prevent.stop.left=\"focus()\">\n                <span v-show=\"allowsComment && !hasComment\" class=\"addComment\" title=\"Add comment\" @click.stop.prevent=\"addComment()\">\n                    <i class=\"fas fa-comment-medical\"></i>\n                </span>\n                <span v-show=\"allowsDelete\" class=\"delete\" title=\"Remove (DEL)\" @click.stop.prevent=\"remove()\">\n                    <i class=\"fas fa-trash\"></i>\n                </span>\n                <span v-show=\"allowsInfo\" class=\"info\" title=\"Details\" @click.stop.prevent=\"showInfo()\"><i class=\"fas fa-info\"></i></span>\n                <span v-show=\"allowsParameterChange\" class=\"settings\" title=\"Change parameter values\" @click.stop.prevent=\"showParameters()\">\n                    <i class=\"fas fa-sliders-h\"></i>\n                </span>\n            </div>\n        </div>\n        <div class=\"inout\">\n            <div class=\"inputs\">\n                <BlockParameter v-for=\"(param, i) in parameters\" :key=\"i\" ref=\"parameters\" :state=\"state\" v-model=\"args[param.name]\" @edgesChanged=\"edgesChanged(param, $event)\" v-bind=\"param\" />\n            </div>\n            <div class=\"outputs\">\n                <BlockParameter ref=\"output\" :state=\"state\" :label=\"outputLabel\" v-bind=\"output\" />\n            </div>\n        </div>\n        <textarea ref=\"commentField\" v-if=\"hasComment\" v-model.lazy=\"comment\" class=\"editComment\" placeholder=\"Type comment here...\"\n            @blur=\"updateComment($event)\" @mousedown.stop=\"\"></textarea>\n    </div>\n</template>\n\n<script>\nimport BlockParameter from './BlockParameter.vue';\nimport Utils from '../../utils.js';\nimport { ProcessParameter } from './processSchema';\nimport Vue from 'vue';\n\n/*\nEvents:\n\nEmits locally:\n- moved(x, y) - The block has been moved\n- input(value) - The value has been updated\n- move() - A block is now being moved\n- mounted(node) - The block is now part of the DOM.\n- unmounted(node) - The block not not part of the DOM anylonger.\n*/\n\nconst defaultFontSize = 10;\n\nexport default {\n    name: 'Block',\n    components: {\n        BlockParameter\n    },\n    props: {\n        id: {\n            type: String,\n            required: true\n        },\n        type: {\n            type: String,\n            required: true\n        },\n        value: {\n            type: Object,\n            required: true\n        },\n        selected: {\n            type: Boolean,\n            default: false\n        },\n        spec: {\n            type: Object,\n            default: () => null\n        },\n        state: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            data: {},\n            drag: null // Is the user dragging ?\n        };\n    },\n    watch: {\n        'state.compactMode'() {\n            this.$emit('moved', this.position);\n        },\n        value: {\n            immediate: true,\n            handler(value) {\n                this.data = Vue.observable(value);\n            }\n        }\n    },\n    computed: {\n        // Manage the node object (arguments, description, result, x, y, selected)\n        position: {\n            set(pos) {\n                pos = Utils.ensurePoint(pos);\n                this.$set(this.data, 'position', pos);\n                this.$emit('moved', pos);\n                // Position changes need to be commited/emitted manually, \n                // otherwise each change is a step in the history (see stopDrag)\n            },\n            get() {\n                return Utils.ensurePoint(this.data.position);\n            }\n        },\n        args: {\n            set(value) {\n                if (!Utils.isObject(this.data.arguments)) {\n                    this.data.arguments = {};\n                }\n                for(let key in this.data.arguments) {\n                    if (typeof value[key] === 'undefined' && (!this.hasParametersDefined || this.spec.parameters.findIndex(p => p.name === key) === -1)) {\n                        this.$emit('parameterRemoved', this, key);\n                    }\n                }\n                this.$set(this.data, 'arguments', value);\n                this.commit();\n            },\n            get() {\n                return Utils.isObject(this.data.arguments) ? this.data.arguments : {};\n            }\n        },\n        comment: {\n            set(value) {\n                this.$set(this.data, 'description', value);\n                this.commit();\n            },\n            get() {\n                return this.data.description;\n            }\n        },\n        result: {\n            set(value) {\n                this.$set(this.data, 'result', value);\n                this.commit();\n            },\n            get() {\n                return this.data.result || false;\n            }\n        },\n        // Visualizations\n        width() {\n            // ToDo: Sizes also defined in Blocks.getBlockSize() - define only in one place!\n            if (this.parameters.length > 0) {\n                return this.state.compactMode ? 110 : 220;\n            }\n            else {\n                return this.state.compactMode ? 60 : 110;\n            }\n        },\n        styles() {\n            return {\n                marginLeft: Math.round(this.state.center[0] + this.position[0] * this.state.scale) + 'px',\n                marginTop: Math.round(this.state.center[1] + this.position[1] * this.state.scale) + 'px',\n                fontSize: Math.round(this.state.scale * defaultFontSize) + 'px',\n                width: Math.round(this.state.scale * this.width) + 'px',\n            };\n        },\n        plainTitle() {\n            return this.name + (!this.showId ? '' : ' #' + this.id);\n        },\n        name() {\n            switch(this.type) {\n                case 'process':\n                    if (this.collectionId) {\n                        return this.collectionId;\n                    }\n                    else {\n                        return this.processId;\n                    }\n                case 'parameter':\n                    return this.spec.name;\n                default:\n                    return this.id;\n            }\n        },\n        outputLabel() {\n            if (this.result) {\n                return \"Result\";\n            }\n            else if (this.type === 'parameter') {\n                return \"Process Parameter\";\n            }\n            else {\n                return \"\";\n            }\n        },\n        containerClasses() {\n            var classes = ['block'];\n            if (this.collectionId) {\n                classes.push('block_collection');\n            }\n            else if (this.type === 'parameter') {\n                classes.push('block_argument');\n            }\n            if (this.result) {\n                classes.push('block_result');\n            }\n            if (this.selected) {\n                classes.push('block_selected');\n            }\n            if (this.invalid) {\n                classes.push('block_invalid');\n            }\n\n            if (this.state.compactMode) {\n                classes.push('compact');\n            }\n\n            if (this.state.scale < 0.5) {\n                classes.push('scale_xs');\n            }\n            else if (this.state.scale < 0.7) {\n                classes.push('scale_s');\n            }\n            else if (this.state.scale < 0.9) {\n                classes.push('scale_m');\n            }\n            else if (this.state.scale < 1.1) {\n                classes.push('scale_l');\n            }\n\n            return classes;\n        },\n        invalid() {\n            if (this.type !== 'process' || !this.$parent.hasProcesses) {\n                // We can only check processes for validity\n                // Also, don't check for validity if no processes to validate against are given\n                return false;\n            }\n            else if (!this.processId) {\n                return true;\n            }\n\n            // Check that the process exists\n            if (!this.spec) {\n                return true;\n            }\n\n            // Check that the collection exists\n            if (this.processId === 'load_collection' && !Utils.isRef(this.args.id)) {\n                for(let collection of this.$parent.collections) {\n                    if (this.args.id === collection.id) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n\n            return false;\n        },\n        processId() {\n            if (this.type === 'process') {\n                if (this.value.process_id) {\n                    return this.value.process_id;\n                }\n                else if (Utils.isObject(this.spec) && this.spec.id) {\n                    return this.spec.id;\n                }\n            }\n            return null;\n        },\n        collectionId() {\n            if (this.type === 'process' && this.processId === 'load_collection' && !Utils.isRef(this.args.id)) {\n                return this.args.id;\n            }\n            return null;\n        },\n        allowsParameterChange() {\n            return (this.$parent.supports('editParameters') && this.parameters.filter(p => p.isEditable()).length > 0 && this.type !== 'parameter');\n        },\n        allowsDelete() {\n            return (this.state.editable && (!this.spec || (Utils.isObject(this.spec) && this.spec.origin !== 'prop')));\n        },\n        allowsInfo() {\n            if (this.collectionId) {\n                return this.$parent.supports('showCollection');\n            }\n            else if (this.type === 'parameter') {\n                return Utils.isObject(this.spec) && this.$parent.supports('showSchema');\n            }\n            else {\n                return this.$parent.supports('showProcess');\n            }\n        },\n        allowsComment() {\n            return (this.state.editable && this.type === 'process');\n        },\n        hasComment() {\n            return (typeof this.comment === 'string');\n        },\n        showId() {\n            return (this.type !== 'parameter');\n        },\n        // Parameters and related\n        hasParametersDefined() {\n            return Boolean(Utils.isObject(this.spec) && Array.isArray(this.spec.parameters) && this.spec.parameters.length > 0);\n        },\n        parameters() {\n            let names = [];\n            let parameters = [];\n            if (this.hasParametersDefined) {\n                parameters = this.spec.parameters.map(p => new ProcessParameter(p));\n                names = parameters.map(p => p.name);\n            }\n            if (Utils.size(this.args) > 0) {\n                for(var key in this.args) {\n                    if (!names.includes(key)) {\n                        parameters.push(new ProcessParameter({\n                            name: key,\n                            description: ''\n                        }));\n                    }\n                }\n            }\n            return parameters;\n        },\n        fields() {\n            var fields = {};\n            for(var p of this.parameters) {\n                fields[p.name] = p;\n            }\n            fields.output = this.output;\n            return fields;\n        },\n        output() {\n            var spec = {};\n            if (Utils.isObject(this.spec)) {\n                if (this.type === 'parameter') {\n                    spec = this.spec;\n                }\n                else if (Utils.isObject(this.spec.returns)) {\n                    spec = this.spec.returns;\n                }\n            }\n            var output = {\n                name: \"output\",\n                schema: spec.schema || {},\n                description: spec.description || '',\n                optional: true,\n                output: true,\n                value: {}\n            };\n            if (this.type === 'parameter') {\n                output.value.from_parameter = this.id;\n            }\n            else {\n                output.value.from_node = this.id;\n            }\n            return output;\n        }\n    },\n    mounted() {\n        // ToDo: Move mousemove listener for dragging to Blocks?\n        this.draggingFn = this.dragging.bind(this);\n        document.addEventListener('mousemove', this.draggingFn);\n        // ToDO: Replace with mouseleave?\n        this.stopDragFn = this.stopDrag.bind(this);\n        document.addEventListener('mouseup', this.stopDragFn);\n\n        this.$emit('mounted', this);\n    },\n    beforeDestroy() {\n        document.removeEventListener('mousemove', this.draggingFn);\n        document.removeEventListener('mouseup', this.stopDragFn);\n\n        this.$emit('unmounted', this);\n    },\n    methods: {\n        commit() {\n            this.$emit('input', this.data);\n        },\n        focus() {\n            this.$parent.focus();\n        },\n        async onMouseDown(event) {\n            this.$parent.unselectAll(event);\n            return await this.select(!this.selected, false);\n        },\n        async select(selected = true, unselectOthers = true) {\n            if (unselectOthers) {\n                this.$parent.unselectAll();\n            }\n            this.$emit('update:selected', selected);\n            this.focus();\n            await this.$nextTick();\n            return selected;\n        },\n        getDimensions() {\n            let dim = Utils.domBoundingBox(this.$refs.div);\n            var blocksDim = this.$parent.getDimensions();\n            dim.x = dim.offsetLeft-blocksDim.offsetLeft;\n            dim.y = dim.offsetTop-blocksDim.offsetTop;\n            return dim;\n        },\n        edgesChanged(parameter, edges) {\n            parameter.setRefs(edges.map(edge => edge.parameter1.value));\n        },\n        showParameters(parameterName = null) {\n            this.$parent.$emit('editParameters', this.parameters.filter(p => p.isEditable()), this.args, this.plainTitle, this.state.editable, parameterName, data => this.args = data, this.processId, this.$parent);\n        },\n        showInfo() {\n            if(this.collectionId) {\n                this.$parent.$emit('showCollection', this.collectionId);\n            }\n            else if (this.type === 'parameter') {\n                this.$parent.$emit('showSchema', this.name, this.spec.schema);\n            }\n            else {\n                this.$parent.$emit('showProcess', this.processId);\n            }\n        },\n        async addComment() {\n            await this.select();\n            this.comment = \"\";\n            await this.$nextTick();\n            this.$refs.commentField.focus();\n        },\n        updateComment(evt) {\n            if (typeof evt.target.value === 'string' && evt.target.value.length > 0) {\n                this.comment = evt.target.value;\n            }\n            else {\n                this.comment = null;\n            }\n        },\n        async emitDrag(event) {\n            this.focus();\n            let selected = await this.onMouseDown(event);\n            if (selected) {\n                this.$emit('move');\n            }\n        },\n        getDragPos(pos) {\n            return [this.state.mouse[0]/this.state.scale-pos[0], this.state.mouse[1]/this.state.scale-pos[1]];\n        },\n        startDrag() {\n            if (this.selected) {\n                this.drag = {\n                    origin: this.position,\n                    mouse: this.getDragPos(this.position)\n                };\n            }\n        },\n        stopDrag() {\n            if (this.drag) {\n                var delta = 5 / this.state.scale; // Only store History if block was moved enough\n                if (Math.abs(this.drag.origin[0] - this.position[0]) > delta || Math.abs(this.drag.origin[1] - this.position[1]) > delta) {\n                    this.commit();\n                }\n                this.drag = null;\n            }\n        },\n        dragging() {\n            if (this.drag) {\n                this.position = this.getDragPos(this.drag.mouse);\n            }\n        },\n\n        hasOutputEdges() {\n            return this.$refs.output && this.$refs.output.getEdgeCount() > 0;\n        },\n\n        async remove() {\n            await this.$parent.removeBlock(this);\n        },\n\n        /**\n         * Getting a field by name\n         */\n        getBlockParameter(name) {\n            if (name === 'output' && this.$refs.output) {\n                return this.$refs.output;\n            }\n            else if (Array.isArray(this.$refs.parameters)) {\n                var params = this.$refs.parameters.filter(param => param.name === name);\n                if (params.length > 0) {\n                    return params[0];\n                }\n            }\n            return null;\n        }\n    }\n\n}\n</script>\n\n<style scoped>\n.block {\n    position:absolute;\n    border:2px solid #ccc;\n    margin-left:0px;\n    margin-top:0px;\n    background-color:#fafafa;\n    opacity:0.8;\n    font-size:14px;\n    user-select:none;\n    -moz-user-select:none;\n    -khtml-user-select:none;\n    -webkit-user-select:none;\n    -o-user-select:none;\n}\n\n.block .description {\n    display:none;\n    width:200px;\n    padding:3px;\n    border:1px solid #083776;\n    border-radius:5px;\n    color:#001531;\n    background-color:#91bcf6;\n    margin-top:15px;\n    position:absolute;\n    font-weight:normal;\n}\n\n.blockTitle {\n    display: flex;\n    padding: 0.3em 0.1em;\n    font-weight:bold;\n    background-color:#ddd;\n    margin-bottom: 0.1em;\n    cursor: move;\n    font-size: 0.9em;\n}\n\n.titleText {\n    flex-grow: 1;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.block .blockTitle .blockId {\n    opacity:0.4;\n    margin-left: 2px;\n}\n\n.block .blockicon\n{\n    white-space: nowrap;\n    text-align: center;\n}\n\n\n.block .blockicon i\n{\n    min-width: 1.4em;\n    cursor: pointer;\n    opacity: 0.5;\n    margin-left: 0.1em;\n}\n\n.block .blockicon i:hover {\n    opacity:1.0;\n}\n\n.block_collection {\n    border:2px solid #6B8DAF;\n}\n.block_collection .blockTitle {\n    background-color:#A3B7CC;\n}\n\n.block_argument {\n    border:2px solid #B28C6B;\n}\n.block_argument .blockTitle {\n    background-color:#CCB7A3;\n}\n\n.block_selected {\n    border:2px solid #0a0 !important; /* important is used to override the styles for block_collection and block_argument above */\n}\n.block_selected .blockTitle {\n    background-color:#0c0 !important;\n}\n\n.block_invalid {\n    border:2px solid #ff0000 !important; /* important is used to override the styles for block_selected above */\n}\n.invalid {\n    color: red;\n}\n\n.inout {\n    display: flex;\n}\n\n.inputs {\n    flex-grow: 1;\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.editComment {\n    padding: 0.3em 0.2em;\n    box-sizing: border-box;\n    font-size: 0.9em;\n    line-height: 1em;\n    overflow: auto;\n    border: 0;\n    border-top: 1px dotted #ccc;\n    background-color: transparent;\n    width: 100%;\n    max-width: 100%;\n    height: 3.7em;\n    min-height: 2.5em;\n    resize: none;\n}\n.editComment:focus {\n    outline: 0;\n}\n\n.compact .blockicon .delete, .compact .blockicon .info, .compact .blockicon .addComment, .compact .blockId, .compact .editComment {\n    display: none;\n}\n\n.scale_xs .blockicon, .scale_s .blockicon {\n    display: none;\n\n}\n.scale_xs .editComment {\n    visibility: hidden;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Block.vue?vue&type=template&id=429bcd36&scoped=true&\"\nimport script from \"./Block.vue?vue&type=script&lang=js&\"\nexport * from \"./Block.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Block.vue?vue&type=style&index=0&id=429bcd36&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"429bcd36\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',_vm._l((_vm.lines),function(line,i){return _c('line',_vm._b({key:i},'line',line,false))}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class Segment {\n\n    constructor(x, y, dx, dy) {\n        this.x = x;\n        this.y = y;\n        this.dx = dx;\n        this.dy = dy;\n    }\n\n    /**\n     * Distance\n     */\n    distance(point1, point2) {\n        return Math.sqrt(Math.pow(point2.x-point1.x,2) + Math.pow(point2.y-point1.y,2));\n    }\n\n    /**\n     * Distance with a point\n     */\n    distanceP(point) {\n        var normal = this.normal();\n        normal.x = point.x;\n        normal.y = point.y;\n        var intersection = this.intersection(normal);\n\n        return [intersection[0], this.distance(normal.alpha(intersection[1]), point)];\n    }\n\n    /**\n     * Normal\n     */\n    normal() {\n        return new Segment(this.x, this.y, this.dy, -this.dx);\n    }\n\n    /**\n     * Gets the intersection alpha with another \n     */\n    intersection(other) {\n        var a = this.dx;\n        var b = -other.dx;\n        var c = this.dy;\n        var d = -other.dy;\n        var b0 = other.x-this.x;\n        var b1 = other.y-this.y;\n        var det = a*d - b*c;\n\n        if (det == 0) {\n            return null;\n        }\n\n        var r1 = (d*b0 - b*b1)/det;\n        var r2 = (-c*b0 + a*b1)/det;\n\n        return [r1, r2];\n    }\n\n    /**\n     * Gets the alpha point\n     */\n    alpha(a) {\n        var point = {};\n        point.x = this.x+this.dx*a;\n        point.y = this.y+this.dy*a;\n\n        return point;\n    }\n\n}","<template>\n    <g>\n        <line v-for=\"(line, i) in lines\" :key=\"i\" v-bind=\"line\" />\n    </g>\n</template>\n\n<script>\nimport Segment from './segment.js';\n\nexport default {\n    name: 'Edge',\n    props: {\n        id: {\n            type: Number, // Should be Integer?!\n            required: true\n        },\n        parameter1: {\n            type: Object,\n            required: true\n        },\n        parameter2: {\n            type: Object,\n            required: true\n        },\n        selected: {\n            type: Boolean,\n            default: false\n        },\n        inactive: {\n            type: Boolean,\n            default: false\n        },\n        lineWidth: {\n            type: Number,\n            default: 3\n        },\n        state: {\n            type: Object,\n            required: true\n        }\n    },\n    data() {\n        return {\n            position1: null,\n            position2: null\n        }\n    },\n    computed: {\n        segment() {\n            return new Segment(\n                this.position1[0],\n                this.position1[1], \n                this.position2[0] - this.position1[0],\n                this.position2[1] - this.position1[1]\n            );\n        },\n        scaledLineWidth() {\n            return this.lineWidth * this.state.scale;\n        },\n        lines() {\n            // Drawing the arrow\n            var xM = ((this.position1[0]+this.position2[0])/2.0);\n            var yM = ((this.position1[1]+this.position2[1])/2.0);\n\n            var alpha = (35*Math.PI/180.0);\n            var cos = Math.cos(alpha);\n            var sin = Math.sin(alpha);\n            var cosB = Math.cos(-alpha);\n            var sinB = Math.sin(-alpha);\n\n            var norm = Math.sqrt(Math.pow(this.position1[0]-this.position2[0],2)+Math.pow(this.position1[1]-this.position2[1],2));\n            var arrowLength = this.state.scale*10/(norm/1.5);\n            var xA = (this.position1[0]-xM)*arrowLength;\n            var yA = (this.position1[1]-yM)*arrowLength;\n\n            var lineStyle = this.getLineStyle(this.scaledLineWidth, this.selected, this.inactive);\n            var arrowStyle = this.getLineStyle(this.scaledLineWidth / 1.5, this.selected);\n\n            var mainLine = this.getLine(this.position1[0], this.position1[1], this.position2[0], this.position2[1], lineStyle);\n            if (this.inactive || norm/this.state.scale < 25) {\n                // Hide arrow\n                return [mainLine];\n            }\n            else {\n                return [\n                    mainLine,\n                    this.getLine(xM, yM, xM+(xA*cos-yA*sin), yM+(yA*cos+xA*sin), arrowStyle),\n                    this.getLine(xM, yM, xM+(xA*cosB-yA*sinB), yM+(yA*cosB+xA*sinB), arrowStyle)\n                ];\n            }\n        }\n    },\n    watch: {\n        'state.center'() {\n            this.updatePositions();\n        },\n        'state.scale'() {\n            this.updatePositions();\n        },\n        'state.moving'() {\n            this.updatePositions();\n        }\n    },\n    created() {\n        this.updatePositions();\n    },\n    methods: {\n        updatePositions() {\n            let pos1 = this.parameter1.getCirclePosition();\n            let pos2 = this.parameter2.getCirclePosition();\n            if (!this.position1 || !this.position2 || pos1[0] !== this.position1[0] || pos1[1] !== this.position1[1] || pos2[0] !== this.position2[0] || pos2[1] !== this.position2[1]) {\n                this.position1 = pos1;\n                this.position2 = pos2;\n                this.$emit('position', this.position1, this.position2);\n            }\n        },\n        getLineStyle(lineWidth, selected = false, dashed = false) {\n            let dashLength = 2 * this.state.scale;\n            return {\n                'stroke': selected ? 'rgba(0, 200, 0, 1)' : 'rgba(255, 200, 0, 1)',\n                'stroke-width': lineWidth,\n                'stroke-dasharray': dashed ? dashLength * 3 + ' ' + dashLength * 2 : 'none'\n            }\n        },\n        /**\n         * Get line options.\n         * \n         * @param x1 {number} The x-coordinate for the start of the line.\n         * @param y1 {number} The y-coordinate for the start of the line.\n         * @param x2 {number} The x-coordinate for the end of the line.\n         * @param y2 {number} The y-coordinate for the end of the line.\n         * @param [settings] {object} Additional settings for this node.\n         * @return {object} Options for SVG Line\n         */\n        getLine(x1, y1, x2, y2, settings = {}) {\n            return Object.assign({x1, y1, x2, y2}, settings);\n        },\n        /**\n         * Does the position collide the line ?\n         */\n        collide(x, y) {\n            if (!this.segment) {\n                return false;\n            }\n\n            var dp = this.segment.distanceP({x: x, y: y});\n\n            if (dp[0] >= 0 && dp[0] <= 1) {\n                if (dp[1] < (this.lineWidth*this.state.scale)*2) {\n                    return dp[0];\n                }\n            }\n\n            return false;\n        },\n        /**\n         * Test if this edge is the same than another\n         */\n        equals(other) {\n            if (this.parameter1 == other.parameter1 && this.parameter2 == other.parameter2) {\n                return true;\n            }\n            else if (this.parameter1 == other.parameter2 && this.parameter2 == other.parameter1) {\n                return true;\n            }\n\n            return false;\n        }\n    }\n\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edge.vue?vue&type=template&id=329bd386&\"\nimport script from \"./Edge.vue?vue&type=script&lang=js&\"\nexport * from \"./Edge.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div ref=\"div\" :id=\"id\" class=\"blocks_js_editor\" tabindex=\"0\"\n        @mousemove=\"onMouseMove($event)\"\n        @mousedown=\"onMouseDown($event)\"\n        @wheel.prevent=\"onMouseWheel($event)\"\n        @keydown=\"onKeyDown($event)\"\n        @focus=\"highlight(true)\"\n        @blur=\"highlight(false)\">\n        <!-- tabindex is to allow focus for delete keystroke etc -->\n        <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"canvas\">\n            <Edge v-for=\"edge in edges\" ref=\"edges\" :key=\"edge.id\"\n                v-bind=\"edge\" :state=\"state\"\n                :parameter1=\"edge.parameter1\"\n                :parameter2=\"edge.parameter2\"\n                @position=\"edge.position1 = arguments[0]; edge.position2 = arguments[1]\" />\n            <line v-if=\"linkingLine\" v-bind=\"linkingLine\" />\n            <rect v-if=\"selectRect\" v-bind=\"selectRect\" />\n        </svg>\n        <div class=\"blocks\">\n            <Block v-for=\"block in blocks\" :key=\"block.type + block.id\"\n                :id=\"block.id\" :type=\"block.type\" :value=\"block.value\" :spec=\"block.spec\" :state=\"state\" :selected.sync=\"block.selected\"\n                @input=\"commit()\" @parameterRemoved=\"parameterRemoved\"\n                @mounted=\"mountBlock\" @unmounted=\"unmountBlock\"\n                @move=\"startDragBlock\" @moved=\"refreshEdges\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport Block from './Block.vue';\nimport Edge from './Edge.vue';\nimport Utils from '../../utils.js';\nimport { JsonSchemaValidator, ProcessGraph, ProcessRegistry, Utils as PgUtils } from '@openeo/js-processgraphs';\nimport Vue from 'vue';\nimport boxIntersectsBox from 'intersects/box-box';\nimport boxIntersectsLine from 'intersects/box-line';\n\n/*\nEvents:\n\nEmits:\n- error(message, title = null): Show error message\n- showProcess(id): Show process by id\n- showCollection(id): Show collection by id\n- showSchema(name, schema): Show JSON schema\n- editParameters(parameters, values, title = \"Edit\", isEditable = true, selectParameterName = null, saveCallback(data) = null, processId = null, parentBlocks = null): Show the parameter editor\n- compactMode(enable): Informs about the current state of compact mode.\n- input(value) - The value has been updated\n- historyChanged(history, undoIndex = null, redoIndex = null) - The history has been changed\n*/\n\nconst getDefaultState = function(blocks) {\n    return Vue.observable({\n        root: blocks,\n        editable: false,\n        compactMode: false,\n        moving: null, // Is the user dragging the view?\n        selecting: null, // Is the user multi-selecting?\n        center: [0,0],\n        mouse: [0,0],\n        scale: 1.3,\n        linkFrom: null, // Array\n        linkTo: null // Array\n    });\n};\nconst MARGIN = 20;\n\nconst selectionChangeWatcher = function (newVal, oldVal) {\n    if (!Array.isArray(newVal) || !Array.isArray(oldVal) || newVal.length !== oldVal.length || !newVal.every((value,i) => value.id === oldVal[i].id)) {\n        this.$emit('selectionChanged', this.selectedBlocks, this.selectedEdges);\n    }\n};\n\nexport default {\n    name: 'Blocks',\n    components: {\n        Block,\n        Edge\n    },\n    props: {\n        id: {\n            type: String,\n            required: true\n        },\n        editable: {\n            type: Boolean,\n            default: false\n        },\n        value: {\n            type: Object,\n            default: () => ({})\n        },\n        collections: {\n            type: Array,\n            default: () => []\n        },\n        processes: {\n            type: [Array, Object],\n            default: () => []\n        },\n        pgParameters: {\n            type: Array,\n            default: () => []\n        },\n        historySize: {\n            type: Number,\n            default: 30\n        }\n    },\n    data() {\n        return {\n            isMounted: false,\n\n            // Current offset for block that are generated without specific coordinates so that not all block occur on the same position\n            newBlockOffset: 0,\n\n            // History\n            history: [],\n            historyPointer: null,\n\n            process: this.value,\n            // Metadata for blocks to show\n            blocks: [],\n            // Metadata for edges to show\n            edges: [],\n\n            processGraph: null,\n\n            // Next block id\n            nextBlockId: 1,\n            // Next edge id\n            nextEdgeId: 1,\n\n            activeTransactions: 0,\n            \n            // State specific to this blocks instance including all children\n            state: getDefaultState(this)\n        };\n    },\n    computed: {\n        selectRect() {\n            if (!this.state.selecting) {\n                return null;\n            }\n            return {\n                x: Math.min(this.state.mouse[0], this.state.selecting[0]),\n                y: Math.min(this.state.mouse[1], this.state.selecting[1]),\n                width: Math.abs(this.state.mouse[0] - this.state.selecting[0]),\n                height: Math.abs(this.state.mouse[1] - this.state.selecting[1]),\n                'stroke': 'rgba(0,0,0,0.8)',\n                'stroke-width': 1,\n                'fill': 'rgba(0,0,0,0.05)'\n            };\n        },\n        linkingLine() {\n            if (this.state.linkFrom) {\n                var position = this.state.linkFrom.getCirclePosition();\n                return {\n                    x1: position[0],\n                    y1: position[1],\n                    x2: this.state.mouse[0],\n                    y2: this.state.mouse[1],\n                    'stroke': 'rgba(0,0,0,0.4)',\n                    'stroke-width': 3*this.state.scale\n                };\n            }\n            return null;\n        },\n        processRegistry() {\n            if (this.processes instanceof ProcessRegistry) {\n                return this.processes;\n            }\n            else {\n                return new ProcessRegistry(this.processes);\n            }\n        },\n        hasProcesses() {\n            return this.processRegistry.count() > 0;\n        },\n        processBlocks() {\n            return this.blocks.filter(b => b.type === 'process');\n        },\n        selectedBlocks() {\n            return this.blocks.filter(block => block.selected);\n        },\n        selectedEdges() {\n            return this.edges.filter(edge => edge.selected);\n        },\n        selectedSideEdge() {\n            if (this.selectedEdges.length === 1 && this.selectedEdges[0].selectedParameter) {\n                return this.selectedEdges[0];\n            }\n            return null;\n        }\n    },\n    watch: {\n        pgParameters(value) {\n            this.importPgParameters(value, 'prop');\n        },\n        async value(value) {\n            // Only run if component has been mounted\n            if (!this.isMounted) {\n                return;\n            }\n\n            // Only import when user changes data (i.e. not a BlocksProcess exported from export())\n            if (!(value instanceof BlocksProcess)) {\n                this.process = value;\n                await this.import(value, { propagate: false, undoOnError: false }); // don't propagate, otherwise results in an infinite loop\n            }\n        },\n        editable: {\n            immediate: true,\n            handler(editable) {\n                this.state.editable = editable;\n            }\n        },\n        selectedEdges: selectionChangeWatcher,\n        selectedBlocks: selectionChangeWatcher\n    },\n    async mounted() {\n        if (!this.supports('error')) {\n            // Print error to console if event is not supported by implementing context\n            this.$on('error', (msg, title = null) => console.error(msg, title));\n        }\n\n        // Setting up default viewer center\n        this.moveCenter(0, 0, true);\n\n        // ToDo: Replace with mouseleave?\n        this.onDocumentMouseUpFn = this.onDocumentMouseUp.bind(this)\n        document.addEventListener('mouseup', this.onDocumentMouseUpFn);\n\n        await this.importPgParameters(this.pgParameters, 'prop');\n        if (!await this.import(this.value, { propagate: false, undoOnError: false })) {\n            this.perfectScale();\n        }\n        selectionChangeWatcher.bind(this)();\n\n        this.isMounted = true;\n    },\n    beforeDestroy() {\n        document.removeEventListener('mouseup', this.onDocumentMouseUpFn);\n    },\n    methods: {\n        mountBlock(node) {\n            this.setBlockElement(node, node);\n        },\n        unmountBlock(node) {\n            this.setBlockElement(node, null);\n        },\n        parameterRemoved(block, parameterName) {\n            for(let edge of this.edges) {\n                if(edge.parameter2.$parent === block && edge.parameter2.name === parameterName) {\n                    this.removeEdge(edge);\n                }\n            }\n        },\n        setBlockElement(node, setTo) {\n            for(var block of this.blocks) {\n                if (block.id === node.id) {\n                    block.$el = setTo;\n                    return;\n                }\n            }\n        },\n        startDragBlock() {\n            for(let i in this.blocks) {\n                if (this.blocks[i].$el) {\n                    this.blocks[i].$el.startDrag();\n                }\n            }\n        },\n        refreshEdges() {\n            for(let i in this.$refs.edges) {\n                this.$refs.edges[i].updatePositions();\n            }\n        },\n        supports(event) {\n            return this.$listeners && this.$listeners[event];\n        },\n        focus() {\n            this.$refs.div.focus();\n        },\n        highlight(enable) {\n            if (enable) {\n                this.$refs.div.classList.add(\"focus\");\n            }\n            else {\n                this.$refs.div.classList.remove(\"focus\");\n            }\n        },\n        link(parameter) {\n            if (this.state.linkFrom) {\n                this.state.linkTo = parameter;\n            }\n            else {\n                this.state.linkFrom = parameter;\n            }\n        },\n        unlink(parameter = null) {\n            if (parameter) {\n                if (this.state.linkTo == parameter) {\n                    this.state.linkTo = null;\n                }\n                else if (this.state.linkFrom == parameter) {\n                    this.state.linkFrom = null;\n                }\n            }\n            else {\n                this.state.linkTo = null;\n                this.state.linkFrom = null;\n            }\n        },\n        multiSelect() {\n            let box = this.selectRect;\n            this.blocks\n                .filter(b => {\n                    if (Array.isArray(b.value.position) && b.$el) {\n                        let pos = b.$el.getDimensions();\n                        return boxIntersectsBox(box.x, box.y, box.width, box.height, pos.x, pos.y, pos.width, pos.height);\n                    }\n                    return false;\n                })\n                .map(b => b.selected = true);\n            this.edges\n                .filter(e => Array.isArray(e.position1) && Array.isArray(e.position2) && boxIntersectsLine(box.x, box.y, box.width, box.height, e.position1[0], e.position1[1], e.position2[0], e.position2[1]))\n                .map(e => e.selected = true);\n        },\n        async onDocumentMouseUp(event) {\n            if (this.selectedSideEdge) {\n                this.selectEdge(this.selectedSideEdge, null, null, null); // Reset selectedParameter / selectedPosition, but don't change selected state.\n            }\n            if (this.state.selecting) {\n                this.multiSelect();\n                this.state.selecting = null;\n            }\n            if (this.state.moving) {\n                this.state.moving = null;\n            }\n            if (this.state.editable && this.state.linkFrom) {\n                if (event.which == 1 && this.state.linkTo) {\n                    try {\n                        await this.addEdge(this.state.linkFrom, this.state.linkTo);\n                    } catch (error) {\n                        this.$emit(\"error\", error);\n                    }\n                }\n                this.unlink();\n            }\n        },\n        onKeyDown(event) {\n            var allInputs = document.querySelectorAll('input, textarea, button, select, datalist');\n            for(let el of allInputs) {\n                if (el === document.activeElement) {\n                    return;\n                }\n            }\n\n            // \"del\" will delete a selected link or block\n            if (this.state.editable && event.keyCode == 46) {\n                this.deleteSelected();\n            }\n        },\n        onMouseWheel(event) {\n            var dX = this.state.mouse[0] - this.state.center[0];\n            var dY = this.state.mouse[1] - this.state.center[1];\n            var deltaScale = Math.pow(1.1, Math.sign(event.deltaY)*-1);\n            this.moveCenter(-dX*(deltaScale-1), -dY*(deltaScale-1));\n            this.state.scale *= deltaScale;\n        },\n        onMouseMove(event) {\n            try {\n                var rect = this.getDimensions(); // This sometimes fails in web editor if the ref is not defined anymore after logout\n                var mouseX = event.pageX - rect.offsetLeft;\n                var mouseY = event.pageY - rect.offsetTop;\n                this.state.mouse = [mouseX, mouseY];\n\n                if (this.state.editable && this.selectedSideEdge) {\n                    var origin = this.selectedSideEdge.selectedPosition;\n                    var distance = Math.sqrt(Math.pow(mouseX-origin[0], 2)+Math.pow(mouseY-origin[1], 2));\n                    if (distance > 10) {\n                        this.link(this.selectedSideEdge.selectedParameter);\n                        this.removeEdge(this.selectedSideEdge);\n                        this.commit();\n                    }\n                }\n\n                if (this.state.moving) {\n                    this.moveCenter((mouseX-this.state.moving[0]), (mouseY-this.state.moving[1]));\n                    this.state.moving = this.state.mouse;\n                }\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        onMouseDown(event) {\n            let sideSelected = null;\n\n            if (event.which == 1 && event.shiftKey) {\n                this.state.selecting = this.state.mouse;\n            }\n            else if (event.which == 1) {\n                this.unselectAll(event);\n\n                for (var k in this.$refs.edges) {\n                    var edge = this.$refs.edges[k];\n                    var collide = edge.collide(this.state.mouse[0], this.state.mouse[1]);\n                    if (collide != false) {\n                        if (this.selectedEdges.length === 0) {\n                            if (collide < 0.3) {\n                                sideSelected = edge.parameter2;\n                            }\n                            else if (collide > 0.7) {\n                                sideSelected = edge.parameter1;\n                            }\n                        }\n                        this.selectEdge(k, true, event, sideSelected);\n                        event.preventDefault();\n                        break;\n                    }\n                }\n            }\n\n            if (event.which == 2 || (event.which == 1 && !sideSelected && !event.shiftKey)) {\n                this.state.moving = this.state.mouse;\n            }\n\n            this.focus();\n        },\n\n        getDimensions() {\n            return Utils.domBoundingBox(this.$refs.div);\n        },\n\n        async clear() {\n            return await this.startTransaction(async () => {\n                this.edges = [];\n                // Don't remove parameters injected by props (fixed callback parameters)\n                this.blocks = this.blocks.filter(b => b.type === 'parameter' && Utils.isObject(b.spec) && b.spec.origin === 'prop');\n                this.nextBlockId = 1;\n                this.nextEdgeId = 1;\n                this.process = {};\n                return true;\n            });\n        },\n\n        commit(data = null, history = true, propagate = true) {\n            // Don't commit when in a transaction\n            if (this.activeTransactions > 0) {\n                return;\n            }\n\n            if (history !== false) {\n                this.saveHistory();\n            }\n            if (propagate !== false) {\n                this.$emit('input', data === null ? this.export() : data);\n            }\n        },\n    \n        /**\n         * Save the current situation to the history\n         */\n        saveHistory() {\n            var data = this.export(true);\n            this.history.splice(this.historyPointer + 1, this.historySize, data);\n            if (this.history.length > this.historySize) {\n                this.history.shift();\n            }\n            this.historyPointer = this.history.length - 1;\n            this.$emit('historyChanged', this.history, this.historyPointer);\n        },\n        async undo() {\n            await this.historyStep(-1);\n        },\n        async redo() {\n            await this.historyStep(1);\n        },\n        async historyStep(step) {\n            var index = this.historyPointer + step;\n            var element = this.history[index];\n            if (element) {\n                this.historyPointer = index;\n                this.import(element, { saveHistory: false, undoOnError: false, perfectScale: false });\n                this.$emit('historyChanged', this.history, this.historyPointer);\n            }\n        },\n\n        setResultNode(block, result = true) {\n            block = this.getBlockById(block.id);\n            if (!block || block.value.result === result) {\n                return; // Nothing to change\n            }\n\n            var setResult = (obj, val) => {\n                this.$set(obj.value, 'result', val);\n                this.commit();\n            }\n\n            setResult(block, result);\n            var foundNewResultNode = false;\n            var hasOtherBlocks = false;\n            for(var other of this.processBlocks) {\n                if (block && other.id === block.id) {\n                    continue;\n                }\n                \n                hasOtherBlocks = true;\n                // If we set a new result node, ensure that only that node is a result node and no other.\n                if (result) {\n                    setResult(other, false);\n                }\n                // Find a potential result node if we don't want this to be the result node\n                else {\n                    if (other.$el && !other.$el.hasOutputEdges()) {\n                        setResult(other, true);\n                        foundNewResultNode = true;\n                        break;\n                    }\n                }\n            }\n            // If we have no new potential result node, communicate to the user.\n            if (hasOtherBlocks && !result && !foundNewResultNode) {\n                this.$emit(\"error\", \"No result node available, please specify one.\");\n            }\n        },\n\n        getPositionForPageXY(x, y) {\n            var rect = this.getDimensions();\n            if (x !== null) {\n                x = (x - rect.offsetLeft - this.state.center[0]) / this.state.scale;\n            }\n            if (y !== null) {\n                y = (y - rect.offsetTop - this.state.center[1]) / this.state.scale;\n            }\n            return [x, y];\n        },\n\n        addProcess(name, args = {}, position = [], node = {}) {\n            return this.addBlock(Object.assign({\n                process_id: name,\n                arguments: args,\n                position\n            }, node));\n        },\n\n        addBlock(node, id = null) {\n            var block = {\n                id: String(this.incrementId(id)),\n                type: 'process',\n                selected: false,\n                value: typeof node.toJSON === 'function' ? node.toJSON() : node\n            };\n            if (this.processRegistry) {\n                block.spec = this.processRegistry.get(node.process_id);\n            }\n\n            var size = this.getBlockSize(block);\n            block.value.position = Utils.ensurePoint(block.value.position, () => this.getNewBlockDefaultPosition(size));\n\n            // If there's already a result node, remove the flag here\n            if (block.value.result && this.blocks.filter(b => b.value.result === true).length) {\n                delete block.value.result;\n            }\n            // Make this the result node if there's no node yet\n            else if (this.processBlocks.length === 0) {\n                block.value.result = true;\n            }\n            \n            this.blocks.push(Vue.observable(block));\n            this.commit();\n            return block;\n        },\n\n        getNewBlockDefaultPosition(blockSize) {\n            var rect = this.getDimensions();\n            var position = [\n                (-this.state.center[0] + rect.width/2)/this.state.scale - blockSize[0]/2 + this.newBlockOffset,\n                (-this.state.center[1] + rect.height/2)/this.state.scale - blockSize[1]/2 + this.newBlockOffset\n            ];\n            if (this.newBlockOffset < 150) {\n                this.newBlockOffset += 10;\n            }\n            return position;\n        },\n\n        getBlockSize(block) {\n            if (block.$el) {\n                let dim = block.$el.getDimensions();\n                return [dim.width / this.state.scale, dim.height / this.state.scale];\n            }\n\n            // ToDo: Doesn't recognize that collections has one parameter less\n            var inputs = Math.max(\n                Utils.isObject(block.value) ? Utils.size(block.value.arguments) : 0,\n                Utils.isObject(block.spec) ? Utils.size(block.spec.parameters) : 0\n            );\n\n            var width;\n            if (inputs > 0) {\n                width = this.state.compactMode ? 110 : 220;\n            }\n            else {\n                width = this.state.compactMode ? 60 : 110;\n            }\n\n            var commentHeight = (Utils.isObject(block.value) && typeof block.value.description === 'string') ? 40 : 0;\n            var height = MARGIN + inputs * 15 + commentHeight;\n\n            return [width, height];\n        },\n\n        moveCenter(dX, dY, reset = false) {\n            var rect = this.getDimensions();\n            this.state.center = [\n                (reset ? rect.width/2 : this.state.center[0]) + dX,\n                (reset ? rect.height/2 : this.state.center[1]) + dY\n            ];\n            this.newBlockOffset = 0;\n        },\n\n        unselectAll(event = null) {\n            if (event && event.shiftKey) {\n                return; // Allow multi select\n            }\n            for(var i in this.blocks) {\n                this.$set(this.blocks[i], \"selected\", false);\n            }\n            for(var i in this.edges) {\n                this.selectEdge(i, false);\n            }\n        },\n\n        selectEdge(edge, select = true, event = null, parameter = null) {\n            if (event) {\n                this.unselectAll(event);\n            }\n            if (!Utils.isObject(edge)) {\n                edge = this.edges[edge];\n            }\n            if (select !== null) {\n                this.$set(edge, \"selected\", select);\n            }\n            this.$set(edge, \"selectedParameter\", parameter);\n            this.$set(edge, \"selectedPosition\", parameter ? this.state.mouse : null);\n        },\n\n        /**\n         * Edge to remove\n         */\n        removeEdge(edge) {\n            edge.parameter1.eraseEdge(edge);\n            edge.parameter2.eraseEdge(edge);\n            this.$delete(this.edges, this.edges.indexOf(edge));\n        },\n\n        hiddenParameterRefs(block, parameterName) {\n            if (block.type !== 'process') {\n                return null;\n            }\n            for (let param in block.value.arguments) {\n                let value = block.value.arguments[param];\n                if (Utils.isObject(value) && Utils.isObject(value.process_graph)) {\n                    let refs = PgUtils.getRefs(value, true, true);\n                    if (refs.find(r => r.from_parameter === parameterName)) {\n                        return param;\n                    }\n                }\n            }\n            return null;\n        },\n            \n        /**\n         * Remove a block\n         */\n        async removeBlock(block) {\n            // Check if the parameter for this block is used in child processes (callbacks).\n            // Then don't delete, but give error instead.\n            if (block.type === 'parameter') {\n                let param = null;\n                let conflictBlock = this.blocks.find(sub => {\n                    param = this.hiddenParameterRefs(sub, block.id);\n                    return (param !== null);\n                });\n                if (conflictBlock) {\n                    throw new Error(`Parameter is still used in '#${conflictBlock.id}', parameter '${param}'. Only unused parameters can be deleted.`);\n                }\n            }\n\n            // now start deleting the block\n            return await this.startTransaction(async () => {\n                var i = this.blocks.findIndex(b => b.id == block.id);\n                if (i < 0) {\n                    return false;\n                }\n\n                for (var edge of this.edges.slice(0)) {\n                    if (edge.parameter1.$parent.id === block.id || edge.parameter2.$parent.id === block.id) {\n                        this.removeEdge(edge);\n                    }\n                }\n\n                if (block.value.result) {\n                    this.setResultNode(block, false);\n                }\n\n                this.$delete(this.blocks, i);\n                return true;\n            });\n        },\n\n        /**\n         * Retreive a block by ID\n         */\n        getBlockById(blockId) {\n            var blocks = this.blocks.filter(block => block.id === blockId);\n            if (blocks.length > 0) {\n                return blocks[0];\n            }\n            return null;\n        },\n\n        /**\n         * Delete the current link\n         */\n        async deleteSelected() {\n            if (this.selectedBlocks.length === 0 && this.selectedEdges.length === 0) {\n                return false;\n            }\n\n            return await this.startTransaction(async () => {\n                // Remove the selected blocks and its edges\n                for(var block of this.selectedBlocks.slice(0)) { // copy to avoid race condition\n                    if (block.$el.allowsDelete) {\n                        this.removeBlock(block);\n                    }\n                }\n\n                // Removes the selected edges\n                for(var edge of this.selectedEdges.slice(0)) { // copy to avoid race condition\n                    this.removeEdge(edge);\n                }\n                return true;\n            });\n        },\n\n        async addEdgeByNames(b1, p1, b2, p2) {\n            var blocks = [];\n            for(var id of [b1, b2]) {\n                var block = this.getBlockById(id);\n                if (!block) {\n                    throw \"Can't find block: \" + id;\n                }\n                else if (!block.$el) {\n                    throw \"Block not mounted yet: \" + id;\n                }\n                blocks.push(block.$el);\n            }\n            await this.addEdge(\n                blocks[0].getBlockParameter(p1),\n                blocks[1].getBlockParameter(p2)\n            );\n        },\n \n        async addEdge(p1, p2) {\n            if (!p1 || !p2) {\n                throw 'One of the parameters is invalid.';\n            }\n            // Check whether you want to connect the same parameters\n            if (p1 == p2) {\n                return; // Probably by mistake, don't show an error to not annoy people\n            }\n            // Check whether you want to connect the block to itself\n            if (p1.$parent == p2.$parent) {\n                throw 'You can\\'t link a block to itself';\n            }\n\n            var id = this.nextEdgeId++;\n            var edge = {id, selected: false, inactive: false};\n            if (p1.output) {\n                edge.parameter1 = p1;\n                edge.parameter2 = p2;\n            }\n            else {\n                // Reverse the order of in and out\n                edge.parameter1 = p2;\n                edge.parameter2 = p1;\n            }\n\n            // You have to link an input with an output\n            if (!edge.parameter1.output) {\n                throw 'You have to link an input with an output';\n            }\n            // Check for non-recursiveness\n            if (this.allSuccessors(edge.parameter1).indexOf(edge.parameter2.id) !== -1) {\n                throw 'You can not create a loop';\n            }\n            // Check type compatibility\n            if (!JsonSchemaValidator.isSchemaCompatible(edge.parameter2.schema || {}, edge.parameter1.schema || {}, false, true)) {\n                throw 'Incoming data type is not compatible for parameter \"' + edge.parameter2.name + '\"';\n            }\n            // Check whether the data type allows multiple input edges\n            if (edge.parameter2.getEdgeCount() > 0 && !edge.parameter2.allowsMultipleInputs) {\n                throw 'Parameter accepts only one input';\n            }\n\n            // Check whether the edge exists\n            for (var k in this.$refs.edges) {\n                if (this.$refs.edges[k].equals(edge)) {\n                    throw 'This connection exists already';\n                }\n            }\n\n            return await this.startTransaction(async () => {\n                this.unlink();\n\n                // Create edge\n                this.edges.push(Vue.observable(edge));\n                edge.parameter1.addEdge(edge);\n                edge.parameter2.addEdge(edge);\n\n                // Update result node\n                this.setResultNode(edge.parameter1.$parent, false);\n                return true;\n            });\n        },\n\n        /**\n         * Find all successors of a block, and their successors\n         */\n        allSuccessors(outputParameter) {\n            var block = outputParameter.$parent;\n            // Blocks already explored\n            var explored = {};\n            var exploreList = [block];\n            explored[block.id] = true;\n        \n            while (exploreList.length > 0) {\n                var currentBlock = exploreList.pop();\n                for (var key in currentBlock.edges) {\n                    for (var i in currentBlock.edges[key]) {\n                        var edge = currentBlock.edges[key][i];\n                        if (edge.block1 == currentBlock) {\n                            var target = edge.block2;\n                            if (!(target.id in explored)) {\n                                explored[target.id] = true;\n                                exploreList.push(target);\n                            }\n                        }\n                    }\n                }\n            }\n\n            return Object.values(explored);\n        },\n\n        /**\n         * Changing the compact mode\n         */\n        async toggleCompact() {\n            this.state.compactMode = !this.state.compactMode;\n            this.$emit('compactMode', this.state.compactMode);\n            await this.$nextTick();\n            this.refreshEdges();\n        },\n\n        export(internal = false) {\n            var nodes = {};\n            for(var block of this.processBlocks) {\n                let copy = Utils.deepClone(block.value);\n                if (!internal) {\n                    // Delete internal state for external export \n                    delete copy.position;\n                }\n                // Remove default values for simplicity\n                if (copy.description === null) {\n                    delete copy.description;\n                }\n                if (copy.result !== true) {\n                    delete copy.result;\n                }\n                nodes[block.id] = copy;\n            }\n\n            // ToDo: Currently, we just use the id, parameters etc from the original process\n            return new BlocksProcess(Object.assign({}, this.process, { process_graph: nodes }));\n        },\n\n        // Options may contain:\n        // - undoOnError: don't undo changes when an error occured (default: true)\n        // - saveHistory: commit the changes to the history (default: true)\n        // - propagate: emit the changes to the parent v-model (default: true)\n        async startTransaction(fn, options = {}, ...args) {\n            let success;\n            this.activeTransactions++;\n\n            try {\n                success = await fn(args);\n            } catch (error) {\n                // If an error occured: show it and restore the last working state from history.\n                this.$emit('error', error, \"Model is invalid\");\n                console.log(error);\n                if (options.undoOnError !== false) {\n                    try {\n                        await this.undo();\n                    } catch (error2) {\n                        this.$emit('error', error, \"Revert failed\");\n                        console.log(error);\n                    }\n                }\n                success = false;\n            }\n\n            this.activeTransactions--;\n            this.commit(null, options.saveHistory, options.propagate);\n\n            return success;\n        },\n\n        // Options may contain:\n        // - all from startTransaction()\n        // - clear: Clear the model builder before import (default: true)\n        // - perfectScale: Apply perfect scale after import (default: true)\n        async import(process, options = {}) {\n            return await this.startTransaction(async () => {\n                // clear screen...\n                if (options.clear !== false) {\n                    await this.clear();\n                    this.process = process instanceof ProcessGraph ? process.toJSON() : process;\n                }\n\n                if (!Utils.isObject(process)) {\n                    return false;\n                }\n\n                // Parse process \n                // ToDO: Earlier this was always a ProcessGraph Object, but that seems no longer to be the case. How to clean-up?\n                if (process instanceof ProcessGraph) {\n                    // Make a copy\n                    this.processGraph = new ProcessGraph(process.toJSON(), this.processRegistry);\n                    this.processGraph.setParent(process.parentProcessId, process.parentParameterName);\n                }\n                else {\n                    this.processGraph = new ProcessGraph(process, this.processRegistry);\n                }\n                this.processGraph.allowEmpty();\n                this.processGraph.parse();\n\n                await this.importPgParameters(this.processGraph.getProcessParameters(), 'pg', options.clear !== false);\n                await this.importNodes(this.processGraph.getStartNodes());\n                await this.importEdges(this.processGraph);\n\n                if (options.perfectScale !== false) {\n                    this.perfectScale();\n                }\n\n                return true;\n            }, options);\n        },\n\n        async importPgParameters(params, origin, clear = true) {\n            if (!Array.isArray(params)) {\n                return;\n            }\n\n            // Remove existing parameters from the given origin\n            if (clear) {\n                this.blocks = this.blocks.filter(b => b.type !== 'parameter' || b.spec.origin !== origin);\n            }\n\n            let size = this.getBlockSize({}); // Estimate base size for an empty block\n            let position = [0,0];\n            for(var i in params) {\n                position = [\n                    -size[0] - MARGIN,\n                    i * (size[1] + MARGIN)\n                ];\n\n                this.addPgParameter(params[i], origin, position);\n            }\n            await this.$nextTick();\n        },\n\n        addPgParameter(param, origin = 'user', position = null) {\n            // Check a parameter with the same name exists\n            if (this.blocks.findIndex(p => p.type === 'parameter' && p.id == param.name) >= 0) {\n                return;\n            }\n            param = Utils.deepClone(param);\n            if (typeof param.schema === 'undefined') {\n                param.schema = {};\n            }\n            param.origin = origin;\n            this.blocks.push(Vue.observable({\n                id: param.name,\n                type: 'parameter',\n                value: {\n                    from_parameter: param.name,\n                    position: Utils.ensurePoint(position, () => this.getNewBlockDefaultPosition(this.getBlockSize({})))\n                },\n                spec: param\n            }));\n        },\n\n        getPgParameters() {\n            return this.blocks.filter(b => b.type === 'parameter');\n        },\n\n        async importEdges(pg) {\n            var nodes = pg.getNodes();\n            for(var node of Object.values(nodes)) {\n                var args = node.getArgumentNames();\n                for(let i in args) {\n                    var val = node.getRawArgument(args[i]);\n                    switch(node.getArgumentType(args[i])) {\n                        case 'result':\n                            await this.addEdgeByNames(pg.getNode(val.from_node).id, \"output\", node.id, args[i], false);\n                            break;\n                        case 'parameter':\n                            await this.addEdgeByNames(val.from_parameter, \"output\", node.id, args[i], false);\n                            break;\n                        case 'object':\n                        case 'array':\n                            await this.importEdgeDeep(val, pg, node, args, i);\n                            break;\n                    }\n                }\n            }\n        },\n\n        async importEdgeDeep(val, pg, node, args, i) {\n            for(let k in val) {\n                // k !== 'process_graph' prevents importing sub process graphs like in load_collection, see #118\n                if(val[k] && typeof val[k] === \"object\" && k !== 'process_graph') {\n                    await this.importEdgeDeep(val[k], pg, node, args, i);\n                }\n                else if (!Utils.isRef(val)) {\n                    continue;\n                }\n                else if (val.from_node) {\n                    await this.addEdgeByNames(pg.getNode(val.from_node).id, \"output\", node.id, args[i], false);\n                }\n                else if (val.from_parameter) {\n                    await this.addEdgeByNames(val.from_parameter, \"output\", node.id, args[i], false);\n                }\n            }\n        },\n\n        async importNodes(nodes, x = 0, y = 0, imported = []) {\n            let isInitialCall = imported.length === 0;\n            let nextNodes = [];\n            let maxX = 0;\n            for(let node of nodes) {\n                // `node` is a Node class instance as defined by the js-processgraphs library\n                // `data` is the simple object that is defined by JSON process graphs\n                // `block` is the representation used by the Block component to render the block\n\n                // To get a better layout, only add the block once all previous nodes are added\n                if (imported.includes(node.id) || node.getPreviousNodes().find(prev => !imported.includes(prev.id)) !== undefined) {\n                    y += MARGIN / 2; // add a small offset so that lines going through a box are easier to see\n                    continue;\n                }\n\n                let data = typeof node.toJSON === 'function' ? node.toJSON() : node;\n                data.position = Utils.ensurePoint(data.position, () => [x,y]);\n\n                let block = this.addBlock(data, node.id);\n                imported.push(node.id);\n\n                let size = this.getBlockSize(block);\n                maxX = Math.max(maxX, data.position[0] + size[0]);\n                y = data.position[1] + size[1] + MARGIN;\n\n                nextNodes = nextNodes.concat(node.getNextNodes());\n            }\n            if (nextNodes.length) {\n                await this.importNodes(nextNodes, maxX + MARGIN, 0, imported);\n            }\n            // Wait for all nodes being rendered\n            if (isInitialCall) {\n                await this.$nextTick();\n            }\n        },\n\n        incrementId(id = null) {\n            if (typeof id !== 'number' && (typeof id !== 'string' || id.length === 0)) {\n                id = this.nextBlockId;\n                this.nextBlockId++;\n            }\n            let int = Number.parseInt(id);\n            if (!Number.isNaN(int)) {\n                this.nextBlockId = Math.max(this.nextBlockId, int+1);\n            }\n            return id;\n        },\n\n        /**\n         * Go to the perfect scale\n         */\n        perfectScale() {\n            if (!this.$refs.div || this.blocks.length === 0) {\n                return;\n            }\n\n            var xMin = null, xMax = null;\n            var yMin = null, yMax = null;\n\n            for (let k in this.blocks) {\n                let block = this.blocks[k];\n                let size = this.getBlockSize(block);\n                let pos = Utils.ensurePoint(block.value.position);\n                if (xMin == null) {\n                    xMin = pos[0]-15\n                    xMax = pos[0]+size[0]+15;\n                    yMin = pos[1]-15\n                    yMax = pos[1]+size[1]+15;\n                } else {\n                    xMin = Math.min(xMin, pos[0]-15);\n                    xMax = Math.max(xMax, pos[0]+size[0]+15);\n                    yMin = Math.min(yMin, pos[1]-15);\n                    yMax = Math.max(yMax, pos[1]+size[1]+15);\n                }\n            }\n\n            var rect = this.$refs.div.getBoundingClientRect();\n            var scaleA = rect.width/(xMax-xMin);\n            var scaleB = rect.height/(yMax-yMin);\n            this.state.scale = Math.min(scaleA, scaleB, 1.5); // Don't scale higher than 1.5\n            this.state.center = [\n                rect.width/2 - this.state.scale*(xMin+xMax)/2.0,\n                rect.height/2 - this.state.scale*(yMin+yMax)/2.0\n            ];\n            this.newBlockOffset = 0;\n        }\n    }\n};\n\nclass BlocksProcess {\n    constructor(process) {\n        Object.assign(this, process);\n    }\n}\n</script>\n\n<style scoped>\n.canvas {\n    width: 100%;\n    height: 100%;\n}\n.blocks {\n    box-sizing: border-box;\n    border: 1px solid transparent;\n}\n.focus .blocks {\n    border-color: rgba(22, 102, 182, 0.3);\n}\n.blocks_js_editor:focus, .blocks:focus, .canvas:focus {\n    outline: 0;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blocks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blocks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Blocks.vue?vue&type=template&id=08c86812&scoped=true&\"\nimport script from \"./Blocks.vue?vue&type=script&lang=js&\"\nexport * from \"./Blocks.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Blocks.vue?vue&type=style&index=0&id=08c86812&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08c86812\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"visualEditor\" ref=\"visualEditor\">\n\t\t<div class=\"sourceHeader\">\n\t\t\t<h3 v-if=\"title\">{{ title }}</h3>\n\t\t\t<div class=\"sourceToolbar\">\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"confirmClear\" title=\"New script / Clear current script\"><i class=\"fas fa-file\"></i></button>\n\t\t\t\t\t<slot name=\"file-toolbar\"></slot>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.undo()\" :disabled=\"!canUndo\" title=\"Revert last change\"><i class=\"fas fa-undo-alt\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.redo()\" :disabled=\"!canRedo\" title=\"Redo last reverted change\"><i class=\"fas fa-redo-alt\"></i></button>\n\t\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.deleteSelected()\" :disabled=\"!hasSelection\" title=\"Delete selected elements\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"sepr\" v-if=\"editable\">\n\t\t\t\t\t<button type=\"button\" @click=\"addParameter\" title=\"Add Parameter\"><i class=\"fas fa-parking\"></i></button>\n\t\t\t\t\t<button type=\"button\" v-if=\"supportsMath\" :class=\"{highlightFormula: isMath}\" @click=\"showExpressionModal\" title=\"Insert/Edit formula\"><i class=\"fas fa-square-root-alt\"></i></button>\n\t\t\t\t</span>\n\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.toggleCompact()\" :class=\"{compactMode: compactMode}\" title=\"Compact Mode\"><i class=\"fas fa-compress-arrows-alt\"></i></button>\n\t\t\t\t<button type=\"button\" @click=\"$refs.blocks.perfectScale()\" title=\"Scale to perfect size\"><i class=\"fas fa-arrows-alt\"></i></button>\n\t\t\t\t<FullscreenButton :element=\"() => this.$refs.visualEditor\" @changed=\"enabled => {this.$refs.blocks.perfectScale(); isFullScreen = enabled}\" />\n\t\t\t\t<slot name=\"toolbar\"></slot>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"editorSplitter\">\n\t\t\t<DiscoveryToolbar v-if=\"(showDiscoveryToolbar || isFullScreen) && editable\" class=\"discoveryToolbar\" :onAddProcess=\"insertProcess\" />\n\t\t\t<div class=\"graphBuilder\" @drop=\"onDrop($event)\" @dragover=\"allowDrop($event)\">\n\t\t\t\t<Blocks\n\t\t\t\t\tref=\"blocks\"\n\t\t\t\t\t:editable=\"editable\"\n\t\t\t\t\t:id=\"id\"\n\t\t\t\t\t:processes=\"processRegistry\"\n\t\t\t\t\t:collections=\"collections\"\n\t\t\t\t\t:pgParameters=\"pgParameters\"\n\t\t\t\t\t:value=\"value\"\n\t\t\t\t\t@input=\"commit\"\n\t\t\t\t\t@error=\"errorHandler\"\n\t\t\t\t\t@showProcess=\"id => emit('showProcess', id)\"\n\t\t\t\t\t@showCollection=\"id => emit('showCollection', id)\"\n\t\t\t\t\t@showSchema=\"showSchemaModal\"\n\t\t\t\t\t@editParameters=\"openParameterEditor\"\n\t\t\t\t\t@compactMode=\"compact => this.compactMode = compact\"\n\t\t\t\t\t@selectionChanged=\"selectionChanged\"\n\t\t\t\t\t@historyChanged=\"historyChanged\"\n\t\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t\t<ParameterModal ref=\"parameterModal\" />\n\t\t<ExpressionModal v-if=\"editable && supportsMath\" ref=\"expressionModal\" @save=\"insertNodes\" />\n\t</div>\n</template>\n\n<script>\nimport Blocks from './blocks/Blocks.vue';\nimport Utils from '../utils.js';\nimport DiscoveryToolbar from './DiscoveryToolbar.vue';\nimport ParameterModal from './modals/ParameterModal.vue'; // Add a paremeter modal to each visual editor, otherwise we can't open a parameter modal over a parameter modal (e.g. edit the parameters of a callback)\nimport EventBusMixin from './EventBusMixin.vue';\nimport FullscreenButton from './FullscreenButton.vue';\n\nexport default {\n\tname: 'VisualEditor',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tBlocks,\n\t\tDiscoveryToolbar,\n\t\tParameterModal,\n\t\tFullscreenButton,\n\t\t// Async loading for smaller starting bundle\n\t\tExpressionModal: () => import('./modals/ExpressionModal.vue')\n\t},\n\tprops: {\n\t\tid: String,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => null\n\t\t},\n\t\tpgParameters: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t},\n\t\tshowDiscoveryToolbar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String\n\t\t},\n\t\tdefaultValue: {}\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['collections']),\n\t\t...Utils.mapGetters(['processRegistry']),\n\t\t...Utils.mapGetters('userProcesses', ['supportsMath', 'isMathProcess'])\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanUndo: false,\n\t\t\tcanRedo: false,\n\t\t\tcompactMode: false,\n\t\t\thasSelection: false,\n\t\t\tisMath: false,\n\t\t\tisFullScreen: false\n\t\t};\n\t},\n\twatch: {\n\t\tvalue(value) {\n\t\t\tthis.isMath = this.isMathProcess(value);\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions('userProcesses', {readUserProcess: 'read'}),\n\n\t\tcommit(value) {\n\t\t\t// Fix #115: Return the default value/null if no nodes are given\n\t\t\tif (typeof this.defaultValue !== 'undefined' && Utils.isObject(value) && Utils.size(value.process_graph) === 0) {\n\t\t\t\tvalue = this.defaultValue;\n\t\t\t}\n\t\t\tthis.$emit('input', value);\n\t\t},\n\n\t\terrorHandler(message, title = null) {\n\t\t\tUtils.exception(this, message, title)\n\t\t},\n\n\t\tselectionChanged(blocks, edges) {\n\t\t\tthis.hasSelection = Boolean(blocks.filter(block => block.$el.allowsDelete).length || edges.length);\n\t\t},\n\n\t\thistoryChanged(history, index) {\n\t\t\tthis.canUndo = !!history[index-1];\n\t\t\tthis.canRedo = !!history[index+1];\n\t\t},\n\n\t\tallowDrop(ev) {\n\t\t\tev.preventDefault();\n\t\t},\n\n\t\tonDrop(event) {\n\t\t\tvar json = event.dataTransfer.getData(\"application/openeo-node\");\n\t\t\tif (json) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlet node = JSON.parse(json);\n\t\t\t\tthis.insertProcess(node, event.pageX, event.pageY);\n\t\t\t}\n\t\t},\n\n\t\taddParameter() {\n\t\t\tvar fields = [\n\t\t\t\t{\n\t\t\t\t\tname: 'name',\n\t\t\t\t\tlabel: 'Parameter name',\n\t\t\t\t\tschema: {type: 'string'},\n\t\t\t\t\tdefault: null\n\t\t\t\t}\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Add Parameter\", fields, data => {\n\t\t\t\tif (typeof data.name === 'string' && data.name.length > 0) {\n\t\t\t\t\tthis.$refs.blocks.addPgParameter(data);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tshowSchemaModal(name, schema) {\n\t\t\tthis.emit('showSchema', name, schema);\n\t\t},\n\t\tshowExpressionModal() {\n\t\t\tthis.$refs.expressionModal.show(this.value, this.$refs.blocks.getPgParameters());\n\t\t},\n\t\topenParameterEditor(parameters, values, title = \"Edit\", isEditable = true, selectParameterName = null, saveCallback = null, processId = null, parent = null) {\n\t\t\tthis.$refs.parameterModal.show(title, parameters, values, isEditable, saveCallback, null, processId, selectParameterName, parent);\n\t\t},\n\n\t\tconfirmClear() {\n\t\t\tvar confirmed = confirm(\"Do you really want to clear the existing model?\");\n\t\t\tif (confirmed) {\n\t\t\t\tthis.clear();\n\t\t\t}\n\t\t},\n\t\tclear() {\n\t\t\tif (this.$refs.blocks) {\n\t\t\t\tthis.$refs.blocks.clear();\n\t\t\t}\n\t\t\tthis.commit(null);\n\t\t},\n\n\t\tinsertProcess(node, x = null, y = null) {\n\t\t\ttry {\n\t\t\t\tvar pos = this.$refs.blocks.getPositionForPageXY(x, y);\n\t\t\t\tthis.$refs.blocks.addProcess(node.process_id, node.arguments, pos);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\n\t\tasync insertNodes(nodes, replace = false) {\n\t\t\treturn await this.$refs.blocks.import({\n\t\t\t\tprocess_graph: nodes\n\t\t\t}, {\n\t\t\t\tclear: replace\n\t\t\t});\n\t\t}\n\n\t}\n}\n</script>\n\n<style>\n.visualEditor {\n\tbackground-color: white;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.visualEditor .editorSplitter {\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\tflex-grow: 1;\n\theight: 100%;\n\toverflow: hidden;\n}\n\n.visualEditor .discoveryToolbar {\n\twidth: 25%;\n\tmin-width: 150px;\n\tborder-left: 1px solid #ddd;\n}\n.visualEditor.fullscreen .discoveryToolbar {\n\twidth: 15%;\n\tmin-width: 250px;\n}\n\n.graphBuilder {\n\theight: 100%;\n\tflex-grow: 1;\n}\n\n.visualEditor.fullscreen {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.visualEditor.fullscreen .editorSplitter {\n\theight: 100%;\n}\n\n.compactMode {\n\tcolor: green;\n}\n\n.blocks_js_editor {\n\twidth: 100%;\n\theight: 100%;\n\tposition: relative;\n}\n\n.blocks_js_editor .blocks {\n\toverflow: hidden;\n}\n\n.blocks_js_editor .canvas {\n\tposition: absolute;\n\tz-index: 1;\n}\n\n.blocks_js_editor .blocks {\n\toverflow: hidden;\n\tposition: absolute;\n\tz-index: 3;\n\twidth: 100%;\n\theight: 100%;\n}\n\n@keyframes glowing {\n  0% {\n    box-shadow: 0 0 3px green;\n  }\n  50% {\n    box-shadow: 0 0 10px green;\n  }\n  100% {\n    box-shadow: 0 0 3px green;\n  }\n}\n\n.highlightFormula {\n    animation: glowing 1500ms infinite;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VisualEditor.vue?vue&type=template&id=4a5a2c48&\"\nimport script from \"./VisualEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./VisualEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VisualEditor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<Tabs class=\"editor\" ref=\"tabs\" id=\"customProcessContent\" position=\"bottom\">\n\t\t<Tab id=\"visual\" name=\"Visual Model\" icon=\"fa-project-diagram\" :selected=\"true\" :allowShow=\"canSwitchView\" @show=\"showModel\">\n\t\t\t<VisualEditor class=\"visualEditorTab\" ref=\"graphBuilder\" :editable=\"editable\" :pgParameters=\"pgParameters\" :value=\"modelValue\" @input=\"commit\" @error=\"onError\" :title=\"title\" :id=\"id + '_visual'\" :showDiscoveryToolbar=\"showDiscoveryToolbar\" :defaultValue=\"defaultValue\">\n\t\t\t\t<template #file-toolbar><slot name=\"file-toolbar\"></slot></template>\n\t\t\t\t<template #toolbar><slot name=\"toolbar\"></slot></template>\n\t\t\t</VisualEditor>\n\t\t</Tab>\n\t\t<Tab id=\"source\" name=\"Code\" icon=\"fa-code\" :allowShow=\"canSwitchView\" @show=\"showCode\">\n\t\t\t<TextEditor class=\"textEditorTab\" ref=\"sourceEditor\" :editable=\"editable\" :value=\"codeValue\" @input=\"commit\" @error=\"onError\" :title=\"title\" :id=\"id + '_text'\" language=\"processgraph\">\n\t\t\t\t<template #file-toolbar><slot name=\"file-toolbar\"></slot></template>\n\t\t\t\t<template #toolbar><slot name=\"toolbar\"></slot></template>\n\t\t\t</TextEditor>\n\t\t</Tab>\n\t</Tabs>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport Tabs from '@openeo/vue-components/components/Tabs.vue';\nimport Tab from '@openeo/vue-components/components/Tab.vue';\nimport VisualEditor from './VisualEditor.vue';\nimport TextEditor from './TextEditor.vue';\n\nexport default {\n\tname: 'Editor',\n\tcomponents: {\n\t\tVisualEditor,\n\t\tTextEditor,\n\t\tTabs,\n\t\tTab\n\t},\n\tprops: {\n\t\tid: String,\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => null\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String\n\t\t},\n\t\tpgParameters: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t},\n\t\tshowDiscoveryToolbar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tdefaultValue: {}\n\t},\n\twatch: {\n\t\tvalue() {\n\t\t\tthis.updateTab();\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmodelValue: null,\n\t\t\tcodeValue: null,\n\t\t\terror: null\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.updateTab();\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters('userProcesses', {getProcessById: 'getAllById'})\n\t},\n\tmethods: {\n\t\tshowModel() {\n\t\t\tthis.error = null;\n\t\t\tthis.modelValue = this.value;\n\t\t},\n\t\tshowCode() {\n\t\t\tthis.error = null;\n\t\t\tthis.codeValue = this.value;\n\t\t\tthis.$refs.sourceEditor.updateState();\n\t\t},\n\t\tupdateTab() {\n\t\t\tif (this.$refs.tabs.getActiveTabId() === 'source') {\n\t\t\t\tthis.showCode();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.showModel();\n\t\t\t}\n\t\t},\n\t\tcommit(value) {\n\t\t\tthis.error = null;\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tonError(error) {\n\t\t\tthis.error = error;\n\t\t},\n\t\tactiveEditor() {\n\t\t\tif (this.$refs.tabs.getActiveTabId() === 'source') {\n\t\t\t\treturn this.$refs.sourceEditor;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.$refs.graphBuilder;\n\t\t\t}\n\t\t},\n\t\tasync insertProcess(node) {\n\t\t\ttry {\n\t\t\t\t// Fully load or update custom process\n\t\t\t\tlet process = this.getProcessById(node.process_id);\n\t\t\t\tif (process != null && !process.native) {\n\t\t\t\t\tawait this.readUserProcess({data: process});\n\t\t\t\t}\n\t\t\t\t// Add process to editor\n\t\t\t\tthis.activeEditor().insertProcess(node);\n\t\t\t} catch(error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t},\n\t\tcanSwitchView() {\n\t\t\tif (this.editable && this.error !== null) {\n\t\t\t\tUtils.exception(this, this.error, 'Process Invalid Error');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t}\n}\n</script>\n\n<style>\n.sourceHeader {\n\tpadding: 5px;\n\tborder-bottom: 1px solid #ddd;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tbackground-color: #fff;\n}\n.sourceHeader h3 {\n\tmargin: auto 0;\n\tflex-grow: 1;\n}\n.sourceToolbar {\n\ttext-align: right;\n}\n.textEditorTab.textEditor {\n\tborder: 0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=5488d9f1&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveryToolbar.vue?vue&type=style&index=1&id=3c92eebc&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockParameter.vue?vue&type=style&index=1&id=5a1fed8a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('div',{attrs:{\"id\":\"ide\"},on:{\"mouseup\":function($event){return _vm.stopMovingSeparator($event)},\"mousemove\":function($event){return _vm.moveSeparator($event)}}},[_c('header',{staticClass:\"navbar\"},[_c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"../assets/logo.png\"),\"alt\":\"openEO\"}}),_c('h2',[_vm._v(\"Web Editor \"),_c('span',{staticClass:\"version\",on:{\"click\":_vm.showWebEditorInfo}},[_vm._v(_vm._s(_vm.version))])])]),_c('ul',{attrs:{\"id\":\"menu\"}},[_c('li',[_c('div',{staticClass:\"menuItem\",attrs:{\"title\":\"Get server information\"},on:{\"click\":_vm.showServerInfo}},[_c('i',{staticClass:\"fas fa-info fa-fw\"}),_vm._v(\" Server\")])]),_c('li',[_c('UserMenu')],1)])]),_c('main',{staticClass:\"page\"},[_c('div',{ref:\"discovery\",attrs:{\"id\":\"discovery\"}},[_c('DiscoveryToolbar',{staticClass:\"toolbar\",attrs:{\"onAddProcess\":_vm.insertProcess}})],1),_c('hr',{ref:\"separator0\",staticClass:\"separator\",on:{\"dblclick\":function($event){return _vm.centerSeparator($event, 0)},\"mousedown\":function($event){return _vm.startMovingSeparator($event, 0)}}}),_c('div',{ref:\"workspace\",attrs:{\"id\":\"workspace\"}},[_c('Editor',{ref:\"editor\",staticClass:\"mainEditor\",attrs:{\"id\":\"main\",\"value\":_vm.process,\"title\":_vm.contextTitle},on:{\"input\":_vm.updateEditor},scopedSlots:_vm._u([{key:\"file-toolbar\",fn:function(){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.saveSupported),expression:\"saveSupported\"}],attrs:{\"type\":\"button\",\"title\":'Save to ' + _vm.contextTitle},on:{\"click\":_vm.saveProcess}},[_c('i',{staticClass:\"fas fa-save\"})])]},proxy:true}])}),(_vm.isAuthenticated)?_c('UserWorkspace',{staticClass:\"userContent\"}):_vm._e()],1),_c('hr',{ref:\"separator1\",staticClass:\"separator\",on:{\"dblclick\":function($event){return _vm.centerSeparator($event, 1)},\"mousedown\":function($event){return _vm.startMovingSeparator($event, 1)}}}),_c('div',{ref:\"viewer\",attrs:{\"id\":\"viewer\"}},[_c('Viewer')],1)])]),_c('CollectionModal',{ref:\"collectionModal\"}),_c('ProcessModal',{ref:\"processModal\"}),_c('ServerInfoModal',{ref:\"serverInfoModal\"}),_c('ServiceInfoModal',{ref:\"serviceModal\"}),_c('JobInfoModal',{ref:\"jobModal\"}),_c('ParameterModal',{ref:\"parameterModal\"}),_c('SchemaModal',{ref:\"schemaModal\"}),_c('UdfRuntimeModal',{ref:\"udfRuntimeModal\"}),_c('FileFormatModal',{ref:\"fileFormatModal\"}),_c('JobEstimateModal',{ref:\"jobEstimateModal\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"UserMenu\"}},[_c('div',{staticClass:\"menuItem\"},[_vm._m(0),_c('div',{staticClass:\"data\"},[_c('span',{staticClass:\"name nowrap\"},[_c('i',{staticClass:\"fas fa-user\"}),_vm._v(\" \"+_vm._s(_vm.userName))]),(_vm.budget)?_c('span',{staticClass:\"credits nowrap\"},[_c('i',{staticClass:\"fas fa-dollar-sign fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.budget))]):_vm._e(),(_vm.hasStorage)?_c('span',{staticClass:\"storage nowrap\"},[_c('i',{staticClass:\"fas fa-database fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.storageUsedPercent)+\"% used\")]):_vm._e()])]),_c('div',{staticClass:\"dropdown\"},[_c('div',{staticClass:\"item\"},[_vm._v(\" Welcome, \"+_vm._s(_vm.userName)+\"! \")]),(_vm.hasStorage)?_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"Storage\")]),_c('div',{staticClass:\"storagePercent\"},[_c('div',{staticClass:\"used\",style:('width: ' + _vm.storageUsedPercent + '%')})]),_c('div',{staticClass:\"nowrap\"},[_vm._v(\"Used \"+_vm._s(_vm.formatMegabyte(_vm.storageUsed))+\" of \"+_vm._s(_vm.formatMegabyte(_vm.userInfo.storage.quota))+\".\")])]):_vm._e(),_vm._l((_vm.links),function(link,key){return _c('div',{key:key,staticClass:\"item\"},[_c('a',{attrs:{\"href\":link.href,\"target\":\"_blank\",\"rel\":link.rel}},[_vm._v(_vm._s(link.title))])])}),_c('div',{staticClass:\"item\"},[_c('button',{staticClass:\"navButton\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.logout.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-sign-out-alt\"}),_vm._v(\" Logout\")])])],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"down\"},[_c('i',{staticClass:\"fas fa-chevron-down\"})])}]\n\nexport { render, staticRenderFns }","<template>\n\t<div id=\"UserMenu\">\n\t\t<div class=\"menuItem\">\n\t\t\t<div class=\"down\">\n\t\t\t\t<i class=\"fas fa-chevron-down\"></i>\n\t\t\t</div>\n\t\t\t<div class=\"data\">\n\t\t\t\t<span class=\"name nowrap\"><i class=\"fas fa-user\"></i> {{ userName }}</span>\n\t\t\t\t<span v-if=\"budget\" class=\"credits nowrap\"><i class=\"fas fa-dollar-sign fa-fw\"></i> {{ budget }}</span>\n\t\t\t\t<span v-if=\"hasStorage\" class=\"storage nowrap\"><i class=\"fas fa-database fa-fw\"></i> {{ storageUsedPercent }}% used</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"dropdown\">\n\t\t\t<div class=\"item\">\n\t\t\t\tWelcome, {{ userName }}!\n\t\t\t</div>\n\t\t\t<div class=\"item\" v-if=\"hasStorage\">\n\t\t\t\t<h4>Storage</h4>\n\t\t\t\t<div class=\"storagePercent\"><div class=\"used\" :style=\"'width: ' + storageUsedPercent + '%'\"></div></div>\n\t\t\t\t<div class=\"nowrap\">Used {{ formatMegabyte(storageUsed) }} of {{ formatMegabyte(userInfo.storage.quota) }}.</div>\n\t\t\t</div>\n\t\t\t<div class=\"item\" v-for=\"(link, key) in links\" :key=\"key\">\n\t\t\t\t<a :href=\"link.href\" target=\"_blank\" :rel=\"link.rel\">{{ link.title }}</a>\n\t\t\t</div>\n\t\t\t<div class=\"item\">\n\t\t\t\t<button class=\"navButton\" type=\"button\" @click.prevent=\"logout\"><i class=\"fas fa-sign-out-alt\"></i> Logout</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Utils from '../utils.js';\n\nexport default {\n\tname: 'UserMenu',\n\tcomputed: {\n\t\t...Utils.mapState(['userInfo']),\n\t\t...Utils.mapGetters(['currency']),\n\t\tlinks() {\n\t\t\treturn Utils.friendlyLinks(this.userInfo.links);\n\t\t},\n\t\thasStorage() {\n\t\t\treturn Utils.isObject(this.userInfo.storage) && typeof this.userInfo.storage.quota === 'number' && typeof this.userInfo.storage.free === 'number';\n\t\t},\n\t\tbudget() {\n\t\t\treturn Utils.formatBudget(this.userInfo.budget, this.currency);\n\t\t},\n\t\tuserName() {\n\t\t\tif (typeof this.userInfo.name === 'string') {\n\t\t\t\treturn this.userInfo.name;\n\t\t\t}\n\t\t\telse if (typeof this.userInfo.user_id === 'string') {\n\t\t\t\treturn this.userInfo.user_id;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 'Guest';\n\t\t\t}\n\t\t},\n\t\tstorageUsed() {\n\t\t\tif (!this.hasStorage) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn this.userInfo.storage.quota - this.userInfo.storage.free;\n\t\t},\n\t\tstorageUsedPercent() {\n\t\t\tif (!this.hasStorage) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn Math.round(this.storageUsed / this.userInfo.storage.quota * 100);\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions({logoutServer: 'logout'}),\n\t\t...Utils.mapMutations('editor', {resetEditor: 'reset'}),\n\t\tasync logout() {\n\t\t\tawait this.logoutServer();\n\t\t\tthis.resetEditor();\n\t\t},\n\t\tformatMegabyte(num) {\n\t\t\tvar gb = 1024*1024*1024;\n\t\t\tif (num > gb) {\n\t\t\t\treturn Math.round(num/gb) + ' GB';\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn Math.round(num/(1024*1024)) + ' MB';\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.down {\n\twidth: 1em;\n\tpadding-right: 10px;\n}\n.name, .credits, .storage {\n\tdisplay: block;\n}\n.name {\n\tmax-width: 250px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n.credits, .storage {\n\tmargin-top: 3px;\n\tfont-size: 12px;\n\tfont-weight: normal;\n}\n.storagePercent {\n\tbackground-color: green;\n\theight: 1em;\n\tborder-radius: 0.3em;\n}\n.storagePercent .used {\n\tbackground-color: maroon;\n\twidth: 1px;\n\theight: 1em;\n\tborder-radius: 0.3em;\n}\n.nowrap {\n\twhite-space: nowrap;\n}\nh4 {\n\tmargin: 0 0 10px 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserMenu.vue?vue&type=template&id=078435c4&scoped=true&\"\nimport script from \"./UserMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./UserMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserMenu.vue?vue&type=style&index=0&id=078435c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"078435c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tabs',{ref:\"tabs\",attrs:{\"id\":\"userContent\"}},[(_vm.showJobs)?_c('Tab',{attrs:{\"id\":\"jobs\",\"name\":\"Batch Jobs\",\"icon\":\"fa-tasks\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('JobPanel')],1):_vm._e(),(_vm.showServices)?_c('Tab',{attrs:{\"id\":\"services\",\"name\":\"Web Services\",\"icon\":\"fa-cloud\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('ServicePanel')],1):_vm._e(),(_vm.showCustomProcesses)?_c('Tab',{attrs:{\"id\":\"customProcesses\",\"name\":\"Custom Processes\",\"icon\":\"fa-sitemap\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('CustomProcessPanel')],1):_vm._e(),(_vm.showFiles)?_c('Tab',{attrs:{\"id\":\"files\",\"name\":\"Files\",\"icon\":\"fa-file\"},on:{\"show\":_vm.onShow,\"hide\":_vm.onHide}},[_c('FilePanel')],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"FilePanel\"},on:{\"dragenter\":function($event){return _vm.dropZoneInfo(true)},\"dragleave\":function($event){return _vm.dropZoneInfo(false)},\"drop\":function($event){return _vm.uploadFiles($event)},\"dragover\":function($event){return _vm.allowDrop($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUploadDropHint),expression:\"showUploadDropHint\"}],staticClass:\"dropZone\"},[_vm._v(\"To upload files, drop them here.\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],staticClass:\"addFile\"},[_c('input',{ref:\"uploadUserFile\",staticClass:\"uploadUserFile\",attrs:{\"type\":\"file\",\"name\":\"uploadUserFile\",\"multiple\":\"\"},on:{\"change\":_vm.uploadFiles}})]),_c('div',{staticClass:\"percent\"},[_c('div',{staticClass:\"used\",class:{error: _vm.uploadErrored},style:('width: ' + this.uploadProgress + '%; opacity: ' + this.uploadFadeOut)})]),_c('DataTable',{ref:\"table\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Download\"},on:{\"click\":function($event){return _vm.downloadFile(p.row)}}},[_c('i',{staticClass:\"fas fa-download\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteFile(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import DataTable from '@openeo/vue-components/components/DataTable.vue';\nimport Utils from '../utils.js';\n\nexport default (namespace, singular, plural) => {\n\treturn {\n\t\tcomponents: {\n\t\t\tDataTable\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcolumns: {},\n\t\t\t\tsyncTimer: null,\n\t\t\t\tlastSyncTime: null\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\tthis.updateData();\n\t\t},\n\t\tbeforeDestroy() {\n\t\t\tthis.stopSyncTimer();\n\t\t},\n\t\tcomputed: {\n\t\t\t...Utils.mapState(namespace, {data: namespace}),\n\t\t\t...Utils.mapGetters(namespace, ['supportsList', 'supportsCreate', 'supportsRead', 'supportsUpdate', 'supportsDelete'])\n\t\t},\n\t\tmethods: {\n\t\t\t...Utils.mapActions(namespace, ['list', 'create', 'read', 'update', 'delete']),\n\t\t\tgetTable() { // To be overridden\n\t\t\t\treturn this.$refs && this.$refs.table ? this.$refs.table : null;\n\t\t\t},\n\t\t\tonShow() {\n\t\t\t\tthis.updateData();\n\t\t\t\tthis.startSyncTimer();\n\t\t\t},\n\t\t\tonHide() {\n\t\t\t\tthis.stopSyncTimer();\n\t\t\t},\n\t\t\tstartSyncTimer() {\n\t\t\t\tif (this.supportsList && this.syncTimer === null) {\n\t\t\t\t\tthis.syncTimer = setInterval(this.updateData, this.getSyncInterval());\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopSyncTimer() {\n\t\t\t\tif (this.syncTimer !== null) {\n\t\t\t\t\tclearInterval(this.syncTimer);\n\t\t\t\t\tthis.syncTimer = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetSyncInterval() {\n\t\t\t\treturn this.$config.dataRefreshInterval*60*1000; // Refresh data every x minutes\n\t\t\t},\n\t\t\trefreshElement(obj, callback = null) {\n\t\t\t\tvar old = Object.assign({}, obj);\n\t\t\t\tthis.read({data: obj})\n\t\t\t\t\t.then(updated => {\n\t\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\t\tcallback(updated, old);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => Utils.exception(this, error, \"Load \" + singular + \" error\"));\n\t\t\t},\n\t\t\tupdateData() {\n\t\t\t\tvar table = this.getTable();\n\t\t\t\tvar nextSyncTime = Date.now() - this.getSyncInterval();\n\t\t\t\tif (!table || this.lastSyncTime > nextSyncTime) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse if (!this.supportsList) {\n\t\t\t\t\ttable.setNoData(\"Sorry, listing stored \" + plural + \" is not supported by the server.\");\n\t\t\t\t}\n\t\t\t\telse if (!this.supportsCreate) {\n\t\t\t\t\ttable.setNoData(\"Sorry, this feature is not supported by the server.\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar isUpdate = this.data.length > 0;\n\t\t\t\t\tif (!isUpdate) {\n\t\t\t\t\t\ttable.setNoData(\"Loading \" + plural + \"...\");\n\t\t\t\t\t}\n\t\t\t\t\tthis.lastSyncTime = Date.now();\n\t\t\t\t\tthis.list()\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tif(data.length == 0) {\n\t\t\t\t\t\t\t\ttable.setNoData(\"Add your first \" + singular + \" here...\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tif (!isUpdate) {\n\t\t\t\t\t\t\t\ttable.setNoData(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}","<template>\n\t<div id=\"FilePanel\" @dragenter=\"dropZoneInfo(true)\" @dragleave=\"dropZoneInfo(false)\" @drop=\"uploadFiles($event)\" @dragover=\"allowDrop($event)\">\n\t\t<div class=\"dropZone\" v-show=\"showUploadDropHint\">To upload files, drop them here.</div>\n\t\t<div v-show=\"supportsCreate\" class=\"addFile\">\n\t\t\t<input type=\"file\" name=\"uploadUserFile\" class=\"uploadUserFile\" ref=\"uploadUserFile\" @change=\"uploadFiles\" multiple>\n\t\t</div>\n\t\t<div class=\"percent\"><div class=\"used\" :class=\"{error: uploadErrored}\" :style=\"'width: ' + this.uploadProgress + '%; opacity: ' + this.uploadFadeOut\"></div></div>\n\t\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\">\n\t\t\t<template #actions=\"p\">\n\t\t\t\t<button title=\"Download\" @click=\"downloadFile(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-download\"></i></button>\n\t\t\t\t<button title=\"Delete\" @click=\"deleteFile(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t</template>\n\t\t</DataTable>\n\t</div>\n</template>\n\n<script>\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils.js';\n\nexport default {\n  \tname: 'FilePanel',\n\tmixins: [WorkPanelMixin('files', 'file', 'files')],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tpath: {\n\t\t\t\t\tname: 'Path',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\tsortFn: Utils.sortByPath,\n\t\t\t\t\tsort: 'asc'\n\t\t\t\t},\n\t\t\t\tsize: {\n\t\t\t\t\tname: 'Size',\n\t\t\t\t\tformat: \"FileSize\",\n\t\t\t\t\tfilterable: false\n\t\t\t\t},\n\t\t\t\tmodified: {\n\t\t\t\t\tname: 'Last modified',\n\t\t\t\t\tformat: 'Timestamp'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t},\n\t\t\tuploadProgress: 0,\n\t\t\tuploadProgressPerFile: [],\n\t\t\tuploadErrored: false,\n\t\t\tuploadFadeOut: 1,\n\t\t\tshowUploadDropHint: 0\n\t\t};\n\t},\n\twatch: {\n\t\tuploadProgressPerFile: {\n\t\t\tdeep: true,\n\t\t\thandler() {\n\t\t\t\tthis.uploadProgress = this.uploadProgressPerFile.reduce((a,b) => a + b, 0) / this.uploadProgressPerFile.length;\n\t\t\t\tif (this.uploadProgress > 99.9999) {\n\t\t\t\t\tthis.finishAllUploads();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n  \tmethods: {\n\t\tallowDrop(ev) {\n\t\t\tif(this.supportsCreate) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tdropZoneInfo(show) {\n\t\t\tthis.showUploadDropHint += show ? 1 : -1;\n\t\t},\n\t\tuploadFiles(e) {\n\t\t\tthis.showUploadDropHint = 0;\n\t\t\tvar files = [];\n\t\t\tif (e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files.length) {\n\t\t\t\tfiles = e.dataTransfer.files;\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\telse if (e.target && e.target.files && e.target.files.length){\n\t\t\t\tfiles = e.target.files;\n\t\t\t}\n\t\t\tif(!this.supportsCreate) {\n\t\t\t\tUtils.error(this, 'Uploading files is not supported.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (files.length === 0) {\n\t\t\t\tUtils.info(this, 'Please select files to upload.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.uploadProgressPerFile = [];\n\t\t\tthis.uploadProgress = 0;\n\t\t\tthis.uploadErrored = false;\n\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\tthis.uploadFile(files[i], i);\n\t\t\t}\n\t\t},\n\t\tuploadFile(file, i) {\n\t\t\tthis.uploadProgressPerFile.push(0);\n\t\t\tif (typeof file.name !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.create({parameters: [\n\t\t\t\tfile,\n\t\t\t\tnull,\n\t\t\t\tpercent => this.$set(this.uploadProgressPerFile, i, percent)\n\t\t\t]})\n\t\t\t\t.then(uploadedFile => {\n\t\t\t\t\tthis.$set(this.uploadProgressPerFile, i, 100);\n\t\t\t\t\tUtils.ok(this, 'File upload completed.', file.name);\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\tUtils.exception(this, error, \"Upload File Error: \" + file.name);\n\t\t\t\t});\n\t\t},\n\t\tfinishAllUploads() {\n\t\t\tthis.$refs.uploadUserFile.value = '';\n\t\t\tvar t = setInterval(() => {\n\t\t\t\tthis.uploadFadeOut -= 0.05;\n\t\t\t\tif (this.uploadFadeOut < 0) {\n\t\t\t\t\tthis.uploadProgress = 0;\n\t\t\t\t\tthis.uploadFadeOut = 1;\n\t\t\t\t\tclearInterval(t);\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t},\n\t\tdownloadFile(file) {\n\t\t\tUtils.info(this, 'File requested. Please wait...');\n\t\t\tfile.downloadFile(file.path);\n\t\t},\n\t\tdeleteFile(file) {\n\t\t\tthis.delete({data: file})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Delete File Error: ' + file.path));\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#FilePanel {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n}\n#FilePanel .dropZone {\n\twidth: 100%;\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 2;\n\topacity: 0.8;\n\tbackground-color: #fff;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-size: 1.5em;\n\tfont-weight: bold;\n}\n#FilePanel .addFile {\n\tdisplay: flex;\n\tpadding-bottom: 1px;\n}\n#FilePanel .addFile button {\n\tmargin: 0;\n}\n#FilePanel .path {\n\twidth: 50%;\n}\n#FilePanel td.path {\n\tword-break: break-all;\n}\n#FilePanel td.size, #FilePanel td.modified {\n\ttext-align: right;\n}\n.uploadUserFile {\n\tflex-grow: 1;\n\tborder: 0;\n}\n#FilePanel .percent {\n\tbackground-color: #eee;\n\theight: 3px;\n\tmargin-bottom: 5px;\n}\n#FilePanel .percent .used {\n\tbackground-color: green;\n\twidth: 0;\n\theight: 3px;\n}\n#FilePanel .percent .used.errored {\n\tbackground-color: maroon;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilePanel.vue?vue&type=template&id=ca9956a2&\"\nimport script from \"./FilePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./FilePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilePanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",staticClass:\"JobPanel\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){return _vm.showJobInfo(p.row)}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('estimateJob')),expression:\"supports('estimateJob')\"}],attrs:{\"title\":\"Estimate\"},on:{\"click\":function($event){return _vm.estimateJob(p.row)}}},[_c('i',{staticClass:\"fas fa-file-invoice-dollar\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsUpdate && _vm.isJobInactive(p.row)),expression:\"supportsUpdate && isJobInactive(p.row)\"}],attrs:{\"title\":\"Edit metadata\"},on:{\"click\":function($event){return _vm.editMetadata(p.row)}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead && _vm.isJobInactive(p.row)),expression:\"supportsRead && isJobInactive(p.row)\"}],attrs:{\"title\":\"Edit process\"},on:{\"click\":function($event){return _vm.showInEditor(p.row)}}},[_c('i',{staticClass:\"fas fa-project-diagram\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteJob(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('startJob') && _vm.isJobInactive(p.row)),expression:\"supports('startJob') && isJobInactive(p.row)\"}],attrs:{\"title\":\"Start processing\"},on:{\"click\":function($event){return _vm.queueJob(p.row)}}},[_c('i',{staticClass:\"fas fa-play-circle\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('stopJob') && _vm.isJobActive(p.row)),expression:\"supports('stopJob') && isJobActive(p.row)\"}],attrs:{\"title\":\"Cancel processing\"},on:{\"click\":function($event){return _vm.cancelJob(p.row)}}},[_c('i',{staticClass:\"fas fa-stop-circle\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('downloadResults') && _vm.hasResults(p.row)),expression:\"supports('downloadResults') && hasResults(p.row)\"}],attrs:{\"title\":\"Download\"},on:{\"click\":function($event){return _vm.downloadResults(p.row)}}},[_c('i',{staticClass:\"fas fa-download\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('downloadResults') && _vm.hasResults(p.row)),expression:\"supports('downloadResults') && hasResults(p.row)\"}],attrs:{\"title\":\"View results\"},on:{\"click\":function($event){return _vm.viewResults(p.row, true)}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('debugJob')),expression:\"supports('debugJob')\"}],attrs:{\"title\":\"View logs\"},on:{\"click\":function($event){return _vm.showLogs(p.row)}}},[_c('i',{staticClass:\"fas fa-bug\"})])]}}])},[_c('template',{slot:\"toolbar\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],attrs:{\"title\":\"Add new job for batch processing\"},on:{\"click\":function($event){return _vm.createJobFromScript()}}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Create\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('computeResult')),expression:\"supports('computeResult')\"}],attrs:{\"title\":\"Run process and view results synchronously\"},on:{\"click\":_vm.executeProcess}},[_c('i',{staticClass:\"fas fa-play\"}),_vm._v(\" Run now\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\" class=\"JobPanel\">\n\t\t<template slot=\"toolbar\">\n\t\t\t<button title=\"Add new job for batch processing\" @click=\"createJobFromScript()\" v-show=\"supportsCreate\"><i class=\"fas fa-plus\"></i> Create</button>\n\t\t\t<button title=\"Run process and view results synchronously\" @click=\"executeProcess\" v-show=\"supports('computeResult')\"><i class=\"fas fa-play\"></i> Run now</button>\n\t\t</template>\n\t\t<template #actions=\"p\">\n\t\t\t<button title=\"Details\" @click=\"showJobInfo(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Estimate\" @click=\"estimateJob(p.row)\" v-show=\"supports('estimateJob')\"><i class=\"fas fa-file-invoice-dollar\"></i></button>\n\t\t\t<button title=\"Edit metadata\" @click=\"editMetadata(p.row)\" v-show=\"supportsUpdate && isJobInactive(p.row)\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t<button title=\"Edit process\" @click=\"showInEditor(p.row)\" v-show=\"supportsRead && isJobInactive(p.row)\"><i class=\"fas fa-project-diagram\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteJob(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t<button title=\"Start processing\" @click=\"queueJob(p.row)\" v-show=\"supports('startJob') && isJobInactive(p.row)\"><i class=\"fas fa-play-circle\"></i></button>\n\t\t\t<button title=\"Cancel processing\" @click=\"cancelJob(p.row)\" v-show=\"supports('stopJob') && isJobActive(p.row)\"><i class=\"fas fa-stop-circle\"></i></button>\n\t\t\t<button title=\"Download\" @click=\"downloadResults(p.row)\" v-show=\"supports('downloadResults') && hasResults(p.row)\"><i class=\"fas fa-download\"></i></button>\n\t\t\t<button title=\"View results\" @click=\"viewResults(p.row, true)\" v-show=\"supports('downloadResults') && hasResults(p.row)\"><i class=\"fas fa-eye\"></i></button>\n\t\t\t<button title=\"View logs\" @click=\"showLogs(p.row)\" v-show=\"supports('debugJob')\"><i class=\"fas fa-bug\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils.js';\nimport { Job } from '@openeo/js-client';\n\nconst WorkPanelMixinInstance = WorkPanelMixin('jobs', 'batch job', 'batch jobs');\n\nexport default {\n\tname: 'JobPanel',\n\tmixins: [WorkPanelMixinInstance, EventBusMixin],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tid: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\thide: true\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tname: 'Title',\n\t\t\t\t\tcomputedValue: row => Utils.getResourceTitle(row),\n\t\t\t\t\tedit: this.updateTitle\n\t\t\t\t},\n\t\t\t\tstatus: {\n\t\t\t\t\tname: 'Status',\n\t\t\t\t\tstylable: true\n\t\t\t\t},\n\t\t\t\tcreated: {\n\t\t\t\t\tname: 'Submitted',\n\t\t\t\t\tformat: 'Timestamp',\n\t\t\t\t\tsort: 'desc'\n\t\t\t\t},\n\t\t\t\tupdated: {\n\t\t\t\t\tname: 'Last update',\n\t\t\t\t\tformat: 'Timestamp'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t},\n\t\t\twatchers: {},\n\t\t\tjobUpdater: null\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.listen('replaceProcess', this.replaceProcess);\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters(['supports', 'supportsBilling', 'supportsBillingPlans']),\n\t\t...Utils.mapState('editor', ['process'])\n\t},\n\twatch: {\n\t\tdata: {\n\t\t\thandler: function(updatedJobs) {\n\t\t\t\t// Update Watchers\n\t\t\t\tthis.watchers = {};\n\t\t\t\tfor(let job of updatedJobs) {\n\t\t\t\t\tswitch(job.status.toLowerCase()) {\n\t\t\t\t\t\tcase 'running':\n\t\t\t\t\t\tcase 'queued':\n\t\t\t\t\t\t\tthis.watchers[job.id] = job;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions('jobs', ['queue', 'cancel']),\n\t\tstartSyncTimer() {\n\t\t\tWorkPanelMixinInstance.methods.startSyncTimer.call(this);\n\t\t\tthis.jobUpdater = setInterval(this.executeWatchers, 10000);\n\t\t},\n\t\tstopSyncTimer() {\n\t\t\tWorkPanelMixinInstance.methods.stopSyncTimer.call(this);\n\t\t\tif (this.jobUpdater !== null) {\n\t\t\t\tclearInterval(this.jobUpdater);\n\t\t\t}\n\t\t},\n\t\tshowInEditor(job) {\n\t\t\tthis.refreshElement(job, updatedJob => this.emit('editProcess', updatedJob));\n\t\t},\n\t\texecuteProcess() {\n\t\t\tUtils.info(this, 'Data requested. Please wait...');\n\t\t\tthis.emit('viewSyncResult', this.process);\n\t\t},\n\t\tjobCreated(job) {\n\t\t\tvar buttons = [];\n\t\t\tif (this.supports('estimateJob')) {\n\t\t\t\tbuttons.push({text: 'Estimate', action: () => this.estimateJob(job)});\n\t\t\t}\n\t\t\tif (this.supports('startJob')) {\n\t\t\t\tbuttons.push({text: 'Start processing', action: () => this.queueJob(job)});\n\t\t\t}\n\t\t\tif (this.supports('deleteJob')) {\n\t\t\t\tbuttons.push({text: 'Delete', action: () => this.deleteJob(job)});\n\t\t\t}\n\t\t\tUtils.confirm(this, 'Job \"' + Utils.getResourceTitle(job) + '\" created!', buttons);\n\t\t},\n\t\tgetTitleField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'title',\n\t\t\t\tlabel: 'Title',\n\t\t\t\tschema: {type: 'string'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetDescriptionField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'description',\n\t\t\t\tlabel: 'Description',\n\t\t\t\tschema: {type: 'string', subtype: 'commonmark'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\tdescription: 'CommonMark (Markdown) is allowed.',\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetBillingPlanField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'plan',\n\t\t\t\tlabel: 'Billing plan',\n\t\t\t\tschema: {type: 'string', subtype: 'billing-plan'},\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetBudgetField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'budget',\n\t\t\t\tlabel: 'Budget',\n\t\t\t\tschema: {type: 'number', subtype: 'budget'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tnormalizeToDefaultData(data) {\n\t\t\tif (typeof data.title !== 'undefined' && (typeof data.title !== 'string' || data.title.length === 0)) {\n\t\t\t\tdata.title = null;\n\t\t\t}\n\t\t\tif (typeof data.description !== 'undefined' && (typeof data.description !== 'string' || data.description.length === 0)) {\n\t\t\t\tdata.description = null;\n\t\t\t}\n\t\t\tif (typeof data.plan !== 'undefined' && (typeof data.plan !== 'string' || data.plan.length === 0)) {\n\t\t\t\tdata.plan = null;\n\t\t\t}\n\t\t\tif (typeof data.budget !== 'undefined' && (typeof data.budget !== 'number' || data.budget < 0)) {\n\t\t\t\tdata.budget = null;\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\tcreateJob(process, data) {\n\t\t\tdata = this.normalizeToDefaultData(data);\n\t\t\tthis.create({parameters: [process, data.title, data.description, data.plan, data.budget]})\n\t\t\t\t.then(job => this.jobCreated(job))\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Create Job Error: ' + (data.title || '')));\n\t\t},\n\t\tcreateJobFromScript() {\n\t\t\tvar fields = [\n\t\t\t\tthis.getTitleField(),\n\t\t\t\tthis.getDescriptionField(),\n\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField() : null,\n\t\t\t\tthis.supportsBilling ? this.getBudgetField() : null\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Create new batch job\", fields, data => this.createJob(this.process, data));\n\t\t},\n\t\tdeleteJob(job) {\n\t\t\tthis.delete({data: job})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Delete Job Error: ' + Utils.getResourceTitle(job)));\n\t\t},\n\t\texecuteWatchers() {\n\t\t\tfor(var i in this.watchers) {\n\t\t\t\tthis.refreshElement(this.watchers[i], (updated, old) => {\n\t\t\t\t\tif (old.status !== 'finished' && updated.status === 'finished') {\n\t\t\t\t\t\tvar buttons = [];\n\t\t\t\t\t\tif (this.supports('downloadResults')) {\n\t\t\t\t\t\t\tbuttons.push({text: 'Download', action: () => this.downloadResults(updated)});\n\t\t\t\t\t\t\tbuttons.push({text: 'View', action: () => this.viewResults(updated)});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tUtils.confirm(this, 'Job \"' + Utils.getResourceTitle(updated) + '\" has finished!', buttons);\n\t\t\t\t\t}\n\t\t\t\t\telse if (old.status !== 'error' && updated.status === 'error') {\n\t\t\t\t\t\tUtils.error(this, 'Job \"' + Utils.getResourceTitle(updated) + '\" has stopped due to an error or timeout.');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (old.status !== updated.status) {\n\t\t\t\t\t\tthis.emit('jobStatusUpdated', updated, old);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tshowJobInfo(job) {\n\t\t\tthis.refreshElement(job, async (updatedJob) => {\n\t\t\t\tlet result = null;\n\t\t\t\tif (updatedJob.status === 'finished') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresult = await updatedJob.getResultsAsStac();\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tUtils.exception(this, error, \"Load Results Error: \" + Utils.getResourceTitle(updatedJob));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.emit('showJobInfo', updatedJob.getAll(), result);\n\t\t\t});\n\t\t},\n\t\testimateJob(job) {\n\t\t\t// Doesn't need to go through job store as it doesn't change job-related data\n\t\t\tjob.estimateJob()\n\t\t\t\t.then(estimate => this.emit('showJobEstimate', job.getAll(), estimate))\n\t\t\t\t.catch(error => Utils.exception(this, error, \"Job Estimate Error: \" + Utils.getResourceTitle(job)));\n\t\t},\n\t\tshowLogs(job) {\n\t\t\tthis.emit('viewLogs', job);\n\t\t},\n\t\treplaceProcess(job, process) {\n\t\t\tif (job instanceof Job) {\n\t\t\t\tif (this.isJobActive(job)) {\n\t\t\t\t\tUtils.error(this, \"Can't change process while batch job is running.\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.updateJob(job, {process: process});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\teditMetadata(oldJob) {\n\t\t\tthis.refreshElement(oldJob, job => {\n\t\t\t\tvar fields = [\n\t\t\t\t\tthis.getTitleField(job.title),\n\t\t\t\t\tthis.getDescriptionField(job.description),\n\t\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField(job.plan) : null,\n\t\t\t\t\tthis.supportsBilling ? this.getBudgetField(job.budget) : null\n\t\t\t\t];\n\t\t\t\tthis.emit('showDataForm', \"Edit batch job\", fields, data => this.updateJob(job, data));\n\t\t\t});\n\t\t},\n\t\tupdateTitle(job, newTitle) {\n\t\t\tthis.updateJob(job, {title: newTitle});\n\t\t},\n\t\tupdateJob(job, parameters) {\n\t\t\tthis.update({data: job, parameters: this.normalizeToDefaultData(parameters)})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Update Job Error: ' + Utils.getResourceTitle(job)));\n\t\t},\n\t\tqueueJob(job) {\n\t\t\tthis.queue({data: job})\n\t\t\t\t.then(updatedJob => Utils.ok(this, 'Job \"' + Utils.getResourceTitle(updatedJob) + '\" successfully queued.'))\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Queue Job Error: ' + Utils.getResourceTitle(job)));\n\t\t},\n\t\tcancelJob(job) {\n\t\t\tthis.cancel({data: job})\n\t\t\t\t.then(updatedJob => Utils.ok(this, 'Job \"' + Utils.getResourceTitle(updatedJob) + '\" successfully canceled.'))\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Cancel Job Error: ' + Utils.getResourceTitle(job)));\n\t\t},\n\t\tviewResults(job) {\t\t\t\n\t\t\tUtils.info(this, 'Data requested. Please wait...');\n\n\t\t\t// Doesn't need to go through job store as it doesn't change job-related data\n\t\t\tjob.getResultsAsStac().then(stac => {\n\t\t\t\tif(Utils.size(stac.assets) == 0) {\n\t\t\t\t\tUtils.error(this, 'No results available for job \"' + Utils.getResourceTitle(job) + '\".');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.emit('viewJobResults', stac, job);\n\t\t\t});\n\t\t},\n\t\tdownloadResults(job) {\t\n\t\t\t// Doesn't need to go through job store as it doesn't change job-related data\n\t\t\tjob.getResultsAsStac().then(item => {\n\t\t\t\tif(Utils.size(item.assets) == 0) {\n\t\t\t\t\tUtils.error(this, 'No results available for job \"' + Utils.getResourceTitle(job) + '\".');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// This can be formatted much nicer and more useful...\n\t\t\t\tthis.emit(\n\t\t\t\t\t'showListModal', \n\t\t\t\t\t'Download results',\n\t\t\t\t\tObject.values(item.assets).map(a => a.href),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcallback: url => {\n\t\t\t\t\t\t\t\twindow.open(url, '_blank');\n\t\t\t\t\t\t\t\treturn false; // Don't close the modal by default to allow downloading multiple files\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\thasResults(job) {\n\t\t\treturn (typeof job.status !== 'string' || job.status.toLowerCase() == 'finished');\n\t\t},\n\t\tisJobInactive(job) {\n\t\t\treturn (typeof job.status !== 'string' || !this.isActiveStatusCode(job.status));\n\t\t},\n\t\tisJobActive(job) {\n\t\t\treturn (typeof job.status !== 'string' || this.isActiveStatusCode(job.status));\n\t\t},\n\t\tisActiveStatusCode(status) {\n\t\t\tswitch (status.toLowerCase()) {\n\t\t\t\tcase 'running':\n\t\t\t\tcase 'queued':\n\t\t\t\t\treturn true;\n\t\t\t\tdefault:\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.JobPanel .title {\n\twidth: 25%;\n}\n.JobPanel .consumed_credits, .JobPanel .updated, .JobPanel .created {\n\ttext-align: right;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JobPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobPanel.vue?vue&type=template&id=48fefcda&\"\nimport script from \"./JobPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./JobPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./JobPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",staticClass:\"CustomProcessPanel\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){return _vm.processInfo(p.row)}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsUpdate),expression:\"supportsUpdate\"}],attrs:{\"title\":\"Edit metadata\"},on:{\"click\":function($event){return _vm.editMetadata(p.row)}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Edit process\"},on:{\"click\":function($event){return _vm.showInEditor(p.row)}}},[_c('i',{staticClass:\"fas fa-project-diagram\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteProcess(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}])},[_c('template',{slot:\"toolbar\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],attrs:{\"title\":\"Add new custom process\"},on:{\"click\":_vm.addProcessFromScript}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\" class=\"CustomProcessPanel\">\n\t\t<template slot=\"toolbar\">\n\t\t\t<button title=\"Add new custom process\" @click=\"addProcessFromScript\" v-show=\"supportsCreate\"><i class=\"fas fa-plus\"></i> Add</button>\n\t\t</template>\n\t\t<template #actions=\"p\">\n\t\t\t<button title=\"Details\" @click=\"processInfo(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<!-- ToDo: Align with 1.0, move edit metadata to visual model editor -->\n\t\t\t<button title=\"Edit metadata\" @click=\"editMetadata(p.row)\" v-show=\"supportsUpdate\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t<button title=\"Edit process\" @click=\"showInEditor(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-project-diagram\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteProcess(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils.js';\nimport { UserProcess } from '@openeo/js-client';\n\nexport default {\n\tname: 'CustomProcessPanel',\n\tmixins: [WorkPanelMixin('userProcesses', 'custom process', 'custom processes'), EventBusMixin],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tid: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\tsort: 'asc'\n\t\t\t\t},\n\t\t\t\tsummary: {\n\t\t\t\t\tname: 'Summary'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState('editor', ['process'])\n\t},\n\tmounted() {\n\t\tthis.listen('replaceProcess', this.replaceProcess);\n\t},\n\tmethods: {\n\t\tshowInEditor(process) {\n\t\t\tthis.refreshElement(process, updatedProcess => this.emit('editProcess', updatedProcess));\n\t\t},\n\t\tgetIdField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'id',\n\t\t\t\tlabel: 'Name',\n\t\t\t\tschema: {type: 'string'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value\n\t\t\t};\n\t\t},\n\t\tgetSummaryField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'summary',\n\t\t\t\tlabel: 'Summary',\n\t\t\t\tschema: {type: 'string'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetDescriptionField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'description',\n\t\t\t\tlabel: 'Description',\n\t\t\t\tschema: {type: 'string', subtype: 'commonmark'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\tdescription: 'CommonMark (Markdown) is allowed.',\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetCategoriesField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'categories',\n\t\t\t\tlabel: 'Categories',\n\t\t\t\tschema: {type: 'array', items: {type: 'string'}},\n\t\t\t\tdefault: [],\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetDeprecatedField(value = false) {\n\t\t\treturn {\n\t\t\t\tname: 'deprecated',\n\t\t\t\tlabel: 'Deprecated',\n\t\t\t\tschema: {type: 'boolean'},\n\t\t\t\tdefault: false,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetExperimentalField(value = false) {\n\t\t\treturn {\n\t\t\t\tname: 'experimental',\n\t\t\t\tlabel: 'Experimental',\n\t\t\t\tschema: {type: 'boolean'},\n\t\t\t\tdefault: false,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetFields(process) {\n\t\t\treturn [\n\t\t\t\tthis.getIdField(process.id),\n\t\t\t\tthis.getSummaryField(process.summary),\n\t\t\t\tthis.getDescriptionField(process.description),\n\t\t\t\tthis.getCategoriesField(process.categories),\n\t\t\t\tthis.getDeprecatedField(process.deprecated),\n\t\t\t\tthis.getExperimentalField(process.experimental)\n\t\t\t];\n\t\t},\n\t\t// Add parameters, return value, exceptions, examples, links\n\t\taddProcessFromScript() {\n\t\t\tlet fields = this.getFields(this.process);\n\t\t\tthis.emit('showDataForm', \"Store a new custom process\", fields, data => this.addProcess(this.normalize(this.process, data)));\n\t\t},\n\t\tnormalize(process, data) {\n\t\t\treturn Object.assign(\n\t\t\t\t{},\n\t\t\t\ttypeof process.toJSON === 'function' ? process.toJSON() : process,\n\t\t\t\tdata\n\t\t\t);\n\t\t},\n\t\taddProcess(process) {\n\t\t\tthis.create({parameters: [process.id, process]})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Store Process Error: ' + process.id));\n\t\t},\n\t\tprocessInfo(process) {\n\t\t\tthis.emit('showProcessInfo', process);\n\t\t},\n\t\teditMetadata(oldPg) {\n\t\t\tthis.refreshElement(oldPg, process => {\n\t\t\t\tlet fields = this.getFields(process);\n\t\t\t\tthis.emit('showDataForm', \"Edit metadata for a process graph\", fields, data => this.updateMetadata(process, data));\n\t\t\t});\n\t\t},\n\t\treplaceProcess(process, newProcess) {\n\t\t\tif (process instanceof UserProcess) {\n\t\t\t\tthis.updateMetadata(process, newProcess)\n\t\t\t}\n\t\t},\n\t\tupdateMetadata(process, data) {\n\t\t\tthis.update({data: process, parameters: this.normalize(process, data)})\n\t\t\t\t.catch(error => Utils.exception(this, error, \"Update Process Error: \" + process.id));\n\t\t},\n\t\tdeleteProcess(process) {\n\t\t\tthis.delete({data: process})\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Delete Process Error: ' + process.id));\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.CustomProcessPanel .id {\n\twidth: 25%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomProcessPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomProcessPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomProcessPanel.vue?vue&type=template&id=921f2c9a&\"\nimport script from \"./CustomProcessPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomProcessPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomProcessPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",staticClass:\"ServicePanel\",attrs:{\"data\":_vm.data,\"columns\":_vm.columns},scopedSlots:_vm._u([{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){return _vm.serviceInfo(p.row)}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsUpdate),expression:\"supportsUpdate\"}],attrs:{\"title\":\"Edit metadata\"},on:{\"click\":function($event){return _vm.editMetadata(p.row)}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsRead),expression:\"supportsRead\"}],attrs:{\"title\":\"Edit process\"},on:{\"click\":function($event){return _vm.showInEditor(p.row)}}},[_c('i',{staticClass:\"fas fa-project-diagram\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsDelete),expression:\"supportsDelete\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteService(p.row)}}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(p.row.enabled && _vm.isMapServiceSupported(p.row.type)),expression:\"p.row.enabled && isMapServiceSupported(p.row.type)\"}],attrs:{\"title\":\"View on map\"},on:{\"click\":function($event){return _vm.viewService(p.row)}}},[_c('i',{staticClass:\"fas fa-map\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supports('debugService')),expression:\"supports('debugService')\"}],attrs:{\"title\":\"View logs\"},on:{\"click\":function($event){return _vm.showLogs(p.row)}}},[_c('i',{staticClass:\"fas fa-bug\"})])]}}])},[_c('template',{slot:\"toolbar\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supportsCreate),expression:\"supportsCreate\"}],attrs:{\"title\":\"Add new service\"},on:{\"click\":function($event){return _vm.createServiceFromScript()}}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Create\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<DataTable ref=\"table\" :data=\"data\" :columns=\"columns\" class=\"ServicePanel\">\n\t\t<template slot=\"toolbar\">\n\t\t\t<button title=\"Add new service\" @click=\"createServiceFromScript()\" v-show=\"supportsCreate\"><i class=\"fas fa-plus\"></i> Create</button>\n\t\t</template>\n\t\t<template #actions=\"p\">\n\t\t\t<button title=\"Details\" @click=\"serviceInfo(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Edit metadata\" @click=\"editMetadata(p.row)\" v-show=\"supportsUpdate\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t<button title=\"Edit process\" @click=\"showInEditor(p.row)\" v-show=\"supportsRead\"><i class=\"fas fa-project-diagram\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteService(p.row)\" v-show=\"supportsDelete\"><i class=\"fas fa-trash\"></i></button>\n\t\t\t<button v-show=\"p.row.enabled && isMapServiceSupported(p.row.type)\" title=\"View on map\" @click=\"viewService(p.row)\"><i class=\"fas fa-map\"></i></button>\n\t\t\t<button title=\"View logs\" @click=\"showLogs(p.row)\" v-show=\"supports('debugService')\"><i class=\"fas fa-bug\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport WorkPanelMixin from './WorkPanelMixin';\nimport Utils from '../utils';\nimport { Service } from '@openeo/js-client';\n\nexport default {\n\tname: 'ServicePanel',\n\tmixins: [WorkPanelMixin('services', 'web service', 'web services'), EventBusMixin],\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tid: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true,\n\t\t\t\t\thide: true\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tname: 'Title',\n\t\t\t\t\tcomputedValue: row => Utils.getResourceTitle(row),\n\t\t\t\t\tedit: this.updateTitle\n\t\t\t\t},\n\t\t\t\ttype: {\n\t\t\t\t\tname: 'Type',\n\t\t\t\t\tformat: value => typeof value === 'string' ? value.toUpperCase() : value,\n\t\t\t\t},\n\t\t\t\tenabled: {\n\t\t\t\t\tname: 'Enabled',\n\t\t\t\t\tedit: this.toggleEnabled\n\t\t\t\t},\n\t\t\t\tcreated: {\n\t\t\t\t\tname: 'Submitted',\n\t\t\t\t\tformat: 'Timestamp',\n\t\t\t\t\tsort: 'desc'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tsort: false\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState('editor', ['process']),\n\t\t...Utils.mapState(['serviceTypes']),\n\t\t...Utils.mapGetters(['supports', 'supportsBilling', 'supportsBillingPlans'])\n\t},\n\tmounted() {\n\t\tthis.listen('replaceProcess', this.replaceProcess);\n\t},\n\tmethods: {\n\t\tisMapServiceSupported(mapType) {\n\t\t\tif (typeof mapType !== 'string') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn this.$config.supportedMapServices.includes(mapType.toLowerCase());\n\t\t},\n\t\tshowInEditor(service) {\n\t\t\tthis.refreshElement(service, updatedService => this.emit('editProcess', updatedService));\n\t\t},\n\t\tshowLogs(service) {\n\t\t\tthis.emit('viewLogs', service);\n\t\t},\n\t\tserviceCreated(service) {\n\t\t\tvar buttons = [];\n\t\t\tif (this.isMapServiceSupported(service.type)) {\n\t\t\t\tbuttons.push({text: 'View on map', action: () => this.viewService(service)});\n\t\t\t}\n\t\t\tif (this.supportsRead) {\n\t\t\t\tbuttons.push({text: 'Details', action: () => this.serviceInfo(service)});\n\t\t\t}\n\t\t\tif (this.supportsDelete) {\n\t\t\t\tbuttons.push({text: 'Delete', action: () => this.deleteService(service)});\n\t\t\t}\n\t\t\tUtils.confirm(this, 'Web Service created!', buttons);\n\t\t},\n\t\tgetTitleField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'title',\n\t\t\t\tlabel: 'Title',\n\t\t\t\tschema: {type: 'string'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetDescriptionField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'description',\n\t\t\t\tlabel: 'Description',\n\t\t\t\tschema: {type: 'string', subtype: 'commonmark'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\tdescription: 'CommonMark (Markdown) is allowed.',\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetServiceTypeField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'type',\n\t\t\t\tlabel: 'Type',\n\t\t\t\tschema: {type: 'string', subtype: 'service-type'},\n\t\t\t\tvalue: value\n\t\t\t};\n\t\t},\n\t\tgetBillingPlanField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'plan',\n\t\t\t\tlabel: 'Billing plan',\n\t\t\t\tschema: {type: 'string', subtype: 'billing-plan'},\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetBudgetField(value = null) {\n\t\t\treturn {\n\t\t\t\tname: 'budget',\n\t\t\t\tlabel: 'Budget',\n\t\t\t\tschema: {type: 'number', subtype: 'budget'},\n\t\t\t\tdefault: null,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetEnabledField(value = true) {\n\t\t\treturn {\n\t\t\t\tname: 'enabled',\n\t\t\t\tlabel: 'Enabled',\n\t\t\t\tschema: {type: 'boolean'},\n\t\t\t\tdefault: true,\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tgetConfigField(value = undefined) {\n\t\t\treturn {\n\t\t\t\tname: 'configuration',\n\t\t\t\tlabel: 'Service Configuration',\n\t\t\t\tschema: {type: 'object', subtype: 'service-config'},\n\t\t\t\tvalue: value,\n\t\t\t\toptional: true\n\t\t\t};\n\t\t},\n\t\tnormalizeToDefaultData(data) {\n\t\t\tif (typeof data.title !== 'undefined' && (typeof data.title !== 'string' || data.title.length === 0)) {\n\t\t\t\tdata.title = null;\n\t\t\t}\n\t\t\tif (typeof data.description !== 'undefined' && (typeof data.description !== 'string' || data.description.length === 0)) {\n\t\t\t\tdata.description = null;\n\t\t\t}\n\t\t\tif (typeof data.enabled !== 'undefined' && typeof data.enabled !== 'boolean') {\n\t\t\t\tdata.enabled = true;\n\t\t\t}\n\t\t\tif (typeof data.configuration !== 'undefined' && !Utils.isObject(data.configuration)) {\n\t\t\t\tdata.configuration = {};\n\t\t\t}\n\t\t\tif (typeof data.plan !== 'undefined' && (typeof data.plan !== 'string' || data.plan.length === 0)) {\n\t\t\t\tdata.plan = null;\n\t\t\t}\n\t\t\tif (typeof data.budget !== 'undefined' && (typeof data.budget !== 'number' || data.budget < 0)) {\n\t\t\t\tdata.budget = null;\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\tcreateService(script, data) {\n\t\t\tdata = this.normalizeToDefaultData(data);\n\t\t\tthis.create({parameters: [script, data.type, data.title, data.description, data.enabled, data.configuration, data.plan, data.budget]})\n\t\t\t\t.then(service => this.serviceCreated(service))\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Create Service Error: ' + (data.title || '')));\n\t\t},\n\t\tcreateServiceFromScript() {\n\t\t\tvar fields = [\n\t\t\t\tthis.getTitleField(),\n\t\t\t\tthis.getDescriptionField(),\n\t\t\t\tthis.getServiceTypeField(),\n\t\t\t\tthis.getEnabledField(),\n\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField() : null,\n\t\t\t\tthis.supportsBilling ? this.getBudgetField() : null,\n\t\t\t\tthis.getConfigField()\n\t\t\t];\n\t\t\tthis.emit('showDataForm', \"Create new web service\", fields, data => this.createService(this.process, data));\n\t\t},\n\t\teditMetadata(oldService) {\n\t\t\tthis.refreshElement(oldService, service => {\n\t\t\t\tvar fields = [\n\t\t\t\t\tthis.getTitleField(service.title),\n\t\t\t\t\tthis.getDescriptionField(service.description),\n\t\t\t\t\tthis.getEnabledField(service.enabled),\n\t\t\t\t\tthis.supportsBillingPlans ? this.getBillingPlanField(service.plan) : null,\n\t\t\t\t\tthis.supportsBilling ? this.getBudgetField(service.budget) : null,\n\t\t\t\t\tthis.getConfigField(service.configuration)\n\t\t\t\t];\n\t\t\t\tthis.emit('showDataForm', \"Edit web service\", fields, data => this.updateService(service, data));\n\t\t\t});\n\t\t},\n\t\tserviceInfo(service) {\n\t\t\tthis.refreshElement(service, updatedService => {\n\t\t\t\tthis.emit('showServiceInfo', updatedService.getAll());\n\t\t\t});\n\t\t},\n\t\treplaceProcess(service, process) {\n\t\t\tif (service instanceof Service) {\n\t\t\t\tthis.updateService(service, {process: process});\n\t\t\t}\n\t\t},\n\t\tupdateTitle(service, newTitle) {\n\t\t\tthis.updateService(service, {title: newTitle});\n\t\t},\n\t\ttoggleEnabled(service) {\n\t\t\tthis.updateService(service, {enabled: !service.enabled});\n\t\t},\n\t\tupdateService(service, parameters) {\n\t\t\tthis.update({data: service, parameters: this.normalizeToDefaultData(parameters)})\n\t\t\t\t.catch(error => Utils.exception(this, error, \"Update Service Error: \" + Utils.getResourceTitle(service)));\n\t\t},\n\t\tdeleteService(service) {\n\t\t\tthis.delete({data: service})\n\t\t\t\t.then(() => this.emit('removeWebService', service.id))\n\t\t\t\t.catch(error => Utils.exception(this, error, 'Delete Service Error: ' + Utils.getResourceTitle(service)));\n\t\t},\n\t\tviewService(service) {\n\t\t\tUtils.info(this, 'Requesting tiles from server. Please wait...');\n\t\t\tthis.emit('viewWebService', service);\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.ServicePanel .title {\n\twidth: 25%;\n}\n.ServicePanel .type {\n\ttext-align: center;\n}\n.ServicePanel .enabled {\n\ttext-align: center;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServicePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServicePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ServicePanel.vue?vue&type=template&id=6299f62a&\"\nimport script from \"./ServicePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ServicePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ServicePanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<Tabs id=\"userContent\" ref=\"tabs\">\n\t\t<Tab v-if=\"showJobs\" id=\"jobs\" name=\"Batch Jobs\" icon=\"fa-tasks\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<JobPanel />\n\t\t</Tab>\n\t\t<Tab v-if=\"showServices\" id=\"services\" name=\"Web Services\" icon=\"fa-cloud\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<ServicePanel />\n\t\t</Tab>\n\t\t<Tab v-if=\"showCustomProcesses\" id=\"customProcesses\" name=\"Custom Processes\" icon=\"fa-sitemap\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<CustomProcessPanel />\n\t\t</Tab>\n\t\t<Tab v-if=\"showFiles\" id=\"files\" name=\"Files\" icon=\"fa-file\" @show=\"onShow\" @hide=\"onHide\">\n\t\t\t<FilePanel />\n\t\t</Tab>\n\t</Tabs>\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport Tabs from '@openeo/vue-components/components/Tabs.vue';\nimport Tab from '@openeo/vue-components/components/Tab.vue';\nimport FilePanel from './FilePanel.vue';\nimport JobPanel from './JobPanel.vue';\nimport CustomProcessPanel from './CustomProcessPanel.vue';\nimport ServicePanel from './ServicePanel.vue';\n\nexport default {\n\tname: 'UserWorkspace',\n\tcomponents: {\n\t\tFilePanel,\n\t\tJobPanel,\n\t\tCustomProcessPanel,\n\t\tServicePanel,\n\t\tTabs,\n\t\tTab\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters(['supports']),\n\t\tshowJobs() {\n\t\t\treturn (this.supports('listJobs') || this.supports('createJob'));\n\t\t},\n\t\tshowServices() {\n\t\t\treturn (this.supports('listServices') || this.supports('createService'));\n\t\t},\n\t\tshowCustomProcesses() {\n\t\t\treturn (this.supports('listUserProcesses') || this.supports('setUserProcess'));\n\t\t},\n\t\tshowFiles() {\n\t\t\treturn (this.supports('listFiles') || this.supports('uploadFile'));\n\t\t}\n\t},\n\tmethods: {\n\t\tonShow(tab) {\n\t\t\tif (tab.$children.length && typeof tab.$children[0].onShow === 'function') {\n\t\t\t\ttab.$children[0].onShow();\n\t\t\t}\n\t\t},\n\t\tonHide(tab) {\n\t\t\tif (tab.$children.length && typeof tab.$children[0].onHide === 'function') {\n\t\t\t\ttab.$children[0].onHide();\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#userContent {\n\tmargin-top: 1em;\n}\n#userContent .tabContent {\n\tpadding: 5px;\n\theight: calc(100% - 12px);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserWorkspace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserWorkspace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserWorkspace.vue?vue&type=template&id=61cf67aa&\"\nimport script from \"./UserWorkspace.vue?vue&type=script&lang=js&\"\nexport * from \"./UserWorkspace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserWorkspace.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tabs',{ref:\"tabs\",attrs:{\"id\":\"viewerContent\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('Tab',{attrs:{\"id\":\"mapView\",\"name\":\"Map\",\"icon\":\"fa-map\",\"selected\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar tab = ref.tab;\nreturn [_c('MapViewer',{ref:\"mapViewer\",attrs:{\"id\":\"mapCanvas\",\"show\":tab.active,\"center\":[50.1725, 9.15],\"zoom\":6}})]}}])})]},proxy:true},{key:\"dynamic\",fn:function(ref){\nvar tab = ref.tab;\nreturn [(tab.icon === 'fa-bug' || tab.icon === 'fa-bomb')?_c('LogViewer',{attrs:{\"data\":tab.data}}):(tab.icon === 'fa-image')?_c('ImageViewer',{attrs:{\"data\":tab.data}}):_c('DataViewer',{attrs:{\"data\":tab.data}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dataViewer\"},[(_vm.isError)?_c('div',{staticClass:\"noDataMessage\"},[_vm._v(_vm._s(_vm.content.message))]):(typeof _vm.content === 'string')?_c('pre',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.content))]):(_vm.content !== null)?_c('ObjectTree',{staticClass:\"tree\",attrs:{\"data\":_vm.content}}):_c('div',{staticClass:\"noDataMessage\"},[_c('i',{staticClass:\"fas fa-spinner fa-spin\"}),_vm._v(\" Loading data...\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"dataViewer\">\n\t\t<div class=\"noDataMessage\" v-if=\"isError\">{{ content.message }}</div>\n\t\t<pre class=\"text\" v-else-if=\"typeof content === 'string'\">{{ content }}</pre>\n\t\t<ObjectTree class=\"tree\" v-else-if=\"content !== null\" :data=\"content\"></ObjectTree>\n\t\t<div class=\"noDataMessage\" v-else><i class=\"fas fa-spinner fa-spin\"></i> Loading data...</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport ObjectTree from '@openeo/vue-components/components/ObjectTree.vue';\nimport Utils from '../utils.js';\n\nexport default {\n\tname: 'DataViewer',\n\tmixins: [EventBusMixin],\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\tcomponents:  {\n\t\tObjectTree\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection']),\n\t\tisError() {\n\t\t\treturn (this.content instanceof Error);\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcontent: null\n\t\t};\n\t},\n\twatch: {\n\t\tdata() {\n\t\t\tthis.processData(this.data);\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.processData(this.data);\n\t},\n\tmethods: {\n\t\tprocessData(data) {\n\t\t\tconsole.log(data);\n\t\t\tif (typeof data.blob !== 'undefined') {\n\t\t\t\tswitch(data.type) {\n\t\t\t\t\tcase 'application/json':\n\t\t\t\t\t\tUtils.blobToText(data, event => {\n\t\t\t\t\t\t\tvar json = JSON.parse(event.target.result);\n\t\t\t\t\t\t\tthis.content = json;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text/plain':\n\t\t\t\t\tcase 'text/csv':\n\t\t\t\t\t\tUtils.blobToText(data, event => {\n\t\t\t\t\t\t\tthis.content = event.target.result;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t// Should not happen if the media types here and in the viewer are aligned\n\t\t\t\t\t\tOpenEO.Environment.saveToFile(data, Utils.makeFileName(\"result\", data.type));\n\t\t\t\t\t\tthis.error(\"Sorry, content type not supported. Trying to download the file...\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (data.url) {\n\t\t\t\tthis.connection.download(data.url, false)\n\t\t\t\t\t.then(response => this.processData(response.data))\n\t\t\t\t\t.catch(error => Utils.exception(this, error, \"Download File Error\"));\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Could also be JSON\n\t\t\t\tthis.content = data;\n\t\t\t}\n\t\t},\n\t\terror(msg) {\n\t\t\tthis.content = new Error(msg);\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.dataViewer .text, .dataViewer .tree {\n\tpadding: 5px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataViewer.vue?vue&type=template&id=6680fd10&scoped=true&\"\nimport script from \"./DataViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./DataViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataViewer.vue?vue&type=style&index=0&id=6680fd10&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6680fd10\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"imageContainer\",staticClass:\"imageViewer\"},[_c('div',{ref:\"loading\",staticClass:\"noDataMessage\"},[_c('i',{staticClass:\"fas fa-spinner fa-spin\"}),_vm._v(\" Loading image...\")]),_c('img',{ref:\"image\",attrs:{\"alt\":\"\"},on:{\"click\":_vm.resize}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"imageViewer\" ref=\"imageContainer\">\n\t\t<div ref=\"loading\" class=\"noDataMessage\"><i class=\"fas fa-spinner fa-spin\"></i> Loading image...</div>\n\t\t<img ref=\"image\" @click=\"resize\" alt=\"\" />\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'ImageViewer',\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.data.blob) {\n\t\t\tthis.showImageBlob(this.data.blob);\n\t\t}\n\t\telse if (this.data.url) {\n\t\t\tthis.showImage(this.data.url);\n\t\t}\n\t\tthis.resize();\n\t},\n\tmethods: {\n\t\tshowImage(src) {\n\t\t\tthis.$refs.image.src = src;\n\t\t\tthis.$refs.image.onload = () => {\n\t\t\t\tthis.$refs.loading.style.display = 'none';\n\t\t\t};\n\t\t},\n\t\tshowImageBlob(data) {\n\t\t\tthis.showImage(URL.createObjectURL(data));\n\t\t},\n\t\tresize() {\n\t\t\tif (!this.$refs.image) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.$refs.image.style.maxWidth) {\n\t\t\t\tthis.$refs.image.style.maxWidth = null;\n\t\t\t\tthis.$refs.image.style.cursor = 'zoom-out';\n\t\t\t\tthis.$refs.image.title = \"Click to shrink (fit to screen)\";\n\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.$refs.image.style.maxWidth = \"100%\";\n\t\t\t\tthis.$refs.image.style.cursor = 'zoom-in';\n\t\t\t\tthis.$refs.image.title = \"Click to enlarge\";\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.imageViewer {\n\tposition: relative;\n}\n.imageViewer .noDataMessage {\n\tz-index: 0;\n    position: absolute;\n    top: 0;\n    left: 0;\n\twidth: 100%;\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n.imageViewer img {\n\tz-index: 1;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageViewer.vue?vue&type=template&id=8fe7759e&scoped=true&\"\nimport script from \"./ImageViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageViewer.vue?vue&type=style&index=0&id=8fe7759e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8fe7759e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Logs',{staticClass:\"log-viewer\",attrs:{\"logs\":_vm.logs}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<Logs class=\"log-viewer\" :logs=\"logs\" />\n</template>\n\n<script>\nimport Utils from '../utils.js';\nimport EventBusMixin from './EventBusMixin.vue';\nimport Logs from '@openeo/vue-components/components/Logs.vue';\n\nexport default {\n\tname: 'LogViewer',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tLogs\n\t},\n\tprops: {\n\t\tdata: { // => JS Client Job/Service Object or Log Entries\n\t\t\ttype: [Object, Array],\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlogs: null,\n\t\t\tsyncTimer: null\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection']),\n\t\tisJob() {\n\t\t\treturn Utils.isObject(this.data) && typeof this.data.debugJob === 'function';\n\t\t},\n\t\tisService() {\n\t\t\treturn Utils.isObject(this.data) && typeof this.data.debugService === 'function';\n\t\t},\n\t\tlogIterator() {\n\t\t\tif (this.isJob) {\n\t\t\t\treturn this.data.debugJob();\n\t\t\t}\n\t\t\telse if (this.isService) {\n\t\t\t\treturn this.data.debugService();\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t},\n\tcreated() {\n\t\tif (this.isJob) {\n\t\t\tthis.listen('jobStatusUpdated', this.onJobStatusUpdated);\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tthis.onHide();\n\t},\n\tmethods: {\n\t\tonShow() {\n\t\t\tthis.loadNext();\n\t\t\tif (this.isJob) {\n\t\t\t\tthis.onJobStatusUpdated(this.data);\n\t\t\t}\n\t\t\telse if (this.isService) {\n\t\t\t\tthis.startWatcher();\n\t\t\t}\n\t\t},\n\t\tonHide() {\n\t\t\tthis.stopWatcher();\n\t\t},\n\t\tonJobStatusUpdated(job) {\n\t\t\tif (job !== this.data || typeof this.data.status !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch(this.data.status.toLowerCase()) {\n\t\t\t\tcase 'running':\n\t\t\t\tcase 'queued':\n\t\t\t\t\tthis.startWatcher();\n\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.stopWatcher();\n\t\t\t}\n\t\t},\n\t\tstartWatcher() {\n\t\t\tif (this.syncTimer === null) {\n\t\t\t\tthis.syncTimer = setInterval(this.loadNext.bind(this), 10000);\n\t\t\t}\n\t\t},\n\t\tstopWatcher() {\n\t\t\tif (this.syncTimer !== null) {\n\t\t\t\tclearInterval(this.syncTimer);\n\t\t\t\tthis.syncTimer = null;\n\t\t\t}\n\t\t},\n\t\tasync loadNext() {\n\t\t\tif (this.logIterator) {\n\t\t\t\tlet logs = await this.logIterator.nextLogs();\n\t\t\t\tif (!Array.isArray(this.logs)) {\n\t\t\t\t\tthis.logs = [];\n\t\t\t\t}\n\t\t\t\tfor(let log of logs) {\n\t\t\t\t\tthis.logs.push(log);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(Array.isArray(this.data) && !this.logs) {\n\t\t\t\tthis.logs = this.data;\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style>\n.vue-component .log-viewer {\n\twidth: 100%;\n\theight: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LogViewer.vue?vue&type=template&id=fc72e6a2&\"\nimport script from \"./LogViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./LogViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LogViewer.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<Tabs id=\"viewerContent\" ref=\"tabs\">\n\t\t<template #default>\n\t\t\t<Tab id=\"mapView\" name=\"Map\" icon=\"fa-map\" :selected=\"true\">\n\t\t\t\t<template #default=\"{ tab }\">\n\t\t\t\t\t<MapViewer id=\"mapCanvas\" ref=\"mapViewer\" :show=\"tab.active\" :center=\"[50.1725, 9.15]\" :zoom=\"6\" />\n\t\t\t\t</template>\n\t\t\t</Tab>\n\t\t</template>\n\t\t<template #dynamic=\"{ tab }\">\n\t\t\t<LogViewer v-if=\"tab.icon === 'fa-bug' || tab.icon === 'fa-bomb'\" :data=\"tab.data\" />\n\t\t\t<ImageViewer v-else-if=\"tab.icon === 'fa-image'\" :data=\"tab.data\" />\n\t\t\t<DataViewer v-else :data=\"tab.data\" />\n\t\t</template>\n\t</Tabs>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\nimport Tabs from '@openeo/vue-components/components/Tabs.vue';\nimport Tab from '@openeo/vue-components/components/Tab.vue';\nimport DataViewer from './DataViewer.vue';\nimport ImageViewer from './ImageViewer.vue';\nimport LogViewer from './LogViewer.vue';\nimport MapViewer from './MapViewer.vue'\nimport contentType from 'content-type';\nimport { OpenEO } from '@openeo/js-client';\nexport default {\n\tname: 'Viewer',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tTab,\n\t\tTabs,\n\t\tDataViewer,\n\t\tImageViewer,\n\t\tLogViewer,\n\t\tMapViewer\n\t},\n\tmounted() {\n\t\tthis.listen('viewBlob', this.showViewer);\n\t\tthis.listen('viewLink', this.showViewer);\n\n\t\tthis.listen('viewSyncResult', this.showSyncResults);\n\t\tthis.listen('viewJobResults', this.showJobResults);\n\t\tthis.listen('viewWebService', this.showWebService);\n\t\tthis.listen('viewLogs', this.showLogs);\n\t\tthis.listen('removeWebService', this.removeWebService);\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttabCounter: {},\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection'])\n\t},\n\tmethods: {\n\t\tshowWebService(service) {\n\t\t\tthis.showMapViewer();\n\t\t\tthis.$refs.mapViewer.showWebService(service);\n\t\t},\n\t\tremoveWebService(id) {\n\t\t\tthis.$refs.mapViewer.removeLayerFromMap(id);\n\t\t},\n\t\tshowMapViewer() {\n\t\t\tthis.$refs.tabs.selectTab('mapView');\n\t\t},\n\t\tshowSyncResults(pg) {\n\t\t\tthis.connection.computeResult(pg)\n\t\t\t\t.then(result => {\n\t\t\t\t\tif (Array.isArray(result.logs) && result.logs.length > 0) {\n\t\t\t\t\t\tthis.showLogs(result.logs);\n\t\t\t\t\t}\n\t\t\t\t\tthis.showViewer(result.data);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tlet title = \"Processing Error\";\n\t\t\t\t\tif (typeof error.message === 'string' && error.message.length > this.$config.snotifyDefaults.bodyMaxLength) {\n\t\t\t\t\t\tthis.showLogs([{\n\t\t\t\t\t\t\tid: error.id || \"unknown\",\n\t\t\t\t\t\t\tcode: error.code || undefined,\n\t\t\t\t\t\t\tlevel: 'error',\n\t\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\t\tlinks: error.links || []\n\t\t\t\t\t\t}]);\n\t\t\t\t\t\tUtils.error(this, \"Synchronous processing failed. Please see the logs for details.\", title);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tUtils.exception(this, error, title);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tshowJobResults(item, job) {\n\t\t\tfor(var key in item.assets) {\n\t\t\t\tvar asset = item.assets[key];\n\t\t\t\tthis.showViewer(asset, this.makeTitle(key, job.id, true));\n\t\t\t}\n\t\t},\n\t\tshowLogs(resource, defaultTitle = 'Logs', faIcon = 'fa-bug') {\n\t\t\tlet title = Array.isArray(resource) ? defaultTitle : Utils.getResourceTitle(resource, true);\n\t\t\tthis.$refs.tabs.addTab(\n\t\t\t\ttitle, faIcon, resource, null, true, true,\n\t\t\t\ttab => this.onShow(tab),\n\t\t\t\ttab => this.onHide(tab)\n\t\t\t);\n\t\t},\n\t\tonShow(tab) {\n\t\t\tif (tab.$children.length && typeof tab.$children[0].onShow === 'function') {\n\t\t\t\ttab.$children[0].onShow();\n\t\t\t}\n\t\t},\n\t\tonHide(tab) {\n\t\t\tif (tab.$children.length && typeof tab.$children[0].onHide === 'function') {\n\t\t\t\ttab.$children[0].onHide();\n\t\t\t}\n\t\t},\n\t\tuniqueTitle(title) {\n\t\t\tif (!this.tabCounter[title]) {\n\t\t\t\tthis.tabCounter[title] = 1;\n\t\t\t\treturn title;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.tabCounter[title]++;\n\t\t\t\treturn title + \" (\" + this.tabCounter[title] + \")\";\n\t\t\t}\n\t\t},\n\t\tmakeTitle(title, type, inc = false) {\n\t\t\tif (!title) {\n\t\t\t\treturn this.uniqueTitle(type);\n\t\t\t}\n\t\t\telse if (inc) {\n\t\t\t\treturn this.uniqueTitle(title);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn title;\n\t\t\t}\n\t\t},\n\t\tasync showViewer(meta, title = null) {\n\t\t\tvar data = {};\n\t\t\tif (Utils.isObject(meta) && typeof meta.href === 'string' && typeof meta.type === 'string') {\n\t\t\t\tdata.type = meta.type;\n\t\t\t\tdata.url = meta.href;\n\t\t\t}\n\t\t\telse if (meta instanceof Blob) {\n\t\t\t\tdata.type = meta.type;\n\t\t\t\tdata.blob = meta;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tUtils.error(this, \"Sorry, invalid data received.\");\n\t\t\t}\n\n\t\t\tif (typeof data.type !== 'string' || data.type.indexOf('/') === -1 || data.type.indexOf('*') !== -1) {\n\t\t\t\tUtils.error(this, \"Sorry, can't detect content type.\");\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tlet mime = contentType.parse(data.type);\n\t\t\t\tdata.type = mime.type;\n\t\t\t\tdata.parameters = mime.parameters;\n\t\t\t} catch (error) {}\n\n\t\t\tswitch(data.type) {\n\t\t\t\tcase 'image/png':\n\t\t\t\tcase 'image/jpg':\n\t\t\t\tcase 'image/jpeg':\n\t\t\t\tcase 'image/gif':\n\t\t\t\t\tthis.$refs.tabs.addTab(this.makeTitle(title, \"Image\"), \"fa-image\", data, null, true, true);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'application/json':\n\t\t\t\tcase 'text/plain':\n\t\t\t\tcase 'text/csv':\n\t\t\t\t\tthis.$refs.tabs.addTab(this.makeTitle(title, \"Data\"), \"fa-database\", data, null, true, true);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'image/tiff':\n\t\t\t\t\tif (data.url && data.parameters.application === 'geotiff') {\n\t\t\t\t\t\tthis.showMapViewer();\n\t\t\t\t\t\tthis.$refs.mapViewer.updateGeoTiffLayer(data.url, this.makeTitle(title, \"GeoTiff\"));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t// else: Default behavior\n\t\t\t\tdefault:\n\t\t\t\t\tif (data.blob instanceof Blob) {\n\t\t\t\t\t\tOpenEO.Environment.saveToFile(data.blob, Utils.makeFileName(\"result\", data.type));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (data.url) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlet response = await this.connection._get(data.url, \"\", \"blob\");\n\t\t\t\t\t\t\tlet filename = Utils.getFileNameFromURL(data.url);\n\t\t\t\t\t\t\tif (response.data instanceof Blob) {\n\t\t\t\t\t\t\t\tOpenEO.Environment.saveToFile(response.data, Utils.makeFileName(filename, data.type));\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tUtils.error(this, 'Sorry, content type not supported by the viewer and can\\'t be downloaded.');\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#mapCanvas {\n\theight: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Viewer.vue?vue&type=template&id=101fecd4&\"\nimport script from \"./Viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./Viewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Viewer.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div id=\"wrapper\">\n\t\t<div id=\"ide\" @mouseup=\"stopMovingSeparator($event)\" @mousemove=\"moveSeparator($event)\">\n\t\t\t<header class=\"navbar\">\n\t\t\t\t<div class=\"logo\">\n\t\t\t\t\t<img src=\"../assets/logo.png\" alt=\"openEO\" />\n\t\t\t\t\t<h2>Web Editor <span class=\"version\" @click=\"showWebEditorInfo\">{{ version }}</span></h2>\n\t\t\t\t</div>\n\t\t\t\t<ul id=\"menu\">\n\t\t\t\t\t<li><div class=\"menuItem\" @click=\"showServerInfo\" title=\"Get server information\"><i class=\"fas fa-info fa-fw\"></i> Server</div></li>\n\t\t\t\t\t<li><UserMenu /></li>\n\t\t\t\t</ul>\n\t\t\t</header>\n\t\t\t<main class=\"page\">\n\t\t\t\t<div id=\"discovery\" ref=\"discovery\">\n\t\t\t\t\t<DiscoveryToolbar class=\"toolbar\" :onAddProcess=\"insertProcess\" />\n\t\t\t\t</div>\n\t\t\t\t<hr class=\"separator\" ref=\"separator0\" @dblclick=\"centerSeparator($event, 0)\" @mousedown=\"startMovingSeparator($event, 0)\" />\n\t\t\t\t<div id=\"workspace\" ref=\"workspace\">\n\t\t\t\t\t<Editor ref=\"editor\" class=\"mainEditor\" id=\"main\" :value=\"process\" @input=\"updateEditor\" :title=\"contextTitle\">\n\t\t\t\t\t\t<template #file-toolbar>\n\t\t\t\t\t\t\t<button type=\"button\" v-show=\"saveSupported\" @click=\"saveProcess\" :title=\"'Save to ' + contextTitle\"><i class=\"fas fa-save\"></i></button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Editor>\n\t\t\t\t\t<UserWorkspace class=\"userContent\" v-if=\"isAuthenticated\" />\n\t\t\t\t</div>\n\t\t\t\t<hr class=\"separator\" ref=\"separator1\" @dblclick=\"centerSeparator($event, 1)\" @mousedown=\"startMovingSeparator($event, 1)\" />\n\t\t\t\t<div id=\"viewer\" ref=\"viewer\">\n\t\t\t\t\t<Viewer />\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t\t<CollectionModal ref=\"collectionModal\" />\n\t\t<ProcessModal ref=\"processModal\" />\n\t\t<ServerInfoModal ref=\"serverInfoModal\" />\n\t\t<ServiceInfoModal ref=\"serviceModal\" />\n\t\t<JobInfoModal ref=\"jobModal\" />\n\t\t<ParameterModal ref=\"parameterModal\" />\n\t\t<SchemaModal ref=\"schemaModal\" />\n\t\t<UdfRuntimeModal ref=\"udfRuntimeModal\" />\n\t\t<FileFormatModal ref=\"fileFormatModal\" />\n\t\t<JobEstimateModal ref=\"jobEstimateModal\" />\n\t</div>\n</template>\n\n<script>\nimport Package from '../../package.json';\nimport EventBusMixin from './EventBusMixin.vue';\nimport Utils from '../utils.js';\nimport UserMenu from './UserMenu.vue';\nimport UserWorkspace from './UserWorkspace.vue';\nimport Viewer from './Viewer.vue';\nimport Editor from './Editor.vue';\nimport DiscoveryToolbar from './DiscoveryToolbar.vue';\nimport { ProcessParameter } from './blocks/processSchema';\nimport { Job, Service, UserProcess } from '@openeo/js-client';\n\nexport default {\n\tname: 'IDE',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tDiscoveryToolbar,\n\t\tEditor,\n\t\tViewer,\n\t\tUserMenu,\n\t\tUserWorkspace,\n\t\tCollectionModal: () => import('./modals/CollectionModal.vue'),\n\t\tProcessModal: () => import('./modals/ProcessModal.vue'),\n\t\tServerInfoModal: () => import('./modals/ServerInfoModal.vue'),\n\t\tJobInfoModal: () => import('./modals/JobInfoModal.vue'),\n\t\tJobEstimateModal: () => import('./modals/JobEstimateModal.vue'),\n\t\tServiceInfoModal: () => import('./modals/ServiceInfoModal.vue'),\n\t\tParameterModal: () => import('./modals/ParameterModal.vue'),\n\t\tSchemaModal: () => import('./modals/SchemaModal.vue'),\n\t\tFileFormatModal: () => import('./modals/FileFormatModal.vue'),\n\t\tUdfRuntimeModal: () => import('./modals/UdfRuntimeModal.vue'),\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmoving: false,\n\t\t\tmovingOffset: 0,\n\t\t\tseparators: [\n\t\t\t\t{\n\t\t\t\t\tleft: 'discovery',\n\t\t\t\t\tright: 'workspace',\n\t\t\t\t\tanchor: 'left',\n\t\t\t\t\twidth: '20%'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tleft: 'workspace',\n\t\t\t\t\tright: 'viewer',\n\t\t\t\t\tanchor: 'right',\n\t\t\t\t\twidth: '30%'\n\t\t\t\t}\n\t\t\t],\n\t\t\tversion: Package.version,\n\t\t\tresizeListener: null,\n\t\t\tuserInfoUpdater: null\n\t\t};\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connection']),\n\t\t...Utils.mapState('editor', ['context', 'process']),\n\t\t...Utils.mapGetters(['title', 'isAuthenticated', 'apiVersion']),\n\t\t...Utils.mapGetters('jobs', {supportsJobUpdate: 'supportsUpdate'}),\n\t\t...Utils.mapGetters('services', {supportsServiceUpdate: 'supportsUpdate'}),\n\t\t...Utils.mapGetters('userProcesses', {getProcessById: 'getAllById', supportsUserProcessUpdate: 'supportsUpdate'}),\n\t\tcontextTitle() {\n\t\t\treturn this.context !== null ? Utils.getResourceTitle(this.context, true) : ''\n\t\t},\n\t\tsaveSupported() {\n\t\t\treturn this.context !== null && (\n\t\t\t\t(this.context instanceof Job && this.supportsJobUpdate) ||\n\t\t\t\t(this.context instanceof Service && this.supportsServiceUpdate) ||\n\t\t\t\t(this.context instanceof UserProcess && this.supportsUserProcessUpdate)\n\t\t\t);\n\t\t}\n\t},\n\tasync created() {\n\t\ttry {\n\t\t\tawait this.loadInitialProcess();\n\t\t} catch (error) {\n\t\t\tUtils.exception(this, error, \"Loading process failed\");\n\t\t}\n\n\t},\n\tmounted() {\n\t\tthis.listen('showCollection', this.showCollectionInfo);\n\t\tthis.listen('showProcess', this.showProcessInfoById);\n\t\tthis.listen('showJobInfo', this.showJobInfo);\n\t\tthis.listen('showJobEstimate', this.showJobEstimate);\n\t\tthis.listen('showProcessInfo', this.showProcessInfo);\n\t\tthis.listen('showServiceInfo', this.showServiceInfo);\n\t\tthis.listen('showUdfRuntimeInfo', this.showUdfRuntimeInfo);\n\t\tthis.listen('showFileFormatInfo', this.showFileFormatInfo);\n\t\tthis.listen('showSchema', this.showSchemaInfo);\n\t\tthis.listen('showDataForm', this.showDataForm);\n\t\tthis.listen('editProcess', this.editProcess);\n\n\t\tthis.resizeListener = (event) => this.emit('windowResized', event);\n\t\twindow.addEventListener('resize', this.resizeListener);\n\t\tif (this.isAuthenticated) {\n\t\t\tthis.userInfoUpdater = setInterval(this.describeAccount, this.$config.dataRefreshInterval*60*1000); // Refresh user data every x minutes\n\t\t}\n\t\tthis.emit('title', this.title);\n\t},\n\tbeforeDestroy() {\n\t\tif (this.resizeListener !== null) {\n\t\t\twindow.removeEventListener('resize', this.resizeListener);\n\t\t}\n\t\tif (this.userInfoUpdater !== null) {\n\t\t\tclearInterval(this.userInfoUpdater);\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['describeAccount', 'describeCollection']),\n\t\t...Utils.mapActions('userProcesses', {readUserProcess: 'read'}),\n\t\t...Utils.mapActions('editor', ['loadInitialProcess']),\n\t\t...Utils.mapMutations('editor', ['setContext', 'setProcess']),\n\n\t\tsaveProcess() {\n\t\t\tthis.emit('replaceProcess', this.context, this.process);\n\t\t},\n\n\t\tupdateEditor(value) {\n\t\t\tthis.setProcess(value);\n\t\t\tif (value === null) {\n\t\t\t\tthis.setContext(null);\n\t\t\t}\n\t\t},\n\n\t\teditProcess(obj) {\n\t\t\tthis.setContext(obj);\n\t\t},\n\n\t\tinsertProcess(node) {\n\t\t\tthis.$refs.editor.insertProcess(node);\n\t\t},\n\n\t\tstartMovingSeparator(evt, id) {\n\t\t\tthis.moving = false;\n\t\t\tif (evt.which === 1) {\n\t\t\t\tthis.moving = id;\n\t\t\t}\n\t\t},\n\n\t\tstopMovingSeparator(evt) {\n\t\t\tthis.moving = false;\n\t\t},\n\n\t\tmoveSeparator(evt) {\n\t\t\tif (this.moving !== false && this.separators[this.moving] && evt.movementX !== 0) {\n\t\t\t\tvar sep = this.separators[this.moving];\n\t\t\t\tvar elem = this.$refs[sep[sep.anchor]];\n\t\t\t\tvar x;\n\t\t\t\tif (sep.anchor === 'right') {\n\t\t\t\t\tx = Math.max(document.body.scrollWidth, document.documentElement.scrollWidth, document.body.offsetWidth, document.documentElement.offsetWidth, document.documentElement.clientWidth) - evt.x;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tx = evt.x;\n\t\t\t\t}\n\t\t\t\telem.style.width = x + 'px';\n\t\t\t\tthis.emit('windowResized', evt);\n\t\t\t\tevt.preventDefault();\n\t\t\t\tevt.stopPropagation();\n\t\t\t}\n\t\t},\n\n\t\tcenterSeparator(event, id) {\n\t\t\tthis.moving = false;\n\t\t\tvar sep = this.separators[id];\n\t\t\tif (!sep) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar elem = this.$refs[sep[sep.anchor]];\n\t\t\tif (elem.getBoundingClientRect().width < 220) {\n\t\t\t\telem.style.width = sep.width;\n\t\t\t}\n\t\t\telse {\n\t\t\t\telem.style.width = 0;\n\t\t\t}\n\t\t\tthis.emit('windowResized', event);\n\t\t},\n\n\t\tshowCollectionInfo(id) {\n\t\t\tthis.describeCollection(id)\n\t\t\t\t.then(info => this.$refs.collectionModal.show(info))\n\t\t\t\t.catch(error => Utils.error(this, \"Sorry, can't load collection details for \" + id + \".\"));\n\t\t},\n\n\t\tshowProcessInfoById(id) {\n\t\t\tthis._showProcessInfo(this.getProcessById(id));\n\t\t},\n\n\t\tshowProcessInfo(process) {\n\t\t\tthis._showProcessInfo(process);\n\t\t},\n\n\t\tshowUdfRuntimeInfo(id, data, version = null) {\n\t\t\tthis.$refs.udfRuntimeModal.show(id, data, version);\n\t\t},\n\n\t\tshowFileFormatInfo(id, format, type) {\n\t\t\tthis.$refs.fileFormatModal.show(id, format, type);\n\t\t},\n\n\t\tshowSchemaInfo(name, schema, msg = null) {\n\t\t\tif (msg === null) {\n\t\t\t\tmsg = \"This is a parameter for a user-defined process.\\n\"\n\t\t\t\t\t+ \"It is a value made available by the parent entity (usually another process or a secondary web service) that is executing this processes for further use.\\n\"\n\t\t\t\t\t+ \"The value will comply to the following data type(s):\";\n\t\t\t}\n\t\t\tthis.$refs.schemaModal.show(name, schema, msg);\n\t\t},\n\n\t\t_showProcessInfo(process) {\n\t\t\tif (!process.native) {\n\t\t\t\tthis.readUserProcess({data: process})\n\t\t\t\t\t.then(updated => this._showProcessInfoModal(updated.toJSON()))\n\t\t\t\t\t.catch(error => Utils.exception(this, error, \"Load Process Error: \" + process.id));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._showProcessInfoModal(process);\n\t\t\t}\n\t\t},\n\n\t\t_showProcessInfoModal(process) {\n\t\t\tthis.$refs.processModal.show(process);\n\t\t},\n\n\t\tshowServiceInfo(service) {\n\t\t\tthis.$refs.serviceModal.show(service);\n\t\t},\n\n\t\tshowJobInfo(job, result = null) {\n\t\t\tthis.$refs.jobModal.show(job, result);\n\t\t},\n\n\t\tshowJobEstimate(job, estimate) {\n\t\t\tthis.$refs.jobEstimateModal.show(job, estimate);\n\t\t},\n\n\t\tshowServerInfo() {\n\t\t\tthis.$refs.serverInfoModal.show();\n\t\t},\n\n\t\tshowWebEditorInfo() {\n\t\t\tthis.emit('showWebEditorInfo');\n\t\t},\n\n\t\tshowDataForm(title, fields, saveCallback = null, closeCallback = null) {\n\t\t\tvar editable = typeof saveCallback === 'function';\n\t\t\tvar values = {};\n\t\t\tvar parameters = [];\n\t\t\tfor(let field of fields) {\n\t\t\t\tif (field === null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tparameters.push(new ProcessParameter(field));\n\t\t\t\tvalues[field.name] = field.value;\n\t\t\t}\n\t\t\tthis.$refs.parameterModal.show(title, parameters, values, editable, saveCallback, closeCallback);\n\t\t}\n\n\t}\n}\n</script>\n\n<style>\n#ide {\n\tmargin-top: 80px;\n\theight: calc(100% - 80px);\n\tbackground-color: white;\n}\n#ide main, #workspace, #viewer, #wrapper {\n\theight: 100%;\n}\n#discovery {\n\twidth: 20%;\n\tmin-width: 200px;\n}\n#discovery .search-box {\n\tmargin: 1em;\n}\n#discovery .category {\n\tpadding: 5px 1em;;\n}\n#workspace, #viewer {\n\tbox-sizing: border-box;\n\tpadding: 1em;\n}\n#workspace {\n\tflex-grow: 1;\n\tmin-width: 300px;\n\twidth: 300px; /* Set a fixed size so that the box doesn't change size when tabs are changed or so. flex-grow will make the width larger/smaller anyway */\n\tdisplay: flex;\n\tflex-direction: column;\n}\n#viewer {\n\tmin-width: 200px;\n\twidth: 25%;\n}\n.mainEditor, .userContent {\n\theight: calc(50% - 1em);\n\tflex-grow: 1;\n}\n.separator {\n\tborder: 0;\n\tpadding: 3px;\n\tmargin: 0;\n\tborder-right: 1px dotted #65421F;\n\tborder-left: 1px dotted #65421F;\n\tcursor: e-resize;\n}\n.infoViewer {\n\theight: 450px;\n}\n#ide header.navbar {\n\twidth: 100%;\n\tbackground-color: #1665B6;\n\tcolor: white;\n\theight: 80px;\n\tposition: fixed;\n\ttop: 0;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tz-index: 100;\n}\n#ide main.page {\n\tdisplay: flex;\n}\n#ide .logo {\n\tmargin: 10px 1em;\n\tdisplay: inline-block;\n\talign-content: flex-start;\n\toverflow: hidden;\n}\n#ide .logo h2 {\n\tcolor: white;\n}\n#ide .logo .version {\n\tbackground-color: #1665B6;\n\tcolor: white;\n}\n#ide .logo .version:hover {\n\tbackground-color: white;\n\tcolor: #1665B6;\n}\n#menu {\n\tlist-style-type: none;\n\tmargin: 0 1em;\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n}\n#menu li {\n\tposition: relative;\n\tdisplay: inline-block;\n\theight: 80px;\n}\n#menu li:hover {\n\tbackground-color: white;\n\tcolor: #1665B6;\n}\n#menu li:hover .dropdown {\n\tdisplay: block;\n\tborder-color: #ddd;\n\tborder-style: solid;\n\tborder-width: 0 1px 1px 1px;\n}\n#menu li .menuItem {\n\tdisplay: flex;\n\talign-items: center;\n\tcursor: pointer;\n\tpadding: 10px 20px;\n\theight: 60px;\n\tfont-size: 16px;\n\tfont-weight: bold;\n}\n#menu li .dropdown {\n\tdisplay: none;\n\tposition: absolute;\n\tbackground-color: white;\n\tcolor: black;\n\tmin-width: 200px;\n\tbox-shadow: 8px 8px 8px 0px rgba(0,0,0,0.3);\n\ttop: 80px;\n\tright: -1px;\n}\n#menu li .dropdown .item {\n\tpadding: 10px;\n\tborder-top: 1px dotted #ccc;\n}\n#menu li .dropdown .item:first-of-type {\n\tborder-top: 0;\n}\n#menu li .dropdown .item button {\n\twidth: 100%;\n}\n\n.tabContent .dataTable, .tabContent table {\n\twidth: 100%;\n\tborder-collapse: collapse;\n\tfont-size: 0.95em;\n}\n.tabContent table td,\n.tabContent table th {\n\tborder: 1px solid #ddd;\n\tpadding: 3px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IDE.vue?vue&type=template&id=145d5c0c&\"\nimport script from \"./IDE.vue?vue&type=script&lang=js&\"\nexport * from \"./IDE.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IDE.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}